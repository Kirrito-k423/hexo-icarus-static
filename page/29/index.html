<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>SHAOJIE&#039;S BOOK</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="SHAOJIE&#039;S BOOK"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="SHAOJIE&#039;S BOOK"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="SHAOJIE&#039;S BOOK"><meta property="og:url" content="http://icarus.shaojiemike.top/"><meta property="og:site_name" content="SHAOJIE&#039;S BOOK"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://icarus.shaojiemike.top/img/og_image.png"><meta property="article:author" content="Shaojie Tan"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://icarus.shaojiemike.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icarus.shaojiemike.top"},"headline":"SHAOJIE'S BOOK","image":["http://icarus.shaojiemike.top/img/og_image.png"],"author":{"@type":"Person","name":"Shaojie Tan"},"publisher":{"@type":"Organization","name":"SHAOJIE'S BOOK","logo":{"@type":"ImageObject","url":"http://icarus.shaojiemike.top/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-03-06T16:00:00.000Z" title="3/6/2022, 4:00:00 PM">2022-03-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.986Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">2 minutes read (About 291 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/06/Work/Programming/2-languageGrammar/bashScripting/">Bash Scripting</a></p><div class="content"><h2 id="Bash-scripting-cheatsheet"><a href="#Bash-scripting-cheatsheet" class="headerlink" title="Bash scripting cheatsheet"></a>Bash scripting cheatsheet</h2><p><a target="_blank" rel="noopener" href="https://devhints.io/bash">https://devhints.io/bash</a></p>
<h2 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SCRIPT_DIR=&quot;$(dirname $0)&quot;</span><br><span class="line">export HOSTNAME=&quot;$(hostname)&quot;</span><br></pre></td></tr></table></figure>
<h3 id="check-Environment"><a href="#check-Environment" class="headerlink" title="check Environment"></a>check Environment</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if [[ -z &quot;$&#123;ITHEMAL_HOME&#125;&quot; ]]; then</span><br><span class="line">    echo &quot;ITHEMAL_HOME environment variable must be set!&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h2 id="yes-no-input"><a href="#yes-no-input" class="headerlink" title="yes&#x2F;no input"></a>yes&#x2F;no input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function container_id() &#123;</span><br><span class="line">    sudo docker ps -q --filter &#x27;name=ithemal$&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CONTAINER=&quot;$(container_id)&quot;</span><br><span class="line"></span><br><span class="line">if [[ -z &quot;$&#123;CONTAINER&#125;&quot; ]]; then</span><br><span class="line">    read -p &quot;Container is not currently running. Would you like to start it? (y/n) &quot; -r</span><br><span class="line"></span><br><span class="line">    if [[ !($REPLY =~ ^[Yy]) ]]; then</span><br><span class="line">	echo &quot;Not starting.&quot;</span><br><span class="line">	exit 1</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    # others</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h2 id="functions"><a href="#functions" class="headerlink" title="functions"></a>functions</h2><h3 id="get-sudo"><a href="#get-sudo" class="headerlink" title="get_sudo"></a>get_sudo</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">get_sudo</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> ! sudo -S <span class="literal">true</span> &lt; /dev/null 2&gt; /dev/null; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;sudo access required for docker:&quot;</span></span><br><span class="line">        sudo <span class="literal">true</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&#x2F;dev&#x2F;null是一个几乎不管向它写入什么，都只返回成功，但是什么都没真的写入的文件。换句话说就是个“无底洞”，扔进去的东西肯定算扔进去了，但是扔进去就看不见了。</p>
<h3 id="tmux-attach"><a href="#tmux-attach" class="headerlink" title="tmux attach"></a>tmux attach</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env bash</span><br><span class="line"></span><br><span class="line">SESSION=$(tmux ls -F &#x27;#S #&#123;session_attached&#125;&#x27; | grep &#x27; 0$&#x27; | head -n 1 | awk &#x27;&#123;$NF=&quot;&quot;; print $0&#125;&#x27; | awk &#x27;&#123;$1=$1;print&#125;&#x27;)</span><br><span class="line"></span><br><span class="line">if [ ! -z &quot;$&#123;SESSION&#125;&quot; ]; then</span><br><span class="line">    tmux attach -t &quot;$&#123;SESSION&#125;&quot;</span><br><span class="line">else</span><br><span class="line">    tmux new &quot;bash -l&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h2 id="argument"><a href="#argument" class="headerlink" title="argument"></a>argument</h2><p><code>$?</code> is a special variable in shell that reads the exit status of the last command executed.</p>
<p><code>$@</code> refers to all of a shell script’s command-line arguments. <code>$1</code> , <code>$2</code> , etc., refer to the first command-line argument, the second command-line argument</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-03-06T09:55:27.000Z" title="3/6/2022, 9:55:27 AM">2022-03-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.986Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">a few seconds read (About 48 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/06/Work/Programming/1-env/terminal/powershell/">Powershell</a></p><div class="content"><p><a target="_blank" rel="noopener" href="https://shaojiemike.notion.site/powershell-a911ddbfca564b0f91dbe141d9169259">https://shaojiemike.notion.site/powershell-a911ddbfca564b0f91dbe141d9169259</a></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-02-22T10:35:16.000Z" title="2/22/2022, 10:35:16 AM">2022-02-22</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.998Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">7 minutes read (About 995 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/02/22/Work/software/manager/pip/">Pip</a></p><div class="content"><h2 id="发布自己的pip包"><a href="#发布自己的pip包" class="headerlink" title="发布自己的pip包"></a>发布自己的pip包</h2><p>一、注册自己的 PyPi 帐号</p>
<p>也可以是自己搭的 PyPi私服仓库的账号</p>
<p>二、依据自己的项目目录，创建setup.py</p>
<p>如下图所示，agent_cli是我整体的项目，我想要将pip-test目录下的代码打包上传到Pypi仓库中；</p>
<p>在pip-test的同级目录，创建setup.py文件</p>
<p><img src="https://img2020.cnblogs.com/blog/1745584/202007/1745584-20200715180532904-686172821.png"></p>
<p>三、 编写自己的setup.py文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup, find_packages</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    name=<span class="string">&#x27;tsjPython&#x27;</span>,  <span class="comment"># 打包后的包文件名</span></span><br><span class="line">    version=<span class="string">&#x27;0.1&#x27;</span>,  <span class="comment"># 版本号</span></span><br><span class="line">    keywords=(<span class="string">&quot;tsj&quot;</span>),    <span class="comment"># 关键字</span></span><br><span class="line">    description=<span class="string">&#x27;personal code for tsj&#x27;</span>,  <span class="comment"># 说明</span></span><br><span class="line">    long_description=<span class="string">&quot;none&quot;</span>,  <span class="comment"># 详细说明</span></span><br><span class="line">    license=<span class="string">&quot;MIT Licence&quot;</span>,  <span class="comment"># 许可</span></span><br><span class="line">    url=<span class="string">&#x27;http://home.ustc.edu.cn/~shaojiemike&#x27;</span>,</span><br><span class="line">    author=<span class="string">&#x27;Shaojie Tan&#x27;</span>,</span><br><span class="line">    author_email=<span class="string">&#x27;shaojiemike@mail.ustc.edu.cn&#x27;</span>,</span><br><span class="line">    <span class="comment"># packages=find_packages(),     #这个参数是导入目录下的所有__init__.py包</span></span><br><span class="line">    include_package_data=<span class="literal">True</span>,</span><br><span class="line">    platforms=<span class="string">&quot;any&quot;</span>,</span><br><span class="line">    install_requires=[<span class="string">&#x27;termcolor&#x27;</span>,</span><br><span class="line">                      <span class="string">&#x27;plotille&#x27;</span>],    <span class="comment"># 引用到的第三方库</span></span><br><span class="line">    <span class="comment"># py_modules=[&#x27;pip-test.DoRequest&#x27;, &#x27;pip-test.GetParams&#x27;, &#x27;pip-test.ServiceRequest&#x27;,</span></span><br><span class="line">    <span class="comment">#             &#x27;pip-test.ts.constants&#x27;, &#x27;pip-test.ac.Agent2C&#x27;,</span></span><br><span class="line">    <span class="comment">#             &#x27;pip-test.ts.ttypes&#x27;, &#x27;pip-test.ac.constants&#x27;,</span></span><br><span class="line">    <span class="comment">#             &#x27;pip-test.__init__&#x27;],  # 你要打包的文件，这里用下面这个参数代替</span></span><br><span class="line">    packages=[<span class="string">&#x27;tsjPython&#x27;</span>]  <span class="comment"># 这个参数是导入目录下的所有__init__.py包</span></span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>四、打包自己的项目</p>
<p>执行下述两条命令</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python setup.py build  　　<span class="comment">#执行此命令后，会生成上面图片中build的目录，目录层级是  build/lib/pip-test,  pip-test目录下就是你打包文件解压后的结果，可以在此查看打包的代码是否完整</span></span><br><span class="line"></span><br><span class="line">python setup.py sdist　　  <span class="comment"># 执行此命令后，就会在dist目录下生成压缩包文件 .tar.gz</span></span><br></pre></td></tr></table></figure>

<p>五、上传到PyPi服务器</p>
<p>在上传前，要建一个文件，<code>$HOME/.pypirc</code>，<code>$HOME</code>目录在linux或者mac系统下就是~&#x2F;目录。在这里建一个 <code>.pypirc</code>文件。里边的内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[distutils]</span><br><span class="line">index-servers = pypi</span><br><span class="line"> </span><br><span class="line">[pypi]</span><br><span class="line">username:你的PyPi用户名</span><br><span class="line">password:你的PyPi密码</span><br></pre></td></tr></table></figure>

<p>或者使用token.</p>
<p>注册好之后，生成一个 token：<a target="_blank" rel="noopener" href="https://pypi.org/manage/account/#api-tokens%E3%80%82%E7%94%B1%E4%BA%8E%E6%88%91%E4%BB%AC%E6%98%AF%E8%A6%81%E4%B8%8A%E4%BC%A0%E6%96%B0%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%89%80%E4%BB%A5%E4%B8%8D%E8%A6%81%E9%99%90%E5%88%B6">https://pypi.org/manage/account/#api-tokens。由于我们是要上传新项目，所以不要限制</a> scope 到特定的项目。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[pypi]</span><br><span class="line">username = __token__</span><br><span class="line">password = &lt;换成你刚刚复制下来的 token, 包括 `pypi-` 前缀&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>提前安装 <code>py -m pip install --upgrade twine</code></p>
<p>执行此命令： <code>twine upload dist/XXXXX-0.1.0.tar.gz</code>   上传你刚刚打包好的压缩包</p>
<p>六、安装使用</p>
<p>使用 <code>pip install XXX</code>   就可以轻松使用</p>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">requests.exceptions.ProxyError: HTTPSConnectionPool(host=&#x27;upload.pypi.org&#x27;, port=443): Max retries exceeded with url: /legacy/ (Caused by ProxyError(&#x27;Cannot connect to proxy.&#x27;, OSError(0, &#x27;Error&#x27;)))</span><br></pre></td></tr></table></figure>

<p>不要挂代理</p>
<h3 id="开发测试包"><a href="#开发测试包" class="headerlink" title="开发测试包"></a>开发测试包</h3><p>如果为了测试而上传代码，会占用版号。</p>
<p>可以通过先安装在本地来实现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install packageName</span><br><span class="line">pip uninstall packageName</span><br></pre></td></tr></table></figure>
<p>使用 setup.py 安装的包会被复制到当前环境的 site-packages 目录下，这意味着，一旦我们修改了包的源代码，就需要重新安装它。</p>
<p>这常常是集中开发过程中的一个问题，因为很容易忘记需要再次执行安装，这就是为什么 setuptools 提供了一个额外的 develop 命令的重要原因。</p>
<p><code>develop</code> 命令的完整格式为<code>Python setup.py develop</code>，该命令允许我们在开发模式下安装包，它会在部署目录（site-packages）时创建一个指向项目源代码的特殊链接，而不是将整个包复制过去，从而实现<strong>在编辑包的源代码之后无需再重新安装</strong>，并且它在 <code>sys.path</code> 中可用，就像正常安装一样。</p>
<p>pip 也支持用这种模式来安装包，这个安装选项叫作可编辑模式，可以使用 install 命令的 -<code>e</code> 参数来启用，代码格式如下：<br><code>pip install -e 包路径</code></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'>https://www.cnblogs.com/weisunblog/p/13307174.html</div>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-02-05T16:00:00.000Z" title="2/5/2022, 4:00:00 PM">2022-02-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.986Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">7 minutes read (About 1046 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/02/05/Work/Programming/2-languageGrammar/Rust/">Rust</a></p><div class="content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Rust 速度惊人且内存利用率极高。由于没有运行时和垃圾回收，它能够胜任对性能要求特别高的服务，可以在嵌入式设备上运行，还能轻松和其他语言集成。</p>
<p>Rust 丰富的类型系统和所有权模型保证了内存安全和线程安全，让您在编译期就能够消除各种各样的错误。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>异常简单,默认安装在自己<code>.local/bin</code>下，会自动修改<code>bashrc/zshrc</code><br>On Linux and macOS systems, this is done as follows:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://sh.rustup.rs -sSf | sh</span><br></pre></td></tr></table></figure>


<h2 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h2><h3 id="printf"><a href="#printf" class="headerlink" title="printf"></a>printf</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">impl ClassName &#123;</span><br><span class="line">	pub fn printFunc() &#123;</span><br><span class="line">		let a = 12;</span><br><span class="line">		println!(&quot;a is &#123;0&#125;, a again is &#123;0&#125;&quot;, a); </span><br><span class="line">		//println 不是一个函数，而是一个宏规则。所以有感叹号</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>Rust 是强类型语言，但具有自动判断变量类型的能力。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//可以指定类型</span><br><span class="line">let a: u64 = 123;</span><br><span class="line">//不可变变量</span><br><span class="line">let a = 123;</span><br><span class="line">let a = 456; //不是复制是，重新绑定</span><br><span class="line">let s2 = s1.clone(); //这才是真复制</span><br><span class="line">//变量</span><br><span class="line">let mut a = 123;</span><br><span class="line">a = 456;</span><br><span class="line">//常量</span><br><span class="line">const a: i32 = 123;</span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h4><p>Rust 函数声明返回值类型的方式：在参数声明之后用 <code>-&gt;</code> 来声明函数返回值的类型（不是 <code>:</code> ）。</p>
<p>不写return是将最后一个当作返回值？（貌似是</p>
<h2 id="Rust是如何实现内存安全的呢？"><a href="#Rust是如何实现内存安全的呢？" class="headerlink" title="Rust是如何实现内存安全的呢？"></a>Rust是如何实现内存安全的呢？</h2><h3 id="内存安全"><a href="#内存安全" class="headerlink" title="内存安全"></a>内存安全</h3><ol>
<li>buffer overflow</li>
<li>null pointer dereference</li>
<li>use after free</li>
<li>use of uninitialized memory</li>
<li>illegal free (of an already-freed pointer, or a non-malloced pointer)</li>
</ol>
<h3 id="所有权"><a href="#所有权" class="headerlink" title="所有权"></a>所有权</h3><p>所有权对大多数开发者而言是一个新颖的概念，它是 Rust 语言为高效使用内存而设计的语法机制。所有权概念是为了让 Rust 在<strong>编译</strong>阶段更有效地分析内存资源的有用性以实现内存管理而诞生的概念。</p>
<h4 id="所有权三规则"><a href="#所有权三规则" class="headerlink" title="所有权三规则"></a>所有权三规则</h4><ol>
<li>Rust 中的每个值都有一个变量，称为其所有者。</li>
<li>一次只能有一个所有者。</li>
<li>当所有者不在程序运行范围时，该值将被删除。</li>
</ol>
<h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>如果我们定义了一个变量并给它赋予一个值，这个变量的值存在于内存中。这种情况很普遍。但如果我们需要<strong>储存的数据长度不确定</strong>（比如用户输入的一串字符串），我们就无法在定义时明确数据长度，也就<strong>无法在编译阶段令程序分配固定长度的内存空间供数据储存使用</strong>。（有人说分配尽可能大的空间可以解决问题，但这个方法很不文明）。这就需要提供一种在<strong>程序运行时程序自己申请使用内存的机制——堆</strong>。本章所讲的所有”内存资源”都指的是堆所占用的内存空间。</p>
<p>有分配就有释放，程序不能一直占用某个内存资源。因此决定资源是否浪费的关键因素就是资源有没有及时的释放。</p>
<p>我们把字符串样例程序用 C 语言等价编写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    char *s = (char *)malloc(sizeof(char)*10);</span><br><span class="line">	s = &quot;nhooo&quot;; //伪代码了</span><br><span class="line">    free(s); // 释放 s 资源</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>很显然，Rust 中没有调用 free 函数来释放字符串 s 的资源（假设 “nhooo” 在堆中，这里）。Rust 之所以没有明示释放的步骤是因为在变量范围结束的时候，Rust 编译器<strong>自动添加了调用释放资源函数的步骤</strong>。</p>
<p>这种机制看似很简单了：它不过是帮助程序员在适当的地方添加了一个释放资源的函数调用而已。但这种简单的机制可以有效地解决一个史上最令程序员头疼的编程问题。</p>
<p><a target="_blank" rel="noopener" href="https://hashrust.com/blog/memory-safey-in-rust-part-1/">https://hashrust.com/blog/memory-safey-in-rust-part-1/</a></p>
<p><a target="_blank" rel="noopener" href="https://deathking.github.io/2020/08/03/blue-team-rust-what-is-memory-safety-really/">https://deathking.github.io/2020/08/03/blue-team-rust-what-is-memory-safety-really/</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000041151698">https://segmentfault.com/a/1190000041151698</a></p>
<p><a target="_blank" rel="noopener" href="https://bbs.huaweicloud.com/blogs/193974">https://bbs.huaweicloud.com/blogs/193974</a></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-30T16:00:00.000Z" title="1/30/2022, 4:00:00 PM">2022-01-30</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.978Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Artificial-Intelligence/">Artificial Intelligence</a></span><span class="level-item">6 minutes read (About 827 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/30/Work/Artificial%20Intelligence/MLOptimizer/">MLOptimizer</a></p><div class="content"><h2 id="Gradient-Descent-（GD）"><a href="#Gradient-Descent-（GD）" class="headerlink" title="Gradient Descent （GD）"></a>Gradient Descent （GD）</h2><p>梯度下降法，最基本的优化方法，沿着负梯度的方向更新参数，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x += - learning_rate * dx //学习率*梯度</span><br></pre></td></tr></table></figure>
<p>梯度直接更新位置。<br>梯度下降法相关的优化方法容易产生震荡，且容易被困在鞍点，迟迟不能到达全局最优值。</p>
<h2 id="动量法"><a href="#动量法" class="headerlink" title="动量法"></a>动量法</h2><p>梯度先更新速度然后更新位置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v = mu * v - learning_rate * dx # 梯度影响速度</span><br><span class="line">x += v # 速度决定位置</span><br></pre></td></tr></table></figure>
<p>可以加快收敛并减小震荡.</p>
<h2 id="Stochastic-Gradient-Descent-（SGD）随机"><a href="#Stochastic-Gradient-Descent-（SGD）随机" class="headerlink" title="Stochastic Gradient Descent （SGD）随机"></a>Stochastic Gradient Descent （SGD）随机</h2><p>对于问题<img src="https://pic.shaojiemike.top/img/20220131113350.png"><br>梯度下降每一次迭代都需要出所有的梯度，即每一次算n个梯度，进行下面的迭代<img src="https://pic.shaojiemike.top/img/20220131113422.png"><br>而随机梯度下降，每一次选一个函数计算梯度，然后迭代，减少了计算量，而且一般收敛效果更好。<img src="https://pic.shaojiemike.top/img/20220131113516.png"></p>
<h2 id="Root-Mean-Square-prop-RMSprop"><a href="#Root-Mean-Square-prop-RMSprop" class="headerlink" title="Root Mean Square prop (RMSprop)"></a>Root Mean Square prop (RMSprop)</h2><p>由于指数加权平均，各数值的加权而随时间而指数式递减，越近期的数据加权越重，但较旧的数据也给予一定的加权。</p>
<p>RMSprop采用梯度平方的指数加权平均。<br>$$cache &#x3D; decay_rate * cache + (1 - decay_rate) * dx^2 $$<br>$$x +&#x3D; - learning_rate * \frac{dx }{\sqrt{cache}+eps})$$</p>
<h2 id="Adaptive-Moment-estimation-Adam"><a href="#Adaptive-Moment-estimation-Adam" class="headerlink" title="Adaptive Moment estimation (Adam)"></a>Adaptive Moment estimation (Adam)</h2><p>为解决 梯度下降 GD 中固定学习率带来的不同参数间收敛速度不一致的弊端，AdaGrad 和 RMSprop 诞生出来，为每个参数赋予独立的学习率。计算梯度后，梯度较大的参数获得的学习率较低，反之亦然。</p>
<p>此外，为避免每次梯度更新时都独立计算梯度，导致梯度方向持续变化，Momentum 将上一轮梯度值加入到当前梯度的计算中，通过某种权重对两者加权求和，获得当前批次参数更新的更新值。 </p>
<p>Adam 结合了这两项考虑，既为每一个浮点参数自适应性地设置学习率，又将过去的梯度历史纳入考量</p>
<p><img src="https://pic.shaojiemike.top/img/20220131112621.png"></p>
<p>\(g^t\)表示t时刻梯度</p>
<h2 id="AdamW"><a href="#AdamW" class="headerlink" title="AdamW"></a>AdamW</h2><p>Adam 虽然收敛速度快，但没能解决参数过拟合的问题。具体的举措，是在最终的参数更新时引入参数自身：</p>
<h2 id="LAMB"><a href="#LAMB" class="headerlink" title="LAMB"></a>LAMB</h2><p>在使用 Adam 和 AdamW 等优化器时，一大问题在于 batch size 存在一定的隐式上限，一旦突破这个上限，梯度更新极端的取值会导致自适应学习率调整后极为困难的收敛，从而无法享受增加的 batch size 带来的提速增益。LAMB 优化器的作用便在于使模型在进行大批量数据训练时，能够维持梯度更新的精度。具体来说，LAMB 优化器支持自适应元素级更新（adaptive element-wise updating）和准确的逐层修正（layer-wise correction）</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41089007/article/details/107007221">https://blog.csdn.net/weixin_41089007/article/details/107007221</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/e17622b7ffee">https://www.jianshu.com/p/e17622b7ffee</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jiqizhixin.com/articles/2018-07-03-14">https://www.jiqizhixin.com/articles/2018-07-03-14</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-25T16:00:00.000Z" title="1/25/2022, 4:00:00 PM">2022-01-25</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.998Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/security/">security</a></span><span class="level-item">2 minutes read (About 312 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/25/Work/software/linux-apps/safeFileTransport/">Safe File Transport</a></p><div class="content"><h2 id="use-OpenSSL-to-encrypt-file-by-RSA-key"><a href="#use-OpenSSL-to-encrypt-file-by-RSA-key" class="headerlink" title="use OpenSSL to encrypt file by RSA key"></a>use OpenSSL to encrypt file by RSA key</h2><h3 id="已有文件"><a href="#已有文件" class="headerlink" title="已有文件"></a>已有文件</h3><ol>
<li>未加密文件 secretfile.txt</li>
<li>接受方的公钥 recipients-key.pub</li>
</ol>
<h3 id="产生一次性加密解密对称密钥secret-key"><a href="#产生一次性加密解密对称密钥secret-key" class="headerlink" title="产生一次性加密解密对称密钥secret.key"></a>产生一次性加密解密对称密钥secret.key</h3><p>256 bit (32 byte) random key</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rand -out secret.key 32</span><br></pre></td></tr></table></figure>
<h3 id="使用secret-key-加密所需文件"><a href="#使用secret-key-加密所需文件" class="headerlink" title="使用secret.key 加密所需文件"></a>使用secret.key 加密所需文件</h3><p>生成加密后文件secretfile.txt.enc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl aes-256-cbc -in secretfile.txt -out secretfile.txt.enc -pass file:secret.key</span><br></pre></td></tr></table></figure>
<h3 id="使用公钥recipients-key-pub加密secret-key"><a href="#使用公钥recipients-key-pub加密secret-key" class="headerlink" title="使用公钥recipients-key.pub加密secret.key"></a>使用公钥recipients-key.pub加密secret.key</h3><p>得到加密过的一次性key : secret.key.enc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rsautl -encrypt -oaep -pubin -inkey &lt;(ssh-keygen -e -f recipients-key.pub -m PKCS8) -in secret.key -out secret.key.enc</span><br></pre></td></tr></table></figure>
<p><code>&lt;()</code>是子进程的意思。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm secret.key</span><br></pre></td></tr></table></figure>
<h3 id="发送加密文件"><a href="#发送加密文件" class="headerlink" title="发送加密文件"></a>发送加密文件</h3><p>加密文件 secretfile.txt.enc和 secret.key.enc</p>
<h2 id="use-OpenSSL-to-descrypt-file"><a href="#use-OpenSSL-to-descrypt-file" class="headerlink" title="use OpenSSL to descrypt file"></a>use OpenSSL to descrypt file</h2><h3 id="已有文件-1"><a href="#已有文件-1" class="headerlink" title="已有文件"></a>已有文件</h3><ol>
<li>加密文件 secretfile.txt.enc和 secret.key.enc</li>
<li>接受方的私钥</li>
</ol>
<h3 id="解密secret-key-enc"><a href="#解密secret-key-enc" class="headerlink" title="解密secret.key.enc"></a>解密secret.key.enc</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rsautl -decrypt -oaep -inkey ~/.ssh/id_rsa -in secret.key.enc -out secret.key</span><br></pre></td></tr></table></figure>

<h3 id="解密secretfile-txt-enc"><a href="#解密secretfile-txt-enc" class="headerlink" title="解密secretfile.txt.enc"></a>解密secretfile.txt.enc</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl aes-256-cbc -d -in secretfile.txt.enc -out secretfile.txt -pass file:secret.key</span><br></pre></td></tr></table></figure>


<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><ol>
<li>使用 publickey.pem 可以看这篇 <a target="_blank" rel="noopener" href="https://blog.csdn.net/makenothing/article/details/54645578">https://blog.csdn.net/makenothing/article/details/54645578</a></li>
<li>id_rsa.pub.pem产生可以看这个 <a target="_blank" rel="noopener" href="https://www.czeskis.com/random/openssl-encrypt-file.html">https://www.czeskis.com/random/openssl-encrypt-file.html</a></li>
</ol>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.bjornjohansen.com/encrypt-file-using-ssh-key">https://www.bjornjohansen.com/encrypt-file-using-ssh-key</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/makenothing/article/details/54645578">https://blog.csdn.net/makenothing/article/details/54645578</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-23T16:00:00.000Z" title="1/23/2022, 4:00:00 PM">2022-01-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.994Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Overview/">Overview</a></span><span class="level-item">12 minutes read (About 1830 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/23/Work/info/Nvidia/">Nvidia</a></p><div class="content"><h1 id="what-is-RTX-GTX-RX"><a href="#what-is-RTX-GTX-RX" class="headerlink" title="what is RTX GTX RX"></a>what is RTX GTX RX</h1><h2 id="GTX"><a href="#GTX" class="headerlink" title="GTX"></a>GTX</h2><p>在NVIDIA显卡中，从2004年的Geforce 6800系列开始就有“GT”的代号，GT：频率提升版本”GeForce Technology”的缩写,代表着中高端显卡或者是加强版显卡，比如6600GT和6800GT，到了2005年的7800系列之后便引入了“GTX”的代号，直接代表着高端或者顶级显卡。进入GTX400系列以后，当时还有象征中低端的“GTS”命名，后来就连“GTS”也没有了，全部的独立显卡统称为“GTX”，仅用后面的数字大小来区分性能等级，至今GTX1000系列显卡一直延续着这样的命名方式。</p>
<p>   对于已经沿用了多年的GTX前缀，NVIDIA终于在最新的GTX20系列有所改变了，高端的2080和2080TI统称为“RTX”，这里的“RT”就代表着光线追踪（ray tracing的缩写），象征着RTX2080显卡拥有非常强大的光线追踪性能。其实光线追踪技术本身并不新鲜，但是由于计算量需求庞大，往往为了渲染一帧图片都需要传统电脑消耗数个小时乃至数天的时间，但是RTX20显卡采用的“图灵”架构引入了RT计算单元，使其光线追踪性能超越上一代显卡的六倍，拥有了即时处理游戏光追的条件，NVIDIA认为这是一个划时代的进化，于是果断把沿用多年的“GTX”改名为“RTX”。</p>
<h2 id="RTX"><a href="#RTX" class="headerlink" title="RTX"></a>RTX</h2><ol>
<li>NVIDIA RTX显卡是首个包含RT Core的图形卡。这种专用光线追踪硬件每秒可以投射超过10 gigarays的光线，从而可以在游戏中提供类似电影的实时照明。RTX显卡的光线追踪性能最高可提高6倍，因而可以实现实时光线追踪效果。</li>
<li>RTX显卡也是首个提供Tensor Core的设备，这些Tensor Core能够提供超过100 teraflop的AI处理，以利用NVIDIA DLSS提高游戏性能。</li>
</ol>
<h1 id="Nvidia"><a href="#Nvidia" class="headerlink" title="Nvidia"></a>Nvidia</h1><h2 id="产品"><a href="#产品" class="headerlink" title="产品"></a>产品</h2><ol>
<li>GeForce 提供家庭娱乐<ol>
<li>PC,与AMD（原ATi）的Radeon系列显卡竞争</li>
</ol>
</li>
<li>Tegra 移动端 SOC system on chip<ol>
<li><p>基于ARM架构的通用处理器(CPU)。Tegra是一种采用单片机系统设计（system-on-a-chip）芯片，它集成了ARM架构处理器和NVIDIA的GeforceGPU，并内置了其它功能，产品主要面向小型设备。和Intel以PC为起点的x86架构相比，ARM架构的Tegra更像是以手机处理器为起点做出的发展。它不能运行x86 PC上的Windows XP等操作系统，但在手机上应用多年的ARM架构轻量级操作系统更能适应它高速低功耗的需求</p>
</li>
<li><p>2008年2月11日，NVIDIA发布了用于智能手机与PDA平台的Tegra APX 2500</p>
</li>
<li><p>Tegra APX 2500</p>
<pre><code>  65 nm
  600 MHz
  ARM11 MP Core
  FWVGA
   720p
</code></pre>
</li>
<li><p>Tegra X1的分数几乎是Tegra K1,再之前是Tegra 1&#x2F;2&#x2F;3&#x2F;4</p>
<ol>
<li>Switch采用了Nvidia Tegra T210处理器，属于Tegra X1系列。目前各类主机以及手机、平板都是将CPU与GPU整合在一块芯片上，并不像电脑还需有个独显。而Tegra系列便是Nvidia专门为手持设备开发的系统芯片，Tegra为Nvidia自产主机SHIELD以及Google手机Nexus、小米平板等设备提供过技术支持，图像处理性能介于A8X与A9X之间，是的，Tegra常拿来与移动端处理器对比，感情Switch就是用的一手机CPU啊，还是三年前的！</li>
<li>Tegra X1整合了四颗Cortex-A57核心和四颗Cortex-A53核心，和骁龙810以及三星Exynos 7系列相同。而GPU部分则采用了Maxwell架构，共计256个流处理器，堪比入门独显了</li>
</ol>
</li>
<li><p>Super Switch有望搭载一块1080P OLED&#x2F;mini LED显示屏，处理器升级为Tegra X1+&#x2F;Xavier，配备64GB存储空间。</p>
</li>
</ol>
</li>
<li>ION 低端上网本，集成 </li>
<li>Quadro （视觉计算平台）</li>
<li>Tesla用于大规模的并联电脑运算<ol>
<li>NVIDIA推出了CUDA。开发者利用C语言，再通过CUDA编译器，就能利用显核运算。开发者可忽略图形处理技术，而直接利用熟悉的C语言。开发者和科学家，就可以利用显示核心，研究物理、生化和勘探等领域。</li>
<li>可实现极高精度</li>
<li>最大的差别是特斯拉计算卡（Tesla ）属于运算卡，没有图形输出功能</li>
</ol>
</li>
</ol>
<h2 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h2><ol>
<li>Maxwell 老<ol>
<li>GTX 980</li>
</ol>
</li>
<li>Pascal 2016年<ol>
<li>Pascal的GPC有6个SM，每个SM只含有64个CUDA Core，但是拥有64个FP32单元32个FP64单元，FP64与FP32比例达到了1：2，双精度性能大幅度提高，而Pascal的FP32单元可以同时执行2个FP16半精度运算，因此FP16浮点性能也同样获得极大提升</li>
<li>GTX1080, Tesla P100</li>
</ol>
</li>
<li>Turing 2018年<ol>
<li>RT core 硬件光追</li>
<li>Tensor core 加速深度学习 DLSS</li>
<li>VR + 采样 光栅性能</li>
</ol>
</li>
<li>Ampere 2020年<ol>
<li>7nm + NVIDIA第八代GPU提供了迄今为止最大的性能飞跃，集AI训练和推理于一身</li>
<li>新的Turing RT核心和Tensor核心</li>
<li>Ampere可能是Turing的平稳升级</li>
</ol>
</li>
</ol>
<h3 id="Ampere架构"><a href="#Ampere架构" class="headerlink" title="Ampere架构"></a>Ampere架构</h3><ol>
<li>在GTC 2020主题演讲中，NVIDIA宣布推出Ampere架构，这是NVIDIA发布的第八代GPU架构，包含超过540亿个晶体管，性能相较于前代提升了高达20倍，也是NVIDIA 8代GPU历史上最大的一次性能飞跃。  NVIDIA A100是首款基于NVIDIA Ampere架构的GPU。作为一款通用型工作负载加速器，A100还被设计用于数据分析、科学计算和云图形。</li>
</ol>
<h2 id="经典产品"><a href="#经典产品" class="headerlink" title="经典产品"></a>经典产品</h2><ol>
<li>GTX1070 和 GTX1080 的 GPU 芯片均为 GP104</li>
<li>GeForce GTX TITAN X 28nm Maxwell架构 GM200</li>
<li>RTX3090<ol>
<li>10496 &#x3D;  cuda cores 24GB GDDR6X PCIe 4.0 350W 1.73GHz 384位显存位宽 </li>
<li>GA102</li>
</ol>
</li>
<li>RTX2080Ti<ol>
<li>Turing 架构</li>
<li>4352 &#x3D;  cuda cores 11GB GDDR6 PCIe 4.0 260W 1.63GHz 352位显存位宽</li>
</ol>
</li>
<li>RTX2060<br> 1. 1920 cuda cores 6GB GDDR6  160W 1680MHz 192位显存位宽 336GB&#x2F;s显存带宽</li>
<li>TESLA P100 2016<ol>
<li>Pascal 架构 GP100</li>
<li>双单 5&#x2F;10 Tflops</li>
<li>NVIDIA NVLink</li>
<li>3584 &#x3D; 640 *5.6 cuda cores 12&#x2F;16GB 250W</li>
</ol>
</li>
<li>TESLA V100 2017-2019<ol>
<li>Volta架构 GP100</li>
<li>5120 cuda cores + 640 tensor cores + 16&#x2F;32GB HBM2 250W </li>
<li>双单Tensor 7&#x2F;14&#x2F;112 Tflops</li>
</ol>
</li>
<li>TESLA A100 2020<ol>
<li>6912 CUDA Cores 40&#x2F;80GB 250W </li>
<li>GA100-883AA-A1 核心 <ol>
<li>a full GA100 GPU with 128 SMs. The A100 is based on GA100 and has 108 SMs. </li>
<li>64 FP32 CUDA Cores&#x2F;SM, 8192 FP32 CUDA Cores per full GPU</li>
</ol>
</li>
<li>双单Tensor 9.7&#x2F;19.5&#x2F;152 Tflops</li>
</ol>
</li>
</ol>
<h2 id="平时用显卡"><a href="#平时用显卡" class="headerlink" title="平时用显卡"></a>平时用显卡</h2><ol>
<li>GTX1650<ol>
<li>Turing 架构，浮点整数并发 </li>
<li>896 cuda cores 4GB GDDR5&#x2F;6 PCIe 3.0 75W 1665MHz 128位显存位宽 128GB&#x2F;s显存带宽</li>
</ol>
</li>
<li>GTX1080Ti snode4<ol>
<li>16nm Pascal</li>
<li>3584 &#x3D; 640 *5.6 cuda cores 11GB GDDR5X PCIe 3.0 250W 1582MHz 352位显存位宽 484GB&#x2F;s显存带宽</li>
<li>GP102 8+6pin</li>
</ol>
</li>
<li>Tesla P40 snode0 2019<ol>
<li>GP100 全</li>
<li>3840 &#x3D;  640 *6 cuda cores 24GB GDDR5 250W </li>
<li>双单 6&#x2F;12 Tflops</li>
</ol>
</li>
<li>RTX3070<ol>
<li>7nm Ampere 架构 + DLSS AI Tensor core 动态精度 + 2代 RT core</li>
<li>5888 &#x3D;  cuda cores 8GB GDDR6 PCIe 4.0 220W 1.73GHz 256位显存位宽</li>
</ol>
</li>
</ol>
<h1 id="AMD-原ATi"><a href="#AMD-原ATi" class="headerlink" title="AMD(原ATi)"></a>AMD(原ATi)</h1><ol>
<li>PS4 PRO与Xbox One X两大主机皆是采用了AMD公司的捷豹（Jaguar）处理器</li>
<li>PS4Pro 的APU GPU部分大概是RX470D？（或者1050Ti）</li>
</ol>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-23T16:00:00.000Z" title="1/23/2022, 4:00:00 PM">2022-01-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.974Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Architecture/">Architecture</a></span><span class="level-item">4 minutes read (About 555 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/23/Work/Architecture/GPU/ampere/">Ampere &amp; Hopper &amp; Pascal</a></p><div class="content"><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>GPU Processing Clusters (GPCs),</p>
<p>Texture Processing Clusters (TPCs),</p>
<p>Streaming Multiprocessors (SMs)</p>
<h2 id="H100"><a href="#H100" class="headerlink" title="H100"></a>H100</h2><h3 id="GH100"><a href="#GH100" class="headerlink" title="GH100"></a>GH100</h3><p><img src="https://pic.shaojiemike.top/img/20220409151747.png" alt="img"><br><img src="https://pic.shaojiemike.top/img/20220409151853.png"><br>上面两张图组成一个SM，Special Function Units (SFUs)<br><img src="https://pic.shaojiemike.top/img/20220409152202.png"></p>
<h2 id="P40"><a href="#P40" class="headerlink" title="P40"></a>P40</h2><h3 id="GP102"><a href="#GP102" class="headerlink" title="GP102"></a>GP102</h3><p><img src="https://pic.shaojiemike.top/img/20220512220904.png"><br><img src="https://pic.shaojiemike.top/img/20220512220943.png"><br>图中红框是一个SM</p>
<h2 id="A100"><a href="#A100" class="headerlink" title="A100"></a>A100</h2><h3 id="GA100"><a href="#GA100" class="headerlink" title="GA100"></a>GA100</h3><p><img src="https://pic.shaojiemike.top/img/nvidia-ampere-sp-sm-block-diagram.jpg"></p>
<p><img src="https://pic.shaojiemike.top/img/nvidia-ampere-ga100-block-diagram.jpg"></p>
<p><img src="https://pic.shaojiemike.top/img/nvidia-pascal-volta-ampere-comparison-table.jpg"></p>
<h2 id="RTX-3090"><a href="#RTX-3090" class="headerlink" title="RTX 3090"></a>RTX 3090</h2><p>10496个流处理器，核心加速频率1.70GHz，384-bit 24GB GDDR6X显存。</p>
<h3 id="GA102"><a href="#GA102" class="headerlink" title="GA102"></a>GA102</h3><p>在之前的GA100大核心中，每组SM是64个INT32单元、64个FP32单元及32个FP64单元组成的，但在GA102核心中，FP64单元大幅减少，增加了RT Core，Tensor Core也略微减少。<br><img src="https://pic.shaojiemike.top/img/20220124205146.png"><br><img src="https://pic.shaojiemike.top/img/20220124205252.png"></p>
<h2 id="游戏卡与专业卡的区别"><a href="#游戏卡与专业卡的区别" class="headerlink" title="游戏卡与专业卡的区别"></a>游戏卡与专业卡的区别</h2><ol>
<li>应用方面不同<ol>
<li>游戏卡会对三维图像处理有特殊处理，有光线追踪单元</li>
<li>专业计算卡，可能对某些格式的解压压缩有特殊单元，或者对半精度计算有特殊支持。</li>
</ol>
</li>
<li>做工不同<ol>
<li>专业卡由于在服务器上24小时不同工作，在多相供电，散热都堆料处理，游戏卡不同(公版，非公版肯定不一样)</li>
</ol>
</li>
<li>驱动不同<ol>
<li>游戏卡对应游戏软件的优化驱动，专业卡有对专业软件的驱动支持</li>
</ol>
</li>
<li>价格不同<ol>
<li>专业卡贵4倍不止。</li>
</ol>
</li>
<li>参数的不同，对于同一颗核心（以RTX3090与A100 40G举例）<ol>
<li>A100的GA100是8块完整的，GA102是7块。</li>
<li>A100领先的地方<ol>
<li>堆料完爆对手</li>
<li>显存往往更多，AI应用</li>
<li>访存更快</li>
<li>支持 High bandwidth memory (HBM)</li>
<li>在多精度和半精度有优势（NVIDIA A100 SXM4 40 GB	VS.NVIDIA GeForce RTX 3090）<img src="https://pic.shaojiemike.top/img/20220124203515.png"></li>
</ol>
</li>
<li>RTX3090领先的地方<ol>
<li>频率更高</li>
<li>有视频输出接口，支持OpenGL，DirectX</li>
<li>有RT core 光追</li>
</ol>
</li>
</ol>
</li>
</ol>
<p><img src="https://pic.shaojiemike.top/img/20220124204312.png"></p>
<p><img src="https://pic.shaojiemike.top/img/20220124204341.png"></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/394352476">https://zhuanlan.zhihu.com/p/394352476</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-07T16:00:00.000Z" title="1/7/2022, 4:00:00 PM">2022-01-07</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.978Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">11 minutes read (About 1698 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/07/Work/HPC/MPI_OMP/openmp/">OpenMP</a></p><div class="content"><h2 id="线程绑定"><a href="#线程绑定" class="headerlink" title="线程绑定"></a>线程绑定</h2><p>OpenMP 4.0 提供 <code>OMP_PLACES</code> 和 <code>OMP_PROC_BIND</code> 环境变量来指定程序中的 OpenMP 线程如何绑定到处理器。这两个环境变量通常结合使用。<code>OMP_PLACES</code> 用于指定线程将绑定到的计算机位置（硬件线程、核心或插槽）。<code>OMP_PROC_BIND</code> 用于指定绑定策略（线程关联性策略），这项策略指定如何将线程分配到位置。</p>
<p>除了 <code>OMP_PLACES</code> 和 <code>OMP_PROC_BIND</code> 这两个环境变量外，OpenMP 4.0 还提供可在 parallel 指令中使用的 <code>proc_bind</code> 子句。<code>proc_bind</code> 子句用于指定如何将执行并行区域的线程组绑定到处理器。</p>
<p><a target="_blank" rel="noopener" href="https://lab.cs.tsinghua.edu.cn/hpc/doc/faq/binding/">SlURM MPI OpenMP绑定方法参考清华的文档</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">OMP_NUM_THREADS=28 OMP_PROC_BIND=true OMP_PLACES=cores：每个线程绑定到一个 core，使用默认的分布（线程 n 绑定到 core n）；</span><br><span class="line">OMP_NUM_THREADS=2 OMP_PROC_BIND=true OMP_PLACES=sockets：每个线程绑定到一个 socket；</span><br><span class="line">OMP_NUM_THREADS=4 OMP_PROC_BIND=close OMP_PLACES=cores：每个线程绑定到一个 core，线程在 socket 上连续分布（分别绑定到 core 0,1,2,3；</span><br><span class="line">OMP_NUM_THREADS=4 OMP_PROC_BIND=spread OMP_PLACES=cores：每个线程绑定到一个 core，线程在 socket 上尽量散开分布（分别绑定到 core 0,7,14,21；</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lscpu结合htop观察</span><br><span class="line">NUMA 节点0 CPU：                 0-15,32-47              </span><br><span class="line">NUMA 节点1 CPU：                 16-31,48-63</span><br></pre></td></tr></table></figure>
<h2 id="编译制导格式"><a href="#编译制导格式" class="headerlink" title="编译制导格式"></a>编译制导格式</h2><p><img src="https://pic.shaojiemike.top/img/20220108091250.png"></p>
<p>静态扩展</p>
<ul>
<li>文本代码在一个编译制导语句之后，被封装到一个结构块中</li>
</ul>
<p>孤立语句</p>
<ul>
<li>一个OpenMP的编译制导语句<strong>不依赖</strong>于其它的语句</li>
</ul>
<h3 id="parallel"><a href="#parallel" class="headerlink" title="parallel"></a>parallel</h3><p>并行域中的代码被所有的线程执行<br><img src="https://pic.shaojiemike.top/img/20220108091641.png"></p>
<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><p>for语句指定紧随它的循环语句必须由线程组并行执行；</p>
<p><img src="https://pic.shaojiemike.top/img/20220108092147.png"></p>
<h3 id="sections"><a href="#sections" class="headerlink" title="sections"></a>sections</h3><p>sections编译制导语句指定内部的代码被划分给线程组中的各线程</p>
<p>不同的section由不同的线程执行</p>
<p><img src="https://pic.shaojiemike.top/img/20220108092508.png"><br><img src="https://pic.shaojiemike.top/img/20220108092557.png"></p>
<h3 id="single"><a href="#single" class="headerlink" title="single"></a>single</h3><p>single编译制导语句指定内部代码只有线程组中的一个线程执行。</p>
<p>线程组中没有执行single语句的线程会一直等待代码块的结束，使用nowait子句除外</p>
<p><img src="https://pic.shaojiemike.top/img/20220108092830.png"></p>
<p><img src="https://pic.shaojiemike.top/img/20220917130916.png"></p>
<p>来自 <a target="_blank" rel="noopener" href="https://ppc.cs.aalto.fi/ch3/nowait/">https://ppc.cs.aalto.fi/ch3/nowait/</a></p>
<h3 id="组合parallel-for-parallel-sections-编译制导语句"><a href="#组合parallel-for-parallel-sections-编译制导语句" class="headerlink" title="组合parallel for &#x2F; parallel sections 编译制导语句"></a>组合parallel for &#x2F; parallel sections 编译制导语句</h3><ol>
<li>Parallel for编译制导语句表明一个并行域包含一个独立的for语句</li>
<li>parallel sections编译制导语句表明一个并行域包含单独的一个sections语句</li>
</ol>
<h3 id="同步结构"><a href="#同步结构" class="headerlink" title="同步结构"></a>同步结构</h3><ol>
<li>master 制导语句<ol>
<li>指定代码段只有主线程执行</li>
</ol>
</li>
<li>critical制导语句<ol>
<li>critical制导语句表明域中的代码一次只能执行一个线程，其他线程被阻塞在临界区</li>
<li>语句格式：<code>#pragma omp critical [name] newline</code></li>
</ol>
</li>
<li>barrier制导语句<ol>
<li>同步一个线程组中所有的线程,先到达的线程在此阻塞，等待其他线程</li>
</ol>
</li>
<li>atomic制导语句<ol>
<li>指定特定的存储单元将被原子更新</li>
<li><pre><code>#pragma omp atomic
x++;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">5. flush制导语句</span><br><span class="line">   1. 标识一个同步点，用以确保所有的线程看到一致的存储器视图</span><br><span class="line">   2. ![](https://pic.shaojiemike.top/img/20220108093740.png)</span><br><span class="line">6. ordered制导语句</span><br><span class="line">   1. 相对于critical，多了一个顺序</span><br><span class="line">   2. 只能出现在for或者parallel for语句的动态范围中</span><br><span class="line">7. threadprivate语句使一个全局文件作用域的变量在并行域内变成每个线程私有</span><br><span class="line">   1. 每个线程对该变量复制一份私有拷贝</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### critical vs atomic</span><br><span class="line">The fastest way is neither critical nor atomic. Approximately, addition with critical section is 200 times more expensive than simple addition, atomic addition is 25 times more expensive then simple addition.(**maybe no so much expensive**, the atomic operation will have a few cycle overhead (synchronizing a cache line) on the cost of roughly a cycle. A critical section incurs **the cost of a lock**.)</span><br><span class="line"></span><br><span class="line">The fastest option (not always applicable) is to give each thread its own counter and make reduce operation when you need total sum.</span><br><span class="line"></span><br><span class="line">### critical vs ordered</span><br><span class="line">omp critical is for mutual exclusion(互斥), omp ordered refers to a specific loop and ensures that the region **executes sequentually in the order of loop iterations**. Therefore omp ordered is stronger than omp critical, but also only makes sense within a loop.</span><br><span class="line"></span><br><span class="line">omp ordered has some other clauses, such as simd to enforce the use of a single SIMD lane only. You can also specify dependencies manually with the depend clause.</span><br><span class="line"></span><br><span class="line">Note: Both omp critical and omp ordered regions have an implicit memory flush at the entry and the exit.</span><br><span class="line"></span><br><span class="line">### ordered example</span><br></pre></td></tr></table></figure>
vector&lt;int&gt; v;
</code></pre>
</li>
</ol>
</li>
</ol>
<p>#pragma omp parallel for ordered schedule(dynamic, anyChunkSizeGreaterThan1)<br>    for (int i &#x3D; 0; i &lt; n; ++i){<br>            …<br>            …<br>            …<br>#pragma omp ordered<br>            v.push_back(i);<br>    }</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">tid  List of     Timeline</span><br><span class="line">     iterations</span><br><span class="line">0    0,1,2       ==o==o==o</span><br><span class="line">1    3,4,5       ==.......o==o==o</span><br><span class="line">2    6,7,8       ==..............o==o==o</span><br></pre></td></tr></table></figure>

<p><code>=</code> shows that the thread is executing code in parallel. <code>o</code> is when the thread is executing the ordered region. <code>.</code> is the thread being idle, waiting for its turn to execute the ordered region. </p>
<p>With <code>schedule(static,1)</code> the following would happen:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tid  List of     Timeline</span><br><span class="line">     iterations</span><br><span class="line">0    0,3,6       ==o==o==o</span><br><span class="line">1    1,4,7       ==.o==o==o</span><br><span class="line">2    2,5,8       ==..o==o==o</span><br></pre></td></tr></table></figure>

<h3 id="语句绑定与语句嵌套规则"><a href="#语句绑定与语句嵌套规则" class="headerlink" title="语句绑定与语句嵌套规则"></a>语句绑定与语句嵌套规则</h3><p><img src="https://pic.shaojiemike.top/img/20220108162521.png"><br><img src="https://pic.shaojiemike.top/img/20220108162536.png"></p>
<h2 id="Clauses-子句"><a href="#Clauses-子句" class="headerlink" title="Clauses 子句"></a>Clauses 子句</h2><p>见 <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/cpp/parallel/openmp/reference/openmp-clauses?view=msvc-160">https://docs.microsoft.com/en-us/cpp/parallel/openmp/reference/openmp-clauses?view=msvc-160</a><br><img src="https://pic.shaojiemike.top/img/20220108162156.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#pragma omp parallel for collapse(2)</span><br><span class="line">for( int y = y1; y &lt; y2; y++ )</span><br><span class="line">&#123;</span><br><span class="line">	for( int x = x1; x &lt; x2; x++ )</span><br><span class="line">	&#123;</span><br></pre></td></tr></table></figure>
<h3 id="schedule"><a href="#schedule" class="headerlink" title="schedule"></a>schedule</h3><p><img src="https://pic.shaojiemike.top/img/20220108101831.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">------------------------------------------------</span><br><span class="line">| static | static | dynamic | dynamic | guided |</span><br><span class="line">|    1   |    5   |    1    |    5    |        |</span><br><span class="line">------------------------------------------------</span><br><span class="line">|    0   |    0   |    0    |    2    |    1   |</span><br><span class="line">|    1   |    0   |    3    |    2    |    1   |</span><br><span class="line">|    2   |    0   |    3    |    2    |    1   |</span><br><span class="line">|    3   |    0   |    3    |    2    |    1   |</span><br><span class="line">|    0   |    0   |    2    |    2    |    1   |</span><br><span class="line">|    1   |    1   |    2    |    3    |    3   |</span><br><span class="line">|    2   |    1   |    2    |    3    |    3   |</span><br><span class="line">|    3   |    1   |    0    |    3    |    3   |</span><br><span class="line">|    0   |    1   |    0    |    3    |    3   |</span><br><span class="line">|    1   |    1   |    0    |    3    |    2   |</span><br><span class="line">|    2   |    2   |    1    |    0    |    2   |</span><br><span class="line">|    3   |    2   |    1    |    0    |    2   |</span><br><span class="line">|    0   |    2   |    1    |    0    |    3   |</span><br><span class="line">|    1   |    2   |    2    |    0    |    3   |</span><br><span class="line">|    2   |    2   |    2    |    0    |    0   |</span><br><span class="line">|    3   |    3   |    2    |    1    |    0   |</span><br><span class="line">|    0   |    3   |    3    |    1    |    1   |</span><br><span class="line">|    1   |    3   |    3    |    1    |    1   |</span><br><span class="line">|    2   |    3   |    3    |    1    |    1   |</span><br><span class="line">|    3   |    3   |    0    |    1    |    3   |</span><br><span class="line">------------------------------------------------</span><br></pre></td></tr></table></figure>
<h3 id="private-vs-firstprivate-vs-lastprivate"><a href="#private-vs-firstprivate-vs-lastprivate" class="headerlink" title="private vs firstprivate vs lastprivate"></a>private vs firstprivate vs lastprivate</h3><p> <code>private</code> variables are not initialised, i.e. they start with random values like any other local automatic variable</p>
<p> <code>firstprivate</code> initial the value as the before value.</p>
<p> <code>lastprivate</code> save the value to the after region. 这个last的意思不是实际最后运行的一个线程，而是调度发射队列的最后一个线程。从另一个角度上说，如果你保存的值来自随机一个线程，这也是没有意义的。<br> firstprivate and lastprivate are just <strong>special cases</strong> of private</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#pragma omp parallel</span><br><span class="line">&#123;</span><br><span class="line">   #pragma omp for lastprivate(i)</span><br><span class="line">      for (i=0; i&lt;n-1; i++)</span><br><span class="line">         a[i] = b[i] + b[i+1];</span><br><span class="line">&#125;</span><br><span class="line">a[i]=b[i];</span><br></pre></td></tr></table></figure>
<h3 id="private-vs-threadprivate"><a href="#private-vs-threadprivate" class="headerlink" title="private vs threadprivate"></a>private vs threadprivate</h3><p><img src="https://pic.shaojiemike.top/img/20220108100045.png"></p>
<p>A <code>private</code> variable is local to a region and will most of the time be placed on the <code>stack</code>. The lifetime of the variable’s privacy is <code>the duration defined of the data scoping clause</code>. Every thread (including the master thread) makes a private <code>copy of the original variable</code> (the new variable is no longer storage-associated with the original variable).</p>
<p>A <code>threadprivate</code> variable on the other hand will be most likely placed in the <code>heap</code> or in the thread local storage (that can be seen as a global memory local to a thread). A threadprivate variable <code>persist across regions</code> (depending on some restrictions). <code>The master thread uses the original variable</code>, all other threads make a private copy of the original variable (the master variable is still storage-associated with the original variable).</p>
<h2 id="task-指令"><a href="#task-指令" class="headerlink" title="task 指令"></a>task 指令</h2><p>可以指定某一task任务在指定第几个thread运行吗？</p>
<h2 id="section-命令-与-for-命令的区别"><a href="#section-命令-与-for-命令的区别" class="headerlink" title="section 命令 与 for 命令的区别"></a>section 命令 与 for 命令的区别</h2><p>简单理解sections其实是for的展开形式，适合于少量的“任务”，并且适合于没有迭代关系的“任务”。每一个section被一个线程去执行。</p>
<h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">omp_get_thread_num() //获取线程的num，即ID。在并行区域外，获取的是master线程的ID，即为0。</span><br><span class="line">omp_get_num_threads/omp_set_num_threads()  //设置/获取线程数量，用于覆盖OMP_NUM_THREADS环境变量的设置。omp_set_num_threads在串行区域调用才会有效，omp_get_num_threads获取当前线程组的线程数量，一般在并行区域调用，在串行区域调用返回为1。</span><br><span class="line">omp_get_max_threads() //返回OpenMP当前环境下能创建线程的最大数量。</span><br></pre></td></tr></table></figure>

<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">OMP_SCHEDULE：只能用到for,parallel for中。它的值就是处理器中循环的次数</span><br><span class="line">OMP_NUM_THREADS：定义执行中最大的线程数</span><br><span class="line">OMP_DYNAMIC：通过设定变量值TRUE或FALSE,来确定是否动态设定并行域执行的线程数</span><br><span class="line">OMP_NESTED：确定是否可以并行嵌套</span><br></pre></td></tr></table></figure>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include &lt;omp.h&gt;</span><br><span class="line"> </span><br><span class="line">int main(int argc, _TCHAR* argv[])  </span><br><span class="line">&#123;</span><br><span class="line">	printf(&quot;ID: %d, Max threads: %d, Num threads: %d \n&quot;,omp_get_thread_num(), omp_get_max_threads(), omp_get_num_threads());</span><br><span class="line">	omp_set_num_threads(5);</span><br><span class="line">	printf(&quot;ID: %d, Max threads: %d, Num threads: %d \n&quot;,omp_get_thread_num(), omp_get_max_threads(), omp_get_num_threads());</span><br><span class="line"> </span><br><span class="line">#pragma omp parallel num_threads(5)</span><br><span class="line">	&#123;</span><br><span class="line">		// omp_set_num_threads(6);	// Do not call it in parallel region</span><br><span class="line">		printf(&quot;ID: %d, Max threads: %d, Num threads: %d \n&quot;,omp_get_thread_num(), omp_get_max_threads(), omp_get_num_threads());</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	printf(&quot;ID: %d, Max threads: %d, Num threads: %d \n&quot;,omp_get_thread_num(), omp_get_max_threads(), omp_get_num_threads());</span><br><span class="line">	</span><br><span class="line">	omp_set_num_threads(6);</span><br><span class="line">	printf(&quot;ID: %d, Max threads: %d, Num threads: %d \n&quot;,omp_get_thread_num(), omp_get_max_threads(), omp_get_num_threads());</span><br><span class="line"> </span><br><span class="line">	return 0;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://pic.shaojiemike.top/img/0_13220169702p8d.gif"></p>
<h2 id="OpenMP和pthread是常见的模型"><a href="#OpenMP和pthread是常见的模型" class="headerlink" title="OpenMP和pthread是常见的模型"></a>OpenMP和pthread是常见的模型</h2><p>♦OpenMP为循环级并行提供了方便的功能。线程由编译器根据用户指令创建和管理。</p>
<p>♦pthread提供了更复杂、更动态的方法。线程由用户显式创建和管理。</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>对子句和制导的关系不清楚</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/gengshenghong/article/details/7004594">https://blog.csdn.net/gengshenghong/article/details/7004594</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/cpp/parallel/openmp/reference/openmp-clauses?view=msvc-160">https://docs.microsoft.com/en-us/cpp/parallel/openmp/reference/openmp-clauses?view=msvc-160</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-12-20T03:30:29.000Z" title="12/20/2021, 3:30:29 AM">2021-12-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-14T14:10:42.998Z" title="12/14/2023, 2:10:42 PM">2023-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">a minute read (About 145 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/12/20/Work/software/linux-apps/VNC/">VNC</a></p><div class="content"><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># shaojiemike @ node5 in ~ [11:26:56]</span><br><span class="line">$ vncserver -list</span><br><span class="line"></span><br><span class="line">TigerVNC server sessions:</span><br><span class="line"></span><br><span class="line">X DISPLAY #     RFB PORT #      PROCESS ID</span><br><span class="line">:1              5901            148718 (stale)</span><br><span class="line"></span><br><span class="line"># shaojiemike @ node5 in ~ [11:29:39]</span><br><span class="line">$ vncpasswd</span><br><span class="line">Password:</span><br><span class="line"></span><br><span class="line"># shaojiemike @ node5 in ~ [11:34:08]</span><br><span class="line">$ vncserver -kill :1</span><br><span class="line">Killing Xtigervnc process ID 148718... which was already dead</span><br><span class="line">Cleaning stale pidfile &#x27;/home/shaojiemike/.vnc/node5:1.pid&#x27;!</span><br><span class="line"></span><br><span class="line"># shaojiemike @ node5 in ~ [11:36:15]</span><br><span class="line">$ vncserver</span><br><span class="line"></span><br><span class="line">New &#x27;node5:2 (shaojiemike)&#x27; desktop at :2 on machine node5</span><br><span class="line"></span><br><span class="line">Starting applications specified in /etc/X11/Xvnc-session</span><br><span class="line">Log file is /home/shaojiemike/.vnc/node5:2.log</span><br><span class="line"></span><br><span class="line">Use xtigervncviewer -SecurityTypes VncAuth -passwd /home/shaojiemike/.vnc/passwd :2 to connect to the VNC server.</span><br></pre></td></tr></table></figure>

<p><img src="https://pic.shaojiemike.top/img/20211220113457.png"></p>
<h2 id="客户端转发"><a href="#客户端转发" class="headerlink" title="客户端转发"></a>客户端转发</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -L 5901:127.0.0.1:5901 -N -f -l shaojiemike node5.xydustc.me</span><br></pre></td></tr></table></figure>

<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无

</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/28/">Previous</a></div><div class="pagination-next"><a href="/page/30/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/28/">28</a></li><li><a class="pagination-link is-current" href="/page/29/">29</a></li><li><a class="pagination-link" href="/page/30/">30</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/37/">37</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="Shaojie Tan"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shaojie Tan</p><p class="is-size-6 is-block">𝘊𝘰𝘮𝘱𝘶𝘵𝘦𝘳 𝘈𝘳𝘤𝘩𝘪𝘵𝘦𝘤𝘵𝘶𝘳𝘦 &amp; 𝘏𝘗𝘊</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Anhui, Hefei, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">361</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">29</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">481</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Kirrito-k423" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Kirrito-k423"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile" href="/categories/Artificial-Intelligence/"><span class="level-start"><span class="level-item">Artificial Intelligence</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Databases/"><span class="level-start"><span class="level-item">Databases</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/HPC/"><span class="level-start"><span class="level-item">HPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-system/"><span class="level-start"><span class="level-item">Operating system</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Treasure/"><span class="level-start"><span class="level-item">Treasure</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorials/"><span class="level-start"><span class="level-item">Tutorials</span></span><span class="level-end"><span class="level-item tag">118</span></span></a></li><li><a class="level is-mobile" href="/categories/Values/"><span class="level-start"><span class="level-item">Values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/diary/"><span class="level-start"><span class="level-item">diary</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/english/"><span class="level-start"><span class="level-item">english</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/hardware/"><span class="level-start"><span class="level-item">hardware</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/operating-system/"><span class="level-start"><span class="level-item">operating system</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/software/"><span class="level-start"><span class="level-item">software</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/thinking/"><span class="level-start"><span class="level-item">thinking</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/thinking/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/toLearn/"><span class="level-start"><span class="level-item">toLearn</span></span><span class="level-end"><span class="level-item tag">51</span></span></a></li><li><a class="level is-mobile" href="/categories/values/"><span class="level-start"><span class="level-item">values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://ibug.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ibugs</span></span><span class="level-right"><span class="level-item tag">ibug.io</span></span></a></li><li><a class="level is-mobile" href="https://jia.je/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jiegec</span></span><span class="level-right"><span class="level-item tag">jia.je</span></span></a></li><li><a class="level is-mobile" href="https://leimao.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">leimao</span></span><span class="level-right"><span class="level-item tag">leimao.github.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-08T13:13:26.000Z">2023-12-08</time></p><p class="title"><a href="/2023/12/08/OutOfWork/5-VideoEntertainment/CalibreAndItsPuginsForEhentaiBooks/">Calibre and its Pugins for e-hentai Books</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-07T12:34:56.000Z">2023-12-07</time></p><p class="title"><a href="/2023/12/07/OutOfWork/3-homepage/blogWebsiteBuilderOrSSG/dokuwiki/">Dokuwiki: </a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-06T08:10:02.000Z">2023-12-06</time></p><p class="title"><a href="/2023/12/06/OutOfWork/4-devices/nas/UgreenNas/">Ugreen Nas</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-03T09:31:21.000Z">2023-12-03</time></p><p class="title"><a href="/2023/12/03/OutOfWork/3-homepage/deployment/webDesign4customizeMarkdownGrammarInSSG/">Web Design 4 : Customize Markdown Grammar In SSG</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-30T21:48:21.000Z">2023-11-30</time></p><p class="title"><a href="/2023/11/30/OutOfWork/3-homepage/deployment/webDesign3FutureFeatures/">Web Design 3 : Future Features</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">222</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">67</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">72</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/5G/"><span class="tag">5G</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/64bits-vs-32bits/"><span class="tag">64bits vs 32bits</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMAT/"><span class="tag">AMAT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMD/"><span class="tag">AMD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ASPLOS/"><span class="tag">ASPLOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ATI/"><span class="tag">ATI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AVX/"><span class="tag">AVX</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Alpha/"><span class="tag">Alpha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analysis/"><span class="tag">Analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apt/"><span class="tag">Apt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BHive/"><span class="tag">BHive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BT/"><span class="tag">BT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BTL/"><span class="tag">BTL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Baka-Mitai/"><span class="tag">Baka Mitai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Big-Endian/"><span class="tag">Big-Endian</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a><p class="is-size-7"><span>&copy; 2023 Shaojie Tan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>