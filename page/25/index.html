<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>SHAOJIE&#039;S BOOK</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="SHAOJIE&#039;S BOOK"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="SHAOJIE&#039;S BOOK"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="SHAOJIE&#039;S BOOK"><meta property="og:url" content="http://icarus.shaojiemike.top/"><meta property="og:site_name" content="SHAOJIE&#039;S BOOK"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://icarus.shaojiemike.top/img/og_image.png"><meta property="article:author" content="Shaojie Tan"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://icarus.shaojiemike.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icarus.shaojiemike.top"},"headline":"SHAOJIE'S BOOK","image":["http://icarus.shaojiemike.top/img/og_image.png"],"author":{"@type":"Person","name":"Shaojie Tan"},"publisher":{"@type":"Organization","name":"SHAOJIE'S BOOK","logo":{"@type":"ImageObject","url":"http://icarus.shaojiemike.top/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-23T16:00:00.000Z" title="4/23/2023, 4:00:00 PM">2023-04-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.050Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">a minute read (About 129 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/23/OutOfWork/5-VideoEntertainment/5-Synology/">Synology terminal</a></p><div class="content"><h2 id="配置开机启动项"><a href="#配置开机启动项" class="headerlink" title="配置开机启动项"></a>配置开机启动项</h2><p>编写脚本<code>/var/services/homes/shaojiemike/wgReboot.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">ip ro add default via 222.195.90.254 dev eth0 table eth0-table</span><br><span class="line">ip ro a 114.214.233.0/24 via 222.195.90.254 dev eth0  src 222.195.90.2 table main</span><br><span class="line">wg-quick up wg1</span><br><span class="line">ip ro d default via 222.195.90.254 dev eth0  src 222.195.90.2 table main</span><br></pre></td></tr></table></figure>

<ul>
<li>执行权限<code>chmod +x</code></li>
<li>群晖WebUI -&gt; 控制面板 -&gt; 任务计划 -&gt; 新增 -&gt; 触发的任务<ul>
<li>选择Root、开机事件</li>
<li><code>bash /var/services/homes/shaojiemike/wgReboot.sh</code></li>
</ul>
</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-23T16:00:00.000Z" title="4/23/2023, 4:00:00 PM">2023-04-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.074Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">7 minutes read (About 1031 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/23/Work/software/linux/rebootTask/">Reboot Task</a></p><div class="content"><h2 id="最简单-etc-rc-lo­cal"><a href="#最简单-etc-rc-lo­cal" class="headerlink" title="最简单&#x2F;etc&#x2F;rc.lo­cal"></a>最简单&#x2F;etc&#x2F;rc.lo­cal</h2><p>默认是不开启的，文件<code>/etc/rc.lo­cal</code>默认也不存在</p>
<h3 id="开启-etc-rc-lo­cal功能"><a href="#开启-etc-rc-lo­cal功能" class="headerlink" title="开启&#x2F;etc&#x2F;rc.lo­cal功能"></a>开启&#x2F;etc&#x2F;rc.lo­cal功能</h3><ul>
<li>ubuntu18.04不再使用initd管理系统，改用systemd</li>
<li>systemd有rc-local的配置文件，只需链接到<code>/etc/systemd/system</code>目录下启动即可<ul>
<li><code>ln -fs /lib/systemd/system/rc-local.service /etc/systemd/system/rc-local.service</code></li>
</ul>
</li>
</ul>
<h3 id="使用-etc-rc-lo­cal功能"><a href="#使用-etc-rc-lo­cal功能" class="headerlink" title="使用&#x2F;etc&#x2F;rc.lo­cal功能"></a>使用&#x2F;etc&#x2F;rc.lo­cal功能</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> /etc/rc.local</span><br><span class="line"><span class="built_in">chmod</span> 755 /etc/rc.local</span><br><span class="line">vim /etc/rc.local</span><br><span class="line">    eg. <span class="comment">#!/bin/bash  echo &quot;test rc &quot; &gt; /var/test.log</span></span><br></pre></td></tr></table></figure>
<h2 id="crontab-reboot"><a href="#crontab-reboot" class="headerlink" title="crontab @reboot"></a>crontab @reboot</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line">@reboot /home/user/test.sh</span><br></pre></td></tr></table></figure>
<h2 id="initd-启动管理系统"><a href="#initd-启动管理系统" class="headerlink" title="initd 启动管理系统"></a>initd 启动管理系统</h2><ul>
<li>init.d目录包含许多系统各种服务的启动和停止脚本。它控制着所有从acpid到x11-common的各种事务。</li>
<li>注意：ubuntu18.04不再使用initd管理系统，改用systemd</li>
</ul>
<h3 id="编写脚本"><a href="#编写脚本" class="headerlink" title="编写脚本"></a>编写脚本</h3><ul>
<li><code>/etc/init.d</code>目录下建立文件<code>test</code><ul>
<li>按照README编写脚本</li>
<li>赋予执行权限<code>sudo chmod +x  /etc/init.d/test</code></li>
</ul>
</li>
</ul>
<h3 id="设置脚本启动"><a href="#设置脚本启动" class="headerlink" title="设置脚本启动"></a>设置脚本启动</h3><p>方法一：使用update-rc.d 命令将脚本放到启动脚本中去（debian中可以使用更新的insserv）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/init.d</span><br><span class="line">$ sudo update-rc.d <span class="built_in">test</span> defaults 95</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：其中数字95是脚本启动的顺序号，按照自己的需要相应修改即可。在你有多个启动脚本，而它们之间又有先后启动的依赖关系时你就知道这个数字的具体作用了。更多说明建议看man update-rc.d。</p>
</blockquote>
<p>方法二：手动在rc*.d中建立软连接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> -s <span class="built_in">test</span> ../rc5.d/S95test</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>rc*.d</code>，*代表启动级别，在不同启动级别启动，<br>K开头的脚本文件代表运行级别加载时需要关闭的，<br>S开头的代表相应级别启动时需要执行，<br>数字代表顺序</p>
</blockquote>
<h3 id="卸载启动脚本的方法："><a href="#卸载启动脚本的方法：" class="headerlink" title="卸载启动脚本的方法："></a>卸载启动脚本的方法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/init.d</span><br><span class="line">$ sudo update-rc.d -f <span class="built_in">test</span> remove</span><br></pre></td></tr></table></figure>

<h3 id="手动调用脚本"><a href="#手动调用脚本" class="headerlink" title="手动调用脚本"></a>手动调用脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/test start</span><br><span class="line">/etc/init.d/test stop</span><br><span class="line">/etc/init.d/test restart</span><br></pre></td></tr></table></figure>





<h2 id="systemd-服务管理系统"><a href="#systemd-服务管理系统" class="headerlink" title="systemd 服务管理系统"></a>systemd 服务管理系统</h2><p>使用sudo systemctl enable xxx</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">systemctl is-enabled servicename.service <span class="comment">#查询服务是否开机启动</span></span><br><span class="line">systemctl <span class="built_in">enable</span> *.service <span class="comment">#开机运行服务</span></span><br><span class="line">systemctl <span class="built_in">disable</span> *.service <span class="comment">#取消开机运行</span></span><br><span class="line">systemctl start *.service <span class="comment">#启动服务</span></span><br><span class="line">systemctl stop *.service <span class="comment">#停止服务</span></span><br><span class="line">systemctl restart *.service <span class="comment">#重启服务</span></span><br><span class="line">systemctl reload *.service <span class="comment">#重新加载服务配置文件</span></span><br><span class="line">systemctl status *.service <span class="comment">#查询服务运行状态</span></span><br><span class="line">systemctl --failed <span class="comment">#显示启动失败的服务</span></span><br></pre></td></tr></table></figure>

<h3 id="systemctl-开机启动原理"><a href="#systemctl-开机启动原理" class="headerlink" title="systemctl 开机启动原理"></a>systemctl 开机启动原理</h3><ul>
<li>Systemd 默认从目录<code>/etc/systemd/system/</code>读取配置文件。</li>
<li>但是，里面存放的大部分文件都是符号链接，指向目录<ul>
<li><code>/usr/lib/systemd/system/</code>，真正的配置文件存放在那个目录。</li>
</ul>
</li>
</ul>
<p><code>systemctl enable</code>命令用于在上面两个目录之间，建立符号链接关系。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ sudo systemctl enable clamd@scan.service</span><br><span class="line"># 等同于</span><br><span class="line">$ sudo ln -s &#x27;/usr/lib/systemd/system/clamd@scan.service&#x27; &#x27;/etc/systemd/system/multi-user.target.wants/clamd@scan.service&#x27;</span><br><span class="line">&gt; </span><br></pre></td></tr></table></figure>
<ul>
<li>如果配置文件里面设置了开机启动，<code>systemctl enable</code>命令相当于激活开机启动。</li>
<li>与之对应的，<code>systemctl disable</code>命令用于在两个目录之间，撤销符号链接关系，相当于撤销开机启动。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ sudo systemctl disable clamd@scan.service</span><br><span class="line">&gt; </span><br></pre></td></tr></table></figure></li>
<li>配置文件的后缀名，就是该 Unit 的种类，比如<code>sshd.socket</code>。<ul>
<li>如果省略，Systemd 默认后缀名为<code>.service</code>，所以<code>sshd</code>会被理解成<code>sshd.service</code>。</li>
</ul>
</li>
</ul>
<h3 id="把程序设置systemctl服务-并开机启动"><a href="#把程序设置systemctl服务-并开机启动" class="headerlink" title="把程序设置systemctl服务,并开机启动"></a>把程序设置systemctl服务,并开机启动</h3><p>进入目录<code>/usr/lib/systemd/system</code>,修改<code>webhook.service</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Webhook receiver for GitHub</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">ExecStart=/usr/local/bin/webhook</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>这里有几个模块:</p>
<ul>
<li>[Unit] 区块：启动顺序与依赖关系。</li>
<li>[Service] 区块：启动行为,如何启动，启动类型。</li>
<li>[Install] 区块，定义如何安装这个配置文件，即怎样做到开机启动。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start nexus.service  #启动服务</span><br><span class="line">systemctl enable nexus.service #设置开机启动</span><br></pre></td></tr></table></figure>
<p><code>Loaded: loaded (/etc/systemd/system/webhook.service; enabled;</code>这个<code>enabled</code>就是开机启动的意思</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://neucrack.com/p/91">https://neucrack.com/p/91</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-17T16:00:00.000Z" title="4/17/2023, 4:00:00 PM">2023-04-17</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.046Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">12 minutes read (About 1757 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/17/OutOfWork/2-selfLearning/2-codeforces/">Codeforces &amp; Topcoder</a></p><div class="content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>codeforces<ul>
<li>Codeforces 是一家为计算机编程爱好者提供的在线评测系统</li>
<li>该网站由俄罗斯 ITMO 大学（圣彼得堡国家信息技术、机械学与光学研究型大学）的一个团体创立并负责运营。</li>
<li>在编程挑战赛中，选手有 2 个小时的时间去解决 5 道题，通过得分排名，选手可以看到实时的排名(Standing)，也可以选择查看好友的排名，还可以看到某题有多少人通过等信息。</li>
<li>在 cf，所有的用户根据在以往比赛中的表现被赋予一个 Rating 并冠以不同的头衔，名字也会以不同的颜色显示,比如 Expert 是蓝色，Master 是黄色。</li>
<li>题目兼容并蓄，什么难度等级的题目都可以找到。<ul>
<li>并且题目很有意思，往往思维陷阱比较多，也就是思维题比较多。</li>
<li>对于数据结构以及算法的考察相对弱一些，更多的时候往往是告诉你用什么算法你也不知道怎么做。</li>
</ul>
</li>
</ul>
</li>
<li>topcoder<ul>
<li>TopCoder成立于2001年，它的客户包括Google、MS、YAHOO、Intel、 Motorola和SUN等世界上顶级的IT公司。每年TopCoder都会举办若干个编程竞赛和锦标赛，其总奖金金额高达几十万美元。她是你进入世界顶级的IT企业的捷径，TopCoder排名（程序设计，开发，算法）靠前的选手基本都成了知名公司追逐的对象。</li>
<li>积分：tc的每个用户(handle)都有自己的积分，从0-3000+不等。成绩越好，分数越高 。</li>
<li>积分与颜色的对应为：白色——未参赛（unrated）；灰色——0<del>899；绿色——900</del>1199；蓝色——1200<del>1499；黄色——1500</del>2199；红色——2200+。另外排名最高的几个人在TC客户端中会变成红色靶子图标。现在，全世界有300人达到红色等级，日本有26人。3000 分以上者被称为target，全世界有18人，日本有3人，分别是：iwi（秋叶拓哉）、wata （岩田阳一）和lvrically；</li>
</ul>
</li>
</ul>
<h3 id="topcoder-vs-codeforces"><a href="#topcoder-vs-codeforces" class="headerlink" title="topcoder vs codeforces"></a>topcoder vs codeforces</h3><p>Codeforces: Another good platform with nice contests where you will get to learn <strong>new things</strong> that will improve your understanding of <strong>concepts</strong>. It’s ratings don’t matter to recruiters but the things you’ll learn will help you during interviews and company’s coding tests.</p>
<p>TOPCODER: This caters to <strong>every aspect of software develpment</strong>. They have both designing and development contest. Major companies provide Topcoder community to experment with their nw products or APIs. But if you want to mention it in your CV, your ratings should be above 1400 to impress a recruiter.</p>
<p>for <strong>average</strong> is CODEFORCES, for <strong>expert</strong> TOPCODER</p>
<h2 id="竞赛说明"><a href="#竞赛说明" class="headerlink" title="竞赛说明"></a>竞赛说明</h2><h3 id="codeforces"><a href="#codeforces" class="headerlink" title="codeforces"></a>codeforces</h3><ul>
<li>比赛举办频率<ul>
<li>第一种是Codeforces Rounds（常规比赛） 大约一周一两次，时长2小时。常规赛分为三个赛区：Div3、Div2和Div1。题目难度Div3 &lt; Div2 &lt; Div1。</li>
<li>第二种是Educational Contests（教育性比赛） 大约每个月二到三次，时长2个小时。常规赛分为两个赛区：Div2和Div1。题目难度Div2 &lt; Div1。</li>
</ul>
</li>
<li>比赛一般是两个小时的赛程，一共六道题目。(20分钟一题)<ul>
<li>新手能做出3道，rating就不会跌。</li>
</ul>
</li>
<li>div 表示题目难度，数值越小难度越高，<ul>
<li>div 1 要求参赛者的 Rating 大于 1900 。div2 平均难度在 Rating 1500.</li>
</ul>
</li>
<li>Hack：当你通过某题目，可以查看同房间内其他通过该题的参赛者的代码。<ul>
<li>由于codeforces在比赛的时候只会测试一小部分数据，真正的测试集会放到赛后进行测试。所以在比赛中测试通过的代码，只是通过了小数据验证，很有可能有隐藏的问题没被发现。</li>
<li>如果发现了bug，可以构造一份数据hack掉他的提交。</li>
<li>hack 成功，你获得 100 分奖励，别人的提交会被打回；hack 失败，减 50 分作为惩罚。</li>
<li>一般后面题不会做的时候，又有时间的时候就去Hack</li>
</ul>
</li>
</ul>
<h3 id="topcoder"><a href="#topcoder" class="headerlink" title="topcoder"></a>topcoder</h3><ul>
<li>安装程序TopCoder Arena(竞技场，古罗马的斗兽场也是这个词)，<ul>
<li>TopCoder Arena是一个纯Java应用程序，它既是Applet也是应用程序，所以需要安装Java运行环境。</li>
<li>相关软件的网址ContestAppletProd.jnlp(Java Web Start 方式安装)</li>
</ul>
</li>
<li>规则<ul>
<li>75分钟做完3道难度递增的题。(25 mins per problem)</li>
<li>比赛分为两个division：Div I和Div II。<ul>
<li>积分<code>&lt;1200</code>或者<code>unrated</code>(即注册但还没参加过比赛的）参加Div II，<code>&gt;=1200</code>的参加Div I。</li>
<li>Div I的题要比Div II难许多。 一般DivII的最后一题和Div I的第一或第二题是一样的。</li>
<li>无论是Div I或Div II。三道题目的Score一般为250, 500和1000左右，视每次的难度略有浮动。</li>
</ul>
</li>
<li>个人积分 (rating)的增减是根据你和别人在比赛中的score以及你们原来的rating决定的。tc 的提交结合了ICPC和IOI的特点，即<strong>只能交一次</strong>，必须过所有数据并且得分与用时相关。tc每周有一次Single Round Match(SRM)，每年两次大的比赛TCOpen(有$)。<ul>
<li>评分是根据你完成的时间和所完成问题的难易决定的。</li>
</ul>
</li>
<li>比赛可分为三部分：Coding Phase, Challenge Phase和System Test Phase<ul>
<li>发送代码后，你就进入Challenge Phase了，Challenge Phase部分是让参赛者浏览分配在同一房间的其他参赛者的源代码,然后设法找出其中错误，并提出一个测试参数使其不能通过测试。如果某参赛者的程序不能通过别人或系统的测试，则该参赛者在此题目的得分将为0。</li>
<li>System Test Phase: 挑战结束后，TopCoder会测试每个参赛者的代码，如果你的代码产生了不正确的输出、异常终止和其它错误，你就不能得分。</li>
</ul>
</li>
<li>如果是多个回合比赛，每个小组中得分最高的三位参赛者将进入下一轮的比赛。他们将解决一些新的问题，最后总得分在前三名的选手将会得到现金奖励。</li>
</ul>
</li>
<li>参赛<a target="_blank" rel="noopener" href="https://blog.csdn.net/qiuzhenguang/article/details/5552122">具体操作</a>, <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/5089318b2e71">图文</a></li>
</ul>
<h2 id="other-platform"><a href="#other-platform" class="headerlink" title="other platform"></a>other platform</h2><p><a target="_blank" rel="noopener" href="https://www.reddit.com/r/cscareerquestions/comments/2myh04/topcoder_vs_codechef_vs_codeforces_vs_project/">codechef</a></p>
<h2 id="Actual-experience"><a href="#Actual-experience" class="headerlink" title="Actual experience"></a>Actual experience</h2><h3 id="codeforces-1"><a href="#codeforces-1" class="headerlink" title="codeforces"></a>codeforces</h3><ol>
<li>22:35PM - 01:05 AM</li>
</ol>
<h3 id="topcoder-1"><a href="#topcoder-1" class="headerlink" title="topcoder"></a>topcoder</h3><ol>
<li>Contest time infomation is <a target="_blank" rel="noopener" href="https://www.topcoder.com/community/arena">here.</a><ol>
<li>SRM 849 on September 28, 2023 at 11:00 AM - 1:00 PM EST(UTC-4). (00:00 AM - 2:00 AM UTC+8)</li>
</ol>
</li>
<li>hard to read due to the <a target="_blank" rel="noopener" href="https://codeforces.com/blog/entry/51206">tiny font</a>.<ol>
<li>maybe copy the problem to outside</li>
</ol>
</li>
</ol>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qiuzhenguang/article/details/5552122">https://blog.csdn.net/qiuzhenguang/article/details/5552122</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/540098105">https://zhuanlan.zhihu.com/p/540098105</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-16T16:00:00.000Z" title="4/16/2023, 4:00:00 PM">2023-04-16</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.066Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">7 minutes read (About 1026 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/16/Work/Programming/4-compile/construction%20tool/cmake/">cmake</a></p><div class="content"><!-- [<sup>2</sup>](#refer-anchor) -->

<h2 id="cmake简介"><a href="#cmake简介" class="headerlink" title="cmake简介"></a>cmake简介</h2><p>CMake是一个跨平台的安装(编译)工具,可以用简单的语句来描述所有平台的安装(编译过程)。他能够输出各种各样的makefile或者project文件,能测试编译器所支持的C++特性,类似UNIX下的automake。</p>
<h2 id="项目生成CMakeLists-txt"><a href="#项目生成CMakeLists-txt" class="headerlink" title="项目生成CMakeLists.txt"></a>项目生成CMakeLists.txt</h2><p><img src="https://pic.shaojiemike.top/img/20220401090136.png"></p>
<h2 id="查看cmake选项"><a href="#查看cmake选项" class="headerlink" title="查看cmake选项"></a>查看cmake选项</h2><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/16851084/how-to-list-all-cmake-build-options-and-their-default-values">https://stackoverflow.com/questions/16851084/how-to-list-all-cmake-build-options-and-their-default-values</a></p>
<h3 id="打印详细编译信息"><a href="#打印详细编译信息" class="headerlink" title="打印详细编译信息"></a>打印详细编译信息</h3><ul>
<li>方法1:  执行命令cmake时追加：<code>-DCMAKE_VERBOSE_MAKEFILE=ON</code></li>
<li>方法2:  在CMakeLists.txt中添加：<code>set(CMAKE_VERBOSE_MAKEFILEON ON)</code></li>
<li>方法3:  make时追加： <code>VERBOSE=1</code></li>
</ul>
<h3 id="list-all-option-and-set-CACHE-cached-variables"><a href="#list-all-option-and-set-CACHE-cached-variables" class="headerlink" title="list all option( and set( CACHE (cached) variables"></a>list all option( and set( CACHE (cached) variables</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir build</span><br><span class="line">cd build</span><br><span class="line">cmake ..</span><br><span class="line">cmake -LA | awk &#x27;&#123;if(f)print&#125; /-- Cache values/&#123;f=1&#125;&#x27;</span><br><span class="line">cmake -LAH # adding -H to show more help information about each option</span><br></pre></td></tr></table></figure>

<h3 id="ccmake"><a href="#ccmake" class="headerlink" title="ccmake"></a>ccmake</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install cmake-curses-gui</span><br><span class="line">ccmake ..</span><br></pre></td></tr></table></figure>

<h2 id="常用选项"><a href="#常用选项" class="headerlink" title="常用选项"></a>常用选项</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-S &lt;path-to-source&gt;          = Explicitly specify a source directory.CMakeLists.txt路径</span><br><span class="line">-B &lt;path-to-build&gt;           = Explicitly specify a build directory.</span><br><span class="line">-DCMAKE_BUILD_TYPE=Debug</span><br><span class="line">-DCMAKE_INSTALL_PREFIX=directory --- Specify for directory the full path name of where you want thetools and libraries to be installed (default /usr/local)</span><br></pre></td></tr></table></figure>

<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><h3 id="G"><a href="#G" class="headerlink" title="-G &lt;generator&gt;"></a>-G <code>&lt;generator&gt;</code></h3><p>基于不同平台的makefile生成方式</p>
<p>-G “Unix Makefiles”<br>-G “MinGW” 之类的</p>
<h2 id="CMakeList-txt基本语法"><a href="#CMakeList-txt基本语法" class="headerlink" title="CMakeList.txt基本语法"></a>CMakeList.txt基本语法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"># cmake required version</span><br><span class="line">cmake_minimum_required(VERSION 3.0.0)</span><br><span class="line"></span><br><span class="line"># more error message</span><br><span class="line">SET( CMAKE_VERBOSE_MAKEFILE on )</span><br><span class="line"></span><br><span class="line">#project name</span><br><span class="line">PROJECT(ipcc_test)</span><br><span class="line"></span><br><span class="line"># compile</span><br><span class="line">set(CMAKE_SYSTEM_NAME Linux)</span><br><span class="line">set(CMAKE_C_COMPILER gcc)</span><br><span class="line">set(CMAKE_CXX_COMPILER g++)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># flags</span><br><span class="line">set(CMAKE_C_FLAGS &quot;$&#123;CMAKE_C_FLAGS&#125; -g -O3  -pthread&quot;)</span><br><span class="line">set(CMAKE_CXX_FLAGS &quot;$&#123;CMAKE_CXX_FLAGS&#125; -g -O3  -pthread -fopenmp&quot;)</span><br><span class="line"></span><br><span class="line">#head file path</span><br><span class="line">INCLUDE_DIRECTORIES(include)</span><br><span class="line"></span><br><span class="line">#source directory</span><br><span class="line">AUX_SOURCE_DIRECTORY(src DIR_SRCS) # 搜集所有在指定路径下的源文件的文件名，将输出结果列表储存在指定的变量DIR_SRCS中</span><br><span class="line"></span><br><span class="line"># message</span><br><span class="line">message(STATUS &quot;PROJECT_SOURCE_DIR is $&#123;PROJECT_SOURCE_DIR&#125;&quot;)</span><br><span class="line">message(STATUS &quot;PROJECT_BINARY_DIR is $&#123;PROJECT_BINARY_DIR&#125;&quot;)</span><br><span class="line">message(STATUS &quot;CMAKE_CURRENT_SOURCE_DIR is $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;&quot;)</span><br><span class="line"></span><br><span class="line">#output path</span><br><span class="line">set(EXECUTABLE_OUTPUT_PATH $&#123;PROJECT_BINARY_DIR&#125;/bin)</span><br><span class="line"></span><br><span class="line">#set environment variable</span><br><span class="line">SET(TEST $&#123;DIR_SRCS&#125;)  # 此处用于显示如何用环境变量对环境变量进行赋值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#add executable file</span><br><span class="line">ADD_EXECUTABLE(./bin/exe $&#123;TEST&#125;)</span><br></pre></td></tr></table></figure>

<p>add lib</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># add lib path</span><br><span class="line">link_directories($&#123;CMAKE_SOURCE_DIR&#125;/lib)</span><br><span class="line"></span><br><span class="line">add_executable(foo $&#123;FOO_SRCS&#125;)</span><br><span class="line">target_link_libraries(foo bar) # libbar.so is found in $&#123;CMAKE_SOURCE_DIR&#125;/lib</span><br><span class="line"></span><br><span class="line">#set extern libraries</span><br><span class="line">SET(LIBRARIES LIBRARIESlibm.so)</span><br><span class="line"></span><br><span class="line">#add link library</span><br><span class="line">TARGET_LINK_LIBRARIES(../bin/bin $&#123;LIBRARIES&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="目录下所有源文件编译成单独的可执行文件"><a href="#目录下所有源文件编译成单独的可执行文件" class="headerlink" title="目录下所有源文件编译成单独的可执行文件"></a>目录下所有源文件编译成单独的可执行文件</h2><p>实现头文件、执行文件、源代码都分开存储。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">file(GLOB files &quot;*/*.cpp&quot;)</span><br><span class="line">foreach (file $&#123;files&#125;)</span><br><span class="line">	message(STATUS &quot;file is $&#123;file&#125;&quot;)</span><br><span class="line">	string(REGEX REPLACE &quot;.+/(.+)\\..*&quot; &quot;\\1&quot; exe $&#123;file&#125;)</span><br><span class="line">	message(STATUS &quot;file name is $&#123;exe&#125;&quot;)</span><br><span class="line">	add_executable($&#123;exe&#125; $&#123;file&#125;)</span><br><span class="line">	TARGET_LINK_LIBRARIES($&#123;exe&#125; $&#123;CONAN_LIBS&#125;)</span><br><span class="line">endforeach ()</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string(REGEX REPLACE &lt;regular_expression&gt;</span><br><span class="line">       &lt;replacement_expression&gt; &lt;output_variable&gt;</span><br><span class="line">       &lt;input&gt; [&lt;input&gt;...])</span><br></pre></td></tr></table></figure>

<p>尽可能匹配 <code>&lt;regular_expression&gt;</code> 多次，并用 <code>&lt;replacement_expression&gt;</code> 替换输出中的匹配项。匹配之前将所有 <code>&lt;input&gt;</code> 参数连接在一起。</p>
<p>所述 <code>&lt;replacement_expression&gt;</code> 可以是指使用匹配的括号分隔子表达式 <code>\1 ， \2 ，...， \9</code> 。请注意，CMake代码中需要两个反斜杠（ <code>\\1</code> ）才能通过参数解析获得反斜杠。同理 <code>\\.</code>是匹配 <code>.</code>的意思。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Find all main*.cpp files and store in list mains</span><br><span class="line">file(GLOB_RECURSE mains RELATIVE &quot;$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;&quot; &quot;$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/main*.cpp&quot;)</span><br><span class="line"></span><br><span class="line">foreach(mainfile IN LISTS mains)</span><br><span class="line">    # Get file name without directory</span><br><span class="line">    get_filename_component(mainname $&#123;mainfile&#125; NAME_WE)</span><br><span class="line">    add_executable($&#123;mainname&#125; $&#123;mainfile&#125;)</span><br><span class="line">endforeach()</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">file( GLOB APP_SOURCES RELATIVE $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/src/ *.c )</span><br><span class="line"> </span><br><span class="line">foreach( sourcefile IN LISTS APP_SOURCES )</span><br><span class="line">    string( REPLACE &quot;.c&quot; &quot;&quot; program $&#123;sourcefile&#125; )</span><br><span class="line">    add_executable( $&#123;program&#125; $&#123;sourcefile&#125; )</span><br><span class="line">    #target_link_libraries( $&#123;program&#125; zmq )</span><br><span class="line">endforeach( sourcefile )</span><br></pre></td></tr></table></figure>

<h2 id="将指定的文件编译成单独的可执行文件"><a href="#将指定的文件编译成单独的可执行文件" class="headerlink" title="将指定的文件编译成单独的可执行文件"></a>将指定的文件编译成单独的可执行文件</h2><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/QuickStartLinux/blob/main/project/CMakeLists.txt">example code</a></p>
<h2 id="运行n次并求平均时间"><a href="#运行n次并求平均时间" class="headerlink" title="运行n次并求平均时间"></a>运行n次并求平均时间</h2><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/QuickStartLinux/blob/main/project/avgTime.sh">example code</a></p>
<h2 id="比较时间的Cmake优化小项目"><a href="#比较时间的Cmake优化小项目" class="headerlink" title="比较时间的Cmake优化小项目"></a>比较时间的Cmake优化小项目</h2><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/StencilAcc">https://github.com/Kirrito-k423/StencilAcc</a></p>
<h2 id="学习Quest-cmake-添加openmp的编译选项核compile-option"><a href="#学习Quest-cmake-添加openmp的编译选项核compile-option" class="headerlink" title="学习Quest cmake 添加openmp的编译选项核compile option"></a>学习Quest cmake 添加openmp的编译选项核compile option</h2><h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>ipcc初赛的项目代码有些混乱，只是简单分类。想好好学习一下cmake和make。规范项目结构，优化编译运行流程，提高效率。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
https://www.cnblogs.com/lyq105/archive/2010/12/03/1895067.html

<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/ET_Endeavoring/article/details/98989066">https://blog.csdn.net/ET_Endeavoring/article/details/98989066</a></p>
<p>————————————————<br>版权声明：本文为CSDN博主「商汤科技」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq295109601/article/details/118867192">https://blog.csdn.net/qq295109601/article/details/118867192</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-14T11:32:44.000Z" title="4/14/2023, 11:32:44 AM">2023-04-14</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.074Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">3 minutes read (About 485 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/14/Work/software/manager/dockerOnWin10/">Docker On Win10</a></p><div class="content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>WSL 2 是对WSL基础体系结构的一次重大改造，它使用虚拟化技术和 Linux 内核来实现其新功能。</li>
<li>docker是基于linux内核运行</li>
<li>WSL 2 加入了linux内核为docker在windows上运行铺平了道路</li>
</ul>
<h2 id="系统要求"><a href="#系统要求" class="headerlink" title="系统要求"></a>系统要求</h2><h3 id="开启虚拟化-Hyper-V"><a href="#开启虚拟化-Hyper-V" class="headerlink" title="开启虚拟化 + Hyper-V"></a>开启虚拟化 + Hyper-V</h3><ul>
<li>BIOS开启虚拟化<ul>
<li>查看是否开启：任务管理器 -&gt; 性能 -&gt; CPU 虚拟化：开启</li>
</ul>
</li>
<li>Control Panel（控制面板） -&gt; Programs and Features（程序和功能） -&gt; Turn Windows Features on or off（启用或关闭Widnows功能）勾选三项<ul>
<li>Windows Hypervisor Platform（Windows虚拟机监控程序平台)</li>
<li>Hyper-V</li>
<li>虚拟机平台</li>
</ul>
</li>
<li>管理员Powershell运行 <code>bcdedit /set hypervisorlaunchtype auto</code></li>
<li>重启</li>
</ul>
<h3 id="WSL-2"><a href="#WSL-2" class="headerlink" title="WSL 2"></a>WSL 2</h3><p>参考教程<a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows/wsl/install">安装 WSL</a>和<a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-3---enable-virtual-machine-feature">旧版 WSL 的手动安装步骤</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前版本</span></span><br><span class="line">❯ wsl -l -v</span><br><span class="line">  NAME            STATE           VERSION</span><br><span class="line">* Ubuntu-20.04    Stopped         1</span><br><span class="line"></span><br><span class="line">❯ wsl --set-version Ubuntu-20.04 2</span><br><span class="line">正在进行转换，这可能需要几分钟时间。</span><br><span class="line">操作成功完成。</span><br><span class="line"></span><br><span class="line">E:/PowerShell via  v14.17.3 via 🐍 v3.9.7 took 59s</span><br><span class="line">❯ wsl -l -v</span><br><span class="line">  NAME            STATE           VERSION</span><br><span class="line">* Ubuntu-20.04    Stopped         2</span><br></pre></td></tr></table></figure>

<h2 id="docker-on-Windows"><a href="#docker-on-Windows" class="headerlink" title="docker on Windows"></a>docker on Windows</h2><p>注意：用命令行运行来修改默认安装路径(重命名install.exe)，参考<a target="_blank" rel="noopener" href="https://docs.docker.com/desktop/install/windows-install/">教程</a></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\<span class="title class_">Docker</span>.<span class="property">exe</span> install --installation-dir=<span class="string">&quot;E:\commonSoftware\Docker&quot;</span></span><br></pre></td></tr></table></figure>
<p>安装完之后运行设置</p>
<ul>
<li>开启开机启动</li>
<li>在Resources里修改image保存路径</li>
</ul>
<h2 id="使用问题"><a href="#使用问题" class="headerlink" title="使用问题"></a>使用问题</h2><h3 id="1-read-only-file-system"><a href="#1-read-only-file-system" class="headerlink" title="1: read-only file system"></a>1: read-only file system</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error response from daemon: container df6ee73697883e8e09edd65404e1fcc19a2b4bfb49212c754a8b3ef9741d7bda: driver <span class="string">&quot;overlay2&quot;</span> failed to remove root filesystem: unlinkat /var/lib/docker/overlay2/475c350b02589ce2cb5ef30f0619ed3aeaba409c56d87191b8cbbd00ef618fe3: read-only file system</span><br></pre></td></tr></table></figure>
<p>需要管理员运行docker</p>
<h3 id="C盘没空间"><a href="#C盘没空间" class="headerlink" title="C盘没空间"></a>C盘没空间</h3><p>WSL还是超级占用C盘</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Antarctic_Bear/article/details/123489609">https://blog.csdn.net/Antarctic_Bear/article/details/123489609</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-11T16:00:00.000Z" title="4/11/2023, 4:00:00 PM">2023-04-11</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.074Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">9 minutes read (About 1388 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/11/Work/software/linux/LinuxAutoRun/">Linux Auto Run : crontab</a></p><div class="content"><h2 id="crontab的使用"><a href="#crontab的使用" class="headerlink" title="crontab的使用"></a>crontab的使用</h2><h3 id="任务调度"><a href="#任务调度" class="headerlink" title="任务调度"></a>任务调度</h3><p>Linux下的任务调度分为两类：系统任务调度和用户任务调度。</p>
<p>Linux系统任务是由 cron (crond) 这个系统服务来控制的，这个系统服务是默认启动的。用户自己设置的计划任务则使用crontab 命令。</p>
<h3 id="crontab-命令"><a href="#crontab-命令" class="headerlink" title="crontab 命令"></a>crontab 命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab [-u user] file</span><br><span class="line">crontab [ -u user ] [ -i ] &#123; -e | -l | -r &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-u user</code>：用于设定某个用户的crontab服务；</li>
<li><code>file</code>: file为命令文件名，表示将file作为crontab的任务列表文件并载入crontab；</li>
<li><code>-e</code>：编辑某个用户的crontab文件内容，如不指定用户则表示当前用户；</li>
<li><code>-l</code>：显示某个用户的crontab文件内容，如不指定用户则表示当前用户；</li>
<li><code>-r</code>：从&#x2F;var&#x2F;spool&#x2F;cron目录中删除某个用户的crontab文件。</li>
<li><code>-i</code>：在删除用户的crontab文件时给确认提示。</li>
</ul>
<h3 id="crontab文件"><a href="#crontab文件" class="headerlink" title="crontab文件"></a>crontab文件</h3><ul>
<li>crontab有2种编辑方式：<ul>
<li>直接编辑<code>/etc/crontab</code>文件，其中<code>/etc/crontab</code>里的计划任务是系统中的计划任务，</li>
<li>通过<code>crontab –e</code>来编辑用户的计划任务；<ul>
<li>每次编辑完某个用户的cron设置后，cron自动在&#x2F;var&#x2F;spool&#x2F;cron下生成一个与此用户同名的文件，此用户的cron信息都记录在这个文件中，这个文件是不可以直接编辑的，只可以用crontab -e 来编辑。</li>
<li>所有用户定义的crontab 文件都被保存在 <code>/var/spool/cron</code>目录中。其文件名与用户名一致。</li>
</ul>
</li>
</ul>
</li>
<li>crontab中的command尽量使用绝对路径，否则会经常因为路径错误导致任务无法执行。</li>
<li>新创建的cron job不会马上执行，至少要等2分钟才能执行，可从起cron来立即执行。</li>
<li><code>%</code>在crontab文件中表示“换行”，因此假如脚本或命令含有%,需要使用<code>\%</code>来进行转义。</li>
</ul>
<p>配置文件实例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SHELL=/bin/bash</span><br><span class="line">PATH=/sbin:/bin:/usr/sbin:/usr/bin</span><br><span class="line">HOME=/</span><br><span class="line">MAILTO=root <span class="comment"># MAILTO变量指定了crond的任务执行信息将通过电子邮件发送给root用户，如果MAILTO变量的值为空，则表示不发送任务执行信息给用户</span></span><br><span class="line"><span class="comment"># * * * * * user-name command to be executed</span></span><br><span class="line">@reboot /home/user/test.sh <span class="comment">#可以实现开机自动运行</span></span><br><span class="line">@reboot <span class="built_in">sleep</span> 300 &amp;&amp; /home/start.sh <span class="comment"># 延时启动</span></span><br></pre></td></tr></table></figure>

<p><code>@reboot</code> 表示重启开机的时候运行一次。还有很多类似参数如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">string             meaning</span><br><span class="line">------          -----------</span><br><span class="line">@reboot      Run once, at startup.</span><br><span class="line">@yearly       Run once a year, &quot;0 0 1 1 *&quot;.</span><br><span class="line">@annually    (same as @yearly)</span><br><span class="line">@monthly    Run once a month, &quot;0 0 1 * *&quot;.</span><br><span class="line">@weekly     Run once a week, &quot;0 0 * * 0&quot;.</span><br><span class="line">@daily        Run once a day, &quot;0 0 * * *&quot;.</span><br><span class="line">@midnight   (same as @daily)</span><br><span class="line">@hourly      Run once an hour, &quot;0 * * * *&quot;.</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># For details see man 4 crontabs</span><br><span class="line"># Example of job definition:</span><br><span class="line"># .---------------- minute (0 - 59)</span><br><span class="line"># | .------------- hour (0 - 23)</span><br><span class="line"># | | .---------- day of month (1 - 31)</span><br><span class="line"># | | | .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class="line"># | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class="line"># | | | | |</span><br><span class="line"></span><br><span class="line">*  */1  *  *  *  /etc/init.d/smb restart  # 每一小时重启smb</span><br></pre></td></tr></table></figure>

<p>在以上各个字段中，还可以使用以下特殊字符：</p>
<ul>
<li><code>*</code>代表所有的取值范围内的数字，如月份字段为<code>*</code>，则表示1到12个月；</li>
<li><code>/</code>代表每一定时间间隔的意思，如分钟字段为<code>*/10</code>，表示每10分钟执行1次。</li>
<li><code>-</code>代表从某个区间范围，是闭区间。如<code>2-5</code>表示<code>2,3,4,5</code>，<ul>
<li>组合：小时字段中<code>0-23/2</code>表示在0~23点范围内每2个小时执行一次。</li>
</ul>
</li>
<li><code>,</code>分散的数字（不一定连续），如<code>1,2,3,4,7,9</code>。</li>
</ul>
<h3 id="查看crontab的日志记录和状态"><a href="#查看crontab的日志记录和状态" class="headerlink" title="查看crontab的日志记录和状态"></a>查看crontab的日志记录和状态</h3><p><code>tail -f /var/log/cron</code>观察查看cron运行日志（&#x2F;var&#x2F;log&#x2F;cron.log），但是并未找到相关文件，原因是ubuntu默认没有开cron日志，执行命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/rsyslog.d/50-default.conf</span><br></pre></td></tr></table></figure>
<p>找到cron.log相关行，将前面注释符#去掉，保存退出，重启rsyslog：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo  service rsyslog  restart</span><br></pre></td></tr></table></figure>
<p>执行<code>less -10 /var/log/cron.log</code>再次查看cron运行日志，log出来了，提示如下信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">No MTA installed, discarding output</span><br></pre></td></tr></table></figure>
<p>原因是cron把屏幕输出都发送到email了，而当前环境并未安装email server，于是系统报错，解决方面就是不要直接向屏幕输出内容，而是重定向到一个文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /var/spool/mail/</span><br><span class="line">less shaojiemike</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service cron status # ubuntu</span><br></pre></td></tr></table></figure>



<h2 id="crontab-on-OpenWRT"><a href="#crontab-on-OpenWRT" class="headerlink" title="crontab on OpenWRT"></a>crontab on OpenWRT</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.编辑好脚本加入cron</span></span><br><span class="line"></span><br><span class="line">crontab -e</span><br><span class="line">* * * * * sh /root/tst.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.创建cron初始化脚本 vi /etc/init.d/S60cron，添加下面内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"><span class="comment">#start crond</span></span><br><span class="line">/usr/sbin/crond -c /etc/crontabs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改权限</span></span><br><span class="line"><span class="built_in">chmod</span> 755 /etc/init.d/S60cron</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.手动启动crond</span></span><br><span class="line">/etc/init.d/S60cron</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.查看crond任务</span></span><br><span class="line">logread -e cron</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.重启crond</span></span><br><span class="line">killall crond; /etc/init.d/S60cron</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6.禁用crond日志 修改/etc/init.d/S60cron</span></span><br><span class="line">/usr/sbin/crond -c /etc/crontabs -L /dev/null</span><br></pre></td></tr></table></figure>
<h2 id="crontab运行push-IP脚本"><a href="#crontab运行push-IP脚本" class="headerlink" title="crontab运行push-IP脚本"></a>crontab运行push-IP脚本</h2><h3 id="git-push脚本"><a href="#git-push脚本" class="headerlink" title="git-push脚本"></a>git-push脚本</h3><p><a target="_blank" rel="noopener" href="https://git.ustc.edu.cn/supertan/autoupdateipconfig">https://git.ustc.edu.cn/supertan/autoupdateipconfig</a></p>
<h2 id="Linux-开机自动运行脚本的其他方法"><a href="#Linux-开机自动运行脚本的其他方法" class="headerlink" title="Linux 开机自动运行脚本的其他方法"></a>Linux 开机自动运行脚本的其他方法</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/35402730">https://zhuanlan.zhihu.com/p/35402730</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_35440678/article/details/80489102">https://blog.csdn.net/qq_35440678/article/details/80489102</a></p>
<p><a target="_blank" rel="noopener" href="https://neucrack.com/p/91">https://neucrack.com/p/91</a></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><h3 id="登录终端自动运行"><a href="#登录终端自动运行" class="headerlink" title="登录终端自动运行"></a>登录终端自动运行</h3><p>可以用户登录的时候显示信息，记录信息，静止某些IP登录<br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1416251">https://cloud.tencent.com/developer/article/1416251</a></p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p><img src="https://pic.shaojiemike.top/img/20211126190126.png"><br><img src="https://pic.shaojiemike.top/img/20211126190703.png"></p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>最近遇到了一堆机器，想白嫖，但是如果不是自己的机器，因为某些原因重启，IP变动就再也连接不上了。所以需要一个自启动push-IP的脚本，特此学习一下。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.linuxprobe.com/how-to-crontab.html">https://www.linuxprobe.com/how-to-crontab.html</a></p>
<p><a target="_blank" rel="noopener" href="https://martybugs.net/wireless/openwrt/cron.cgi">https://martybugs.net/wireless/openwrt/cron.cgi</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-03-25T16:00:00.000Z" title="3/25/2023, 4:00:00 PM">2023-03-25</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.074Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/network/">network</a></span><span class="level-item">a minute read (About 183 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/03/25/Work/network/networkInterConnect/">Network InterConnect</a></p><div class="content"><h2 id="不同带宽与距离的互连技术"><a href="#不同带宽与距离的互连技术" class="headerlink" title="不同带宽与距离的互连技术"></a>不同带宽与距离的互连技术</h2><p><img src="https://pic.shaojiemike.top/img/20220322082825.png"><br>System Area Network(系统域网)：主机及外设<br>Local Area Network(局域网)：以太网<br>Metropolitan Area Network(城域网):WiMax<br>Wide Area Network(广域网):因特网，X.25</p>
<h3 id="没有公网IP-FRP反向代理"><a href="#没有公网IP-FRP反向代理" class="headerlink" title="没有公网IP: FRP反向代理"></a>没有公网IP: FRP反向代理</h3><h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>如果在外地，需要访问单位或者家庭的内网：</p>
<p>用ipv6，通过VPN(wireguard)连接到我寝室的路由器，然后通过路由器上网，所以可以访问校内网络。</p>
<p>台式机不关机，用台式机的wireguard也可以访问。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-03-25T16:00:00.000Z" title="3/25/2023, 4:00:00 PM">2023-03-25</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.070Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/network/">network</a></span><span class="level-item">24 minutes read (About 3672 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/03/25/Work/network/Protocol/familywifi/">Family Wi-Fi</a></p><div class="content"><h2 id="Wi-Fi"><a href="#Wi-Fi" class="headerlink" title="Wi-Fi"></a>Wi-Fi</h2><p>Wi-Fi是一个创建于IEEE 802.11标准的无线局域网技术。基于两套系统的密切相关，也常有人把Wi-Fi当做IEEE 802.11标准的同义术语。</p>
<p>Wi-Fi这个术语被人们普遍误以为是指无线保真（Wireless Fidelity），并且即便是Wi-Fi联盟本身也经常在新闻稿和文件中使用“Wireless Fidelity”这个词，Wi-Fi还出现在ITAA的一个论文中。但事实上，Wi-Fi一词没有任何意义，也是没有全写的。</p>
<h3 id="WiFi4-5-6"><a href="#WiFi4-5-6" class="headerlink" title="WiFi4&#x2F;5&#x2F;6"></a>WiFi4&#x2F;5&#x2F;6</h3><p>WIFI6  是802.11ax协议，支持2.4GHz和5GHz，支持更多的技术，更高的调制方式。比如</p>
<ol>
<li>调制模式方面，WiFi 6 支持 1024-QAM，高于 WiFi 5 的 256-QAM，数据容量更高，意味着更高的数据传输速度;</li>
<li>此外，WiFi 6 加入了新的 OFDMA 技术，支持多个终端同时并行传输，有效提升了效率并降低延时，这也就是其数据吞吐量大幅提升的秘诀。</li>
<li>WiFi6通过更优质的Long DFDM Symbol发送机制，将每个信号载波发送时间从WiFi5的3.2μs提升到12.8μs，有效降低丢包率和重传率，使传输更加稳定。</li>
<li>WiFi6容量更大：多用户MU-MIMO技术允许电脑讯网时间多终端共享信道，使多台手机&#x2F;电脑一起同时上网，从此前低效的排队顺序通过方式变成为“齐头并进”的高效方式。</li>
</ol>
<p><img src="https://pic.shaojiemike.top/img/20200420142624_54524.jpg"></p>
<h3 id="各种网络及速率"><a href="#各种网络及速率" class="headerlink" title="各种网络及速率"></a>各种网络及速率</h3><p>无线路由器发展到现在有IEEE802.11b、IEEE802.11g、IEEE802.11a、IEEE802.11n、IEEE802.11ac标准，对应的无线速率分别是11Mbps、54 Mbps、150 Mbps、300Mbps、1Gbps。这里的无线速率指的是无线传输通过的最高速率。</p>
<p>这里拿300Mbps的无线路由器速率来说一下路由器的传输速度，300Mbps无线路由器指的是传输和接收最大能通过的速率，一般看到的只是传输的速度，也就是只能看到一半的速度，也就是150Mbps，这个是理论速率，但是在实际使用过程中由于环境的干扰，会有衰减。所以在实际使用过程中都只剩下110 Mbps左右。</p>
<h2 id="WLAN"><a href="#WLAN" class="headerlink" title="WLAN"></a>WLAN</h2><p>WLAN是Wireless Local Area Network的简称，指应用无线通信技术将计算机设备互联起来。</p>
<p>WLAN起步于1997年。当年的6月，第一个无线局域网标准IEEE802. 11正式颁布实施，为无线局域网技术提供了统一标准，但当时的传输速率只有1~2 Mbit&#x2F;s。随后，IEEE委员会又开始制定新的WLAN标准，分别取名为IEEE802.11a和IEEE802. 11b。IEEE802. llb标准首先于1999年9月正式颁布，其速率为11 Mbit&#x2F;s。经过改进的IEEE802. 11a标准，在2001年年底才正式颁布，它的传输速率可达到54 Mbit&#x2F;s，几乎是IEEE802. llb标准的5倍。尽管如此，WLAN的应用并未真正开始，因为整个WLAN应用环境并不成熟。</p>
<p>目前使用最多的是802. 11n（第四代）和802. 11ac（第五代）标准，它们既可以工作在2.4 GHz频段也可以工作在5 GHz频段上，传输速率可达600 Mbit&#x2F;s（理论值）。但严格来说只有支持802. 11ac的才是真正5G，现来在说支持2.4 G和5G双频的路由器其实很多都是只支持第四代无线标准，也就是802. 11n的双频，而真正支持ac 5G的路由最便宜的都要四五百元甚至上千元。</p>
<h2 id="移动网络"><a href="#移动网络" class="headerlink" title="移动网络"></a>移动网络</h2><h3 id="4G与5G的区别"><a href="#4G与5G的区别" class="headerlink" title="4G与5G的区别"></a>4G与5G的区别</h3><p>在有线介质上传播数据，想要高速很容易，实验室中，单条光纤最大速度已达到了26Tbps。</p>
<p>无线电磁波传播，才是瓶颈。</p>
<p><img src="https://pic.shaojiemike.top/img/v2-531ab469cbbdd28ab0b50e74329ce052_720w.jpg"></p>
<p><img src="https://pic.shaojiemike.top/img/v2-6bc75ee18cebe7f048241361cbe6a33b_720w.jpg"></p>
<p><img src="https://pic.shaojiemike.top/img/v2-053a8ff97b27ac3571a62d7a17340cf2_720w.jpg"></p>
<h3 id="3-4-5G的频率"><a href="#3-4-5G的频率" class="headerlink" title="3&#x2F;4&#x2F;5G的频率"></a>3&#x2F;4&#x2F;5G的频率</h3><p>3G的四种标准和频段：CDMA2000、WCDMA、TD-SCDMA、WiMAX，1880MHz-1900MHz和2010MHz-2025MHz。</p>
<p>4G的频率和频段是：1880-1900MHz、2320-2370MHz、2575-2635MHz。</p>
<p>我国的5G初始中频频段，3.3-3.6GHz、4.8-5GHz两个频段。24.75-27.5GHz、37-42.5GHz高频频段正在征集意见。国际上主要使用28GHz进行试验</p>
<h2 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h2><p>MAC地址20-6B-E7-DB-D7-33</p>
<h3 id="WAN口与LAN口"><a href="#WAN口与LAN口" class="headerlink" title="WAN口与LAN口"></a>WAN口与LAN口</h3><p>WAN是英文Wide Area Network的首字母所写，即代表广域网；而LAN则是Local Area Network的所写，即本地网（或叫局域网）。WAN口主要用于连接外部网络，而LAN口用来连接家庭内部网络，两者主要会在标识上面有区别，此外大部分路由器的WAN口只有一个，LAN口则有四个或以上。</p>
<h3 id="管理界面"><a href="#管理界面" class="headerlink" title="管理界面"></a>管理界面</h3><p><img src="https://pic.shaojiemike.top/img/20210731090433.png"></p>
<p>根据路由器背面的提示登陆，可以修改Wi-Fi名称密码、限制设备上下行速率以及黑名单设备。（注意关闭clash代理</p>
<h3 id="DHCP服务器"><a href="#DHCP服务器" class="headerlink" title="DHCP服务器"></a>DHCP服务器</h3><p>Dynamic Host Configuration Protocol动态主机配置协议是一个局域网的网络协议。指的是由服务器控制一段IP地址范围，客户机登录服务器时就可以自动获得服务器分配的IP地址和子网掩码。担任DHCP服务器的计算机需要安装TCP&#x2F;IP协议，并为其设置静态IP地址、子网掩码、默认网关等内容。</p>
<p>采用DHCP方式对上网的用户进行临时的地址分配。也就是你的电脑连上网，DHCP服务器才从地址池里临时分配一个IP地址给你，每次上网分配的IP地址可能会不一样，这跟当时IP地址资源有关。</p>
<h3 id="SSID"><a href="#SSID" class="headerlink" title="SSID"></a>SSID</h3><p>Service Set Identifier是指服务集标识。SSID技术可以将一个无线局域网分为几个需要不同身份验证的子网络，每一个子网络都需要独立的身份验证，只有通过身份验证的用户才可以进入相应的子网络，防止未被授权的用户进入本网络。</p>
<h3 id="无线信道"><a href="#无线信道" class="headerlink" title="无线信道"></a>无线信道</h3><p>信道，也称作通道或频段。无线信号是以某一频率传送数据的。2.4G频段的工作频率为2.4-2.4835GHz，这83.5MHz频带划分为13个信道，各信道中心频率相差5MHz，向上向下分别扩展11MHz，信道带宽22MHz。中国采用欧洲&#x2F;ETSI标准，使用1-13信道。</p>
<h3 id="频段带宽"><a href="#频段带宽" class="headerlink" title="频段带宽"></a>频段带宽</h3><p>20Mhz和40Mhz的区别，你可以想象成道路的宽度，宽度越宽当然同时能跑的数据越多，也就提高了速度。</p>
<p>20MHz对应的是65M带宽，穿透性相对较好，40MHz对应的是150M带宽，穿透性肯定不如20MHz 所以追求稳定的话就选择20MHz，近距离传输就可以选择40MHZ。</p>
<p>当然，无线网的“道路”是大家共享的，一共就这么宽（802.11 b&#x2F;g&#x2F;n的频带是 2.412Ghz ~ 2.472Ghz，一共60Mhz。像802.11a&#x2F;n在中国可用的频带是5.745Ghz ~ 5.825Ghz，同样也是60Mhz），你占用的道路宽了，跑得数据多了，当然就更容易跟别人撞车，一旦撞车大家就都会慢下来，比你在窄路上走还要慢。</p>
<p><img src="https://pic.shaojiemike.top/img/6a797af2077f0ff0b2269036a77f5a0c_720w.jpg"></p>
<p>如图，原来挤一挤可以四个人同时用的，如果你用了40Mhz的话就只能两个人同时用了。所以哪个更好的问题和你多大的房子无关，最主要的是你附近有多少个人跟你一起上路的，用NetStumbler这种扫描软件可以很容易看清楚周围频带的占用情况，如果你附近没什么人用，那么恭喜你，用40Mhz来享受高速吧！如果周围“车辆”很多，那么你最好还是找一个车少点的“车道”，老老实实用20Mhz比较好。</p>
<h3 id="NetStumbler"><a href="#NetStumbler" class="headerlink" title="NetStumbler"></a>NetStumbler</h3><p>04年停止更新的软件，不支持我笔记本的网卡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Intel WIFI6 ax200 160MHz</span><br></pre></td></tr></table></figure>


<h3 id="11bgn-mixed"><a href="#11bgn-mixed" class="headerlink" title="11bgn mixed"></a>11bgn mixed</h3><p>无线协议： 11b..&#x3D;网络速度运行在11b网络标准，11g..&#x3D;网络速度运行在11g网络标准，11n..&#x3D;网络速度运行在11n网络标准。</p>
<p>如果你不知道你的无线设备是什么级别，802.11b&#x2F;g&#x2F;n是最好的选择。如果只使用.11n，旧设备可能存在兼容性问题。当然，速度是支持N的最快方式，但是它必须与特定的设备相结合。</p>
<p>实际的情况是，无线局域网的实际传输速度只能达到产品标称最大传输速度的一半以下；比如802.11b理论最大速度为11M,通过笔者的测试，在无线网络环境较好的情况下，传输100MB的文件需要3分钟左右；而相同的环境，换为支持802.11g的产品，传输100MB的文件就只需要30秒左右。</p>
<h3 id="150M的网络理论下载速率"><a href="#150M的网络理论下载速率" class="headerlink" title="150M的网络理论下载速率"></a>150M的网络理论下载速率</h3><p>150M 全写是 150Mbps,注意这里是小b,是位数。所以与MB的兆字节是不一样的，需要除8,加上一点损耗。150Mbps网络有15MB&#x2F;s就不错了。</p>
<h3 id="怎么判断网络是百兆还是千兆"><a href="#怎么判断网络是百兆还是千兆" class="headerlink" title="怎么判断网络是百兆还是千兆"></a>怎么判断网络是百兆还是千兆</h3><ol>
<li>通过路由器WAN口速率设置，10&#x2F;100M自动协商</li>
</ol>
<p>如果是有线PC的话，看网卡信息，如果连接速度是1G的就是千兆网络，如果100M 就是百兆。 </p>
<p>第二种方法： 测试下载速度，如果下载速度能够达到12.5MB&#x2F;s以上就是千兆（1000&#x2F;8),反之就是百兆。</p>
<p>第三种方法：<br>看交换机上的速度灯，如果千兆灯亮就是千兆，百兆灯亮就是百兆。如图（绿灯千兆，黄灯百兆）</p>
<p><img src="https://pic.shaojiemike.top/img/20220928200401.png"></p>
<p>家里明显是加强的百兆网络。</p>
<h3 id="全双工和半双工"><a href="#全双工和半双工" class="headerlink" title="全双工和半双工"></a>全双工和半双工</h3><p>区别是：1、全双工允许数据在两个方向上同时传输；2、半双工允许数据在两个方向上传输，但是同一时间数据只能在一个方向上传输，实际上是切换的单工。</p>
<p>同样是100M的链路，一条是全双工，另一条是半双工，如果两条链路上都进行单向通信的话，理论上是都可以达到100M的（注意：这里全双工也只有100M），但是如果两条链路都进行双向通信就不一样了，双向通信时，全双工的链路的吞吐量是200M（两个方向每个方向上都是100M），而半双工最大也只有100M。但是虽然全双工的最大吞吐量能够达到200M，但是他使用的最大带宽永远都是100M，你不可能将双向的200M变成单向的200M。</p>
<p>因此全双工的带宽＝半双工的带宽，全双工的吞吐量＝2×半双工的吞吐量。</p>
<h3 id="WPA2-PSK"><a href="#WPA2-PSK" class="headerlink" title="WPA2-PSK"></a>WPA2-PSK</h3><p>WPA&#x2F;WPA2</p>
<p>WPA&#x2F;WPA2是一种最安全的加密类型，不过由于此加密类型需要安装Radius服务器，因此，一般普通用户都用不到，只有企业用户为了无线加密更安全才会使用此种加密方式，在设备连接无线WIFI时需要Radius服务器认证，而且还需要输入Radius密码。</p>
<p>WPA-PSK&#x2F;WPA2-PSK</p>
<p>WPA-PSK&#x2F;WPA2-PSK是我们现在经常设置的加密类型，这种加密类型安全性能高，而且设置也相当简单，不过需要注意的是它有AES和TKIP两种加密算法。</p>
<ol>
<li>TKIP：Temporal Key Integrity Protocol（临时密钥完整性协议），这是一种旧的加密标准。</li>
<li>AES：Advanced Encryption Standard（高级加密标准），安全性比 TKIP 好，推荐使用。</li>
</ol>
<p>使用AES加密算法不仅安全性能更高，而且由于其采用的是最新技术，因此，在无线网络传输速率上面也要比TKIP更快。</p>
<h2 id="CommView"><a href="#CommView" class="headerlink" title="CommView"></a>CommView</h2><p>软件首次运行时，会提示你安装一个特别的无线网卡驱动，这个驱动可以使你的无线网卡处在混杂模式，接收周围的任何无线报文。</p>
<p>软件启动时，无线网卡模式被改变，无线网络是无法使用的。</p>
<p>我虽然看不懂，但是我大受震撼。但是只能5分钟试运行</p>
<p><img src="https://pic.shaojiemike.top/img/QQ%E6%88%AA%E5%9B%BE20210731221024.png"></p>
<p><img src="https://pic.shaojiemike.top/img/QQ%E6%88%AA%E5%9B%BE20210731221311.png"></p>
<p><img src="https://pic.shaojiemike.top/img/QQ%E6%88%AA%E5%9B%BE20210731221326.png"></p>
<p><img src="https://pic.shaojiemike.top/img/QQ%E6%88%AA%E5%9B%BE20210731221159.png"></p>
<h3 id="无线传输原理"><a href="#无线传输原理" class="headerlink" title="无线传输原理"></a>无线传输原理</h3><p>比如，我在图书馆上网的时候，我的电脑并没有收到对面妹子的web请求包回复啊？无线数据包已经发送到你的无线网卡，但是你的网卡一看（主要受网卡驱动影响），不是我的请求数据包啊，于是丢弃了。</p>
<h3 id="使用commview-for-wifi破解Windows无线网络WEP加密的密钥"><a href="#使用commview-for-wifi破解Windows无线网络WEP加密的密钥" class="headerlink" title="使用commview for wifi破解Windows无线网络WEP加密的密钥"></a>使用commview for wifi破解Windows无线网络WEP加密的密钥</h3><h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>为什么comview里好多华为，是很多人开了手机热点吗？</p>
<p>Type – node  type.  Possible  values  are  AP  (for  access  points),  STA  (for  stations  in  infrastructure  mode)  and  AD  HOC  (for  stations  in  ad  hoc  mode).</p>
<h2 id="家庭网络改造"><a href="#家庭网络改造" class="headerlink" title="家庭网络改造"></a>家庭网络改造</h2><h3 id="当前现状"><a href="#当前现状" class="headerlink" title="当前现状"></a>当前现状</h3><ol>
<li>套餐：公务员免费移动百兆套餐</li>
<li>网络设备：<ol>
<li>光猫自带的wifi，最高只支持到wifi4 的2.4GHz</li>
<li>不支持ipv6的垃圾TP-link路由器</li>
</ol>
</li>
</ol>
<h3 id="改进"><a href="#改进" class="headerlink" title="改进"></a>改进</h3><ol>
<li>将路由器更换为wifi6，直接跑满百兆(在学校里都能随便千兆的)</li>
</ol>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>暑假回到家，把家里的WiFi弄一下</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/53878059">https://www.zhihu.com/question/53878059</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-03-25T16:00:00.000Z" title="3/25/2023, 4:00:00 PM">2023-03-25</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.074Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">21 minutes read (About 3151 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/03/25/Work/network/vpn/OpenWRT/">OpenWRT on router</a></p><div class="content"><h2 id="OpenWRT-Installation-on-router"><a href="#OpenWRT-Installation-on-router" class="headerlink" title="OpenWRT Installation on router"></a>OpenWRT Installation on router</h2><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>原理在路由器的两个flash(firmware和firmware1)的两个系统里，写入一个支持图形化OpenWRT的新系统</p>
<h3 id="查看路由器型号是否支持"><a href="#查看路由器型号是否支持" class="headerlink" title="查看路由器型号是否支持"></a>查看路由器型号是否支持</h3><p><a target="_blank" rel="noopener" href="https://openwrt.org/toh/start?dataflt%5BModel*~%5D=Redmi">https://openwrt.org/toh/start?dataflt%5BModel*%7E%5D=Redmi</a></p>
<p><strong>查看系统型号</strong>：路由器默认是魔改的openwrt的系统：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">root@XiaoQiang:~<span class="comment"># cat /etc/os-release</span></span><br><span class="line">NAME=<span class="string">&quot;OpenWrt&quot;</span></span><br><span class="line">VERSION=<span class="string">&quot;18.06-SNAPSHOT&quot;</span></span><br><span class="line">ID=<span class="string">&quot;openwrt&quot;</span></span><br><span class="line">ID_LIKE=<span class="string">&quot;lede openwrt&quot;</span></span><br><span class="line">PRETTY_NAME=<span class="string">&quot;OpenWrt 18.06-SNAPSHOT&quot;</span></span><br><span class="line">VERSION_ID=<span class="string">&quot;18.06-snapshot&quot;</span></span><br><span class="line">HOME_URL=<span class="string">&quot;http://openwrt.org/&quot;</span></span><br><span class="line">BUG_URL=<span class="string">&quot;http://bugs.openwrt.org/&quot;</span></span><br><span class="line">SUPPORT_URL=<span class="string">&quot;http://forum.lede-project.org/&quot;</span></span><br><span class="line">BUILD_ID=<span class="string">&quot;unknown&quot;</span></span><br><span class="line">LEDE_BOARD=<span class="string">&quot;mediatek/mt7622&quot;</span></span><br><span class="line">LEDE_ARCH=<span class="string">&quot;aarch64_cortex-a53_neon-vfpv4&quot;</span></span><br><span class="line">LEDE_TAINTS=<span class="string">&quot;no-all glibc busybox&quot;</span></span><br><span class="line">LEDE_DEVICE_MANUFACTURER=<span class="string">&quot;OpenWrt&quot;</span></span><br><span class="line">LEDE_DEVICE_MANUFACTURER_URL=<span class="string">&quot;http://openwrt.org/&quot;</span></span><br><span class="line">LEDE_DEVICE_PRODUCT=<span class="string">&quot;Generic&quot;</span></span><br><span class="line">LEDE_DEVICE_REVISION=<span class="string">&quot;v0&quot;</span></span><br><span class="line">LEDE_RELEASE=<span class="string">&quot;OpenWrt 18.06-SNAPSHOT unknown&quot;</span></span><br></pre></td></tr></table></figure>

<p>刷入OpenWRT后：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">root@ax6s:~<span class="comment"># cat /etc/os-release</span></span><br><span class="line">NAME=<span class="string">&quot;OpenWrt&quot;</span></span><br><span class="line">VERSION=<span class="string">&quot;22.03.2&quot;</span></span><br><span class="line">ID=<span class="string">&quot;openwrt&quot;</span></span><br><span class="line">ID_LIKE=<span class="string">&quot;lede openwrt&quot;</span></span><br><span class="line">PRETTY_NAME=<span class="string">&quot;OpenWrt 22.03.2&quot;</span></span><br><span class="line">VERSION_ID=<span class="string">&quot;22.03.2&quot;</span></span><br><span class="line">HOME_URL=<span class="string">&quot;https://openwrt.org/&quot;</span></span><br><span class="line">BUG_URL=<span class="string">&quot;https://bugs.openwrt.org/&quot;</span></span><br><span class="line">SUPPORT_URL=<span class="string">&quot;https://forum.openwrt.org/&quot;</span></span><br><span class="line">BUILD_ID=<span class="string">&quot;r19803-9a599fee93&quot;</span></span><br><span class="line">OPENWRT_BOARD=<span class="string">&quot;mediatek/mt7622&quot;</span></span><br><span class="line">OPENWRT_ARCH=<span class="string">&quot;aarch64_cortex-a53&quot;</span></span><br><span class="line">OPENWRT_TAINTS=<span class="string">&quot;&quot;</span></span><br><span class="line">OPENWRT_DEVICE_MANUFACTURER=<span class="string">&quot;OpenWrt&quot;</span></span><br><span class="line">OPENWRT_DEVICE_MANUFACTURER_URL=<span class="string">&quot;https://openwrt.org/&quot;</span></span><br><span class="line">OPENWRT_DEVICE_PRODUCT=<span class="string">&quot;Generic&quot;</span></span><br><span class="line">OPENWRT_DEVICE_REVISION=<span class="string">&quot;v0&quot;</span></span><br><span class="line">OPENWRT_RELEASE=<span class="string">&quot;OpenWrt 22.03.2 r19803-9a599fee93&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="路由器开启dropbear-轻量级sshd服务"><a href="#路由器开启dropbear-轻量级sshd服务" class="headerlink" title="路由器开启dropbear(轻量级sshd服务)"></a>路由器开启dropbear(轻量级sshd服务)</h3><p><img src="https://pic.shaojiemike.top/img/20221031221343.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nvram set ssh_en=1  # 不是1也退出1</span><br><span class="line">/etc/init.d/dropbear start # 脚本start段里增加了判断,稳定版不让启动直接退出</span><br><span class="line">netstat -n # 查看22端口</span><br></pre></td></tr></table></figure>

<p>修改<code>/etc/dropbear/authorized_keys</code> 来添加ssh公钥</p>
<h3 id="Redmi-Ax6s实操"><a href="#Redmi-Ax6s实操" class="headerlink" title="Redmi-Ax6s实操"></a>Redmi-Ax6s实操</h3><p>参考<a target="_blank" rel="noopener" href="https://openwrt.org/toh/xiaomi/ax3200">教程</a>，和具体的<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1q94y1f7fj/?spm_id_from=333.788&vd_source=5bbdecb1838c6f684e0b823d0d4f6db3">视频</a></p>
<ol>
<li><p>打开 telnet access</p>
<ol>
<li>installing a beta version of the stock firmware (<a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/YangWang92/AX6S-unlock/master/miwifi_rb03_firmware_stable_1.2.7.bin">miwifi_rb03_firmware_stable_1.2.7_closedbeta.bin</a>)上传文件安装<img src="https://pic.shaojiemike.top/img/20221031163246.png"></li>
</ol>
</li>
<li><p>获取密码，本地运行返回密码。<code>&lt;S/N&gt;</code>为产品序列号(可以在路由器下面的标签上找到序列号。)</p>
<ol>
<li><pre><code class="bash"> #!/usr/bin/env python3
 import sys
 import hashlib

 if sys.version_info &lt; (3,7):
     print(&quot;python version is not supported&quot;, file=sys.stderr)
     sys.exit(1)

 # credit goes to zhoujiazhao:
 # https://blog.csdn.net/zhoujiazhao/article/details/102578244

 salt = &#123;&#39;r1d&#39;: &#39;A2E371B0-B34B-48A5-8C40-A7133F3B5D88&#39;,
         &#39;others&#39;: &#39;d44fb0960aa0-a5e6-4a30-250f-6d2df50a&#39;&#125;


 def get_salt(sn):
     if &quot;/&quot; not in sn:
         return salt[&quot;r1d&quot;]

     return &quot;-&quot;.join(reversed(salt[&quot;others&quot;].split(&quot;-&quot;)))


 def calc_passwd(sn):
     passwd = sn + get_salt(sn)
     m = hashlib.md5(passwd.encode())
     return m.hexdigest()[:8]


 if __name__ == &quot;__main__&quot;:
     if len(sys.argv) != 2:
         print(f&quot;Usage: &#123;sys.argv[0]&#125; &lt;S/N&gt;&quot;)
         sys.exit(1)

     serial = sys.argv[1]
     print(calc_passwd(serial))
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">3. telnet到机器上(ssh不行). 密码为前面设置的(登录上去passwd把密码改简单)![](https://pic.shaojiemike.top/img/20221031165332.png)</span><br><span class="line"></span><br><span class="line">   1. ```bash</span><br><span class="line">      XiaoQiang login: root</span><br><span class="line">      Password:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      BusyBox v1.25.1 (2021-10-25 11:02:56 UTC) built-in shell (ash)</span><br><span class="line"></span><br><span class="line">      -----------------------------------------------------</span><br><span class="line">            Welcome to XiaoQiang!</span><br><span class="line">      -----------------------------------------------------</span><br><span class="line">      $$$$$$\  $$$$$$$\  $$$$$$$$\      $$\      $$\        $$$$$$\  $$\   $$\</span><br><span class="line">      $$  __$$\ $$  __$$\ $$  _____|     $$ |     $$ |      $$  __$$\ $$ | $$  |</span><br><span class="line">      $$ /  $$ |$$ |  $$ |$$ |           $$ |     $$ |      $$ /  $$ |$$ |$$  /</span><br><span class="line">      $$$$$$$$ |$$$$$$$  |$$$$$\         $$ |     $$ |      $$ |  $$ |$$$$$  /</span><br><span class="line">      $$  __$$ |$$  __$$&lt; $$  __|        $$ |     $$ |      $$ |  $$ |$$  $$&lt;</span><br><span class="line">      $$ |  $$ |$$ |  $$ |$$ |           $$ |     $$ |      $$ |  $$ |$$ |\$$\</span><br><span class="line">      $$ |  $$ |$$ |  $$ |$$$$$$$$\       $$$$$$$$$  |       $$$$$$  |$$ | \$$\</span><br><span class="line">      \__|  \__|\__|  \__|\________|      \_________/        \______/ \__|  \__|</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      root@XiaoQiang:~# ls</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ol>
</li>
<li><p>先备份, 路由器flash有若干分区，其中有一个分区存储路由器MAC地址、无线校准参数等。若损坏可能导致无线信号弱等问题。因此刷之前最好备份。</p>
<ol>
<li><p>通过cat &#x2F;proc&#x2F;mtd，知道对应关系</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">root@XiaoQiang:/tmp<span class="comment"># cat /proc/mtd</span></span><br><span class="line">dev:    size   erasesize  name</span><br><span class="line">mtd0: 07f80000 00020000 <span class="string">&quot;ALL&quot;</span></span><br><span class="line">mtd1: 00080000 00020000 <span class="string">&quot;Bootloader&quot;</span></span><br><span class="line">mtd2: 00040000 00020000 <span class="string">&quot;Config&quot;</span></span><br><span class="line">mtd3: 00040000 00020000 <span class="string">&quot;Bdata&quot;</span></span><br><span class="line">mtd4: 00040000 00020000 <span class="string">&quot;Factory&quot;</span></span><br><span class="line">mtd5: 00040000 00020000 <span class="string">&quot;crash&quot;</span></span><br><span class="line">mtd6: 00040000 00020000 <span class="string">&quot;crash_syslog&quot;</span></span><br><span class="line">mtd7: 00040000 00020000 <span class="string">&quot;cfg_bak&quot;</span></span><br><span class="line">mtd8: 00400000 00020000 <span class="string">&quot;kernel0&quot;</span></span><br><span class="line">mtd9: 00400000 00020000 <span class="string">&quot;kernel1&quot;</span></span><br><span class="line">mtd10: 01a00000 00020000 <span class="string">&quot;rootfs0&quot;</span></span><br><span class="line">mtd11: 01a00000 00020000 <span class="string">&quot;rootfs1&quot;</span></span><br><span class="line">mtd12: 02600000 00020000 <span class="string">&quot;overlay&quot;</span></span><br><span class="line">mtd13: 01b80000 00020000 <span class="string">&quot;obr&quot;</span></span><br><span class="line">mtd14: 00c1c000 0001f000 <span class="string">&quot;ubi_rootfs&quot;</span></span><br><span class="line">mtd15: 021e8000 0001f000 <span class="string">&quot;data&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>备份，其中Factory中存储了EEPROM的数据</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /dev/mtd4 &gt; Factory.dump</span><br><span class="line"><span class="built_in">cat</span> /dev/mtd3 &gt; Bdata.dump</span><br><span class="line"></span><br><span class="line"><span class="comment">#on windows</span></span><br><span class="line">scp root@192.168.33.193:/tmp/factory.bin .</span><br><span class="line">scp root@192.168.33.228:/tmp/factory.bin .</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>准备刷OpenWRT</p>
<ol>
<li><p>路由器ssh终端，配置环境变量</p>
<ol>
<li><pre><code class="bash"># nvram写入flash
# Enable uart and boot_wait, useful for testing or recovery if you have an uart adapter!
nvram set ssh_en=1
# 设置串口打开，以便ssh失败时，硬件debug
nvram set uart_en=1 
nvram set boot_wait=on

# Set kernel1 as the booting kernel
nvram set flag_boot_success=1
nvram set flag_try_sys1_failed=0
nvram set flag_try_sys2_failed=0

# Commit our nvram changes
nvram commit
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. 电脑本地准备传输可执行文件(开启了ssh服务，直接scp传上去即可)</span><br><span class="line">   1. Rename the file [openwrt-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin](http://downloads.openwrt.org/releases/22.03.2/targets/mediatek/mt7622/openwrt-22.03.2-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin) you previously downloaded to your computer to `factory.bin`</span><br><span class="line">   2. in the same directory where the file factory.bin is located, run the following command `python -m http.server`</span><br><span class="line">3. 路由器ssh终端，配置环境变量接受并运行</span><br><span class="line"></span><br><span class="line">   ```bash</span><br><span class="line">   cd /tmp</span><br><span class="line">   wget http://&lt;IP address of your computer&gt;:8000/factory.bin</span><br><span class="line">   mtd -r write factory.bin firmware</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ol>
</li>
<li><p>完成后重启，默认ip变成<code>192.168.1.1</code></p>
</li>
<li><p>失败加上<code>nvram set &quot;boot_fw1=run boot_rd_img;bootm&quot;</code> 重来</p>
</li>
</ol>
</li>
</ol>
<h2 id="WireGuard-Server-in-OpenWRT"><a href="#WireGuard-Server-in-OpenWRT" class="headerlink" title="WireGuard Server in OpenWRT"></a>WireGuard Server in OpenWRT</h2><h3 id="OpenWRT换软件安装源"><a href="#OpenWRT换软件安装源" class="headerlink" title="OpenWRT换软件安装源"></a>OpenWRT换软件安装源</h3><p>修改<code>/etc/opkg/distfeeds.conf</code>的配置，<a target="_blank" rel="noopener" href="https://doc.embedfire.com/openwrt/user_manal/zh/latest/User_Manual/openwrt/opkg.html">参考</a></p>
<p>下面为x86软路由的源(由于是snapshot的安装不了，<a target="_blank" rel="noopener" href="https://www.right.com.cn/forum/thread-8250249-1-1.html">内核不匹配</a>)，如果是arm的需要看对应架构代号。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_core https://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/targets/x86/64/packages</span><br><span class="line">src/gz openwrt_base https://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/x86_64/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/x86_64/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/x86_64/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/x86_64/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.ustc.edu.cn/openwrt/releases/22.03.3/packages/x86_64/telephony</span><br></pre></td></tr></table></figure>

<p>比如ax6s</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@ax6s ~]$ <span class="built_in">cat</span> /etc/opkg/distfeeds.conf</span><br><span class="line">src/gz openwrt_core https://downloads.openwrt.org/releases/22.03.2/targets/mediatek/mt7622/packages</span><br><span class="line">src/gz openwrt_base https://downloads.openwrt.org/releases/22.03.2/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://downloads.openwrt.org/releases/22.03.2/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://downloads.openwrt.org/releases/22.03.2/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://downloads.openwrt.org/releases/22.03.2/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://downloads.openwrt.org/releases/22.03.2/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure>

<p>可以通过<code>cat /etc/os-release</code>查看, 上面的如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@OpenWrt:~# cat /etc/os-release</span><br><span class="line">NAME=&quot;OpenWrt&quot;</span><br><span class="line">VERSION=&quot;SNAPSHOT&quot; # snapshot是开发版的意思</span><br><span class="line">PRETTY_NAME=&quot;OpenWrt SNAPSHOT&quot;</span><br><span class="line">VERSION_ID=&quot;snapshot&quot;</span><br><span class="line">BUILD_ID=&quot;r5636-25f88e06f&quot;</span><br><span class="line">OPENWRT_BOARD=&quot;x86/64&quot;</span><br><span class="line">OPENWRT_ARCH=&quot;x86_64&quot;</span><br><span class="line"></span><br><span class="line">[root@ax6s ~]$ cat /etc/os-release</span><br><span class="line">NAME=&quot;OpenWrt&quot;</span><br><span class="line">VERSION=&quot;22.03.2&quot;</span><br><span class="line">PRETTY_NAME=&quot;OpenWrt 22.03.2&quot;</span><br><span class="line">VERSION_ID=&quot;22.03.2&quot;</span><br><span class="line">BUILD_ID=&quot;r19803-9a599fee93&quot;</span><br><span class="line">OPENWRT_BOARD=&quot;mediatek/mt7622&quot;</span><br><span class="line">OPENWRT_ARCH=&quot;aarch64_cortex-a53&quot;</span><br></pre></td></tr></table></figure>

<h3 id="WireGuard安装服务端程序"><a href="#WireGuard安装服务端程序" class="headerlink" title="WireGuard安装服务端程序"></a>WireGuard安装服务端程序</h3><ol>
<li><p><a target="_blank" rel="noopener" href="https://drive.google.com/drive/folders/1eyIxVfyzO4nyzaT1sSr6xWf50_5YJN7g">eSir精品小包固件下载地址(感谢esir的辛勤付出)</a></p>
<ol>
<li>内置了wireguard(使用对等节点的公私钥加密)</li>
</ol>
</li>
<li><p>OpenWrt安装WireGuard命令(eSir精品小包已集成WireGuard,无需安装)</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">opkg update</span><br><span class="line">opkg install luci-proto-wireguard luci-app-wireguard wireguard kmod-wireguard wireguard-tools</span><br><span class="line">reboot</span><br><span class="line"></span><br><span class="line"><span class="comment"># x86</span></span><br><span class="line">opkg install wireguard luci-app-wireguard luci-i18n-wireguard-zh-cn wireguard-tools</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="WireGuard服务端设置"><a href="#WireGuard服务端设置" class="headerlink" title="WireGuard服务端设置"></a>WireGuard服务端设置</h3><ol start="4">
<li>配置WG服务器端公私钥<img src="https://pic.shaojiemike.top/img/20220823200631.png"></li>
<li>OpenWrt的luci界面配置服务器节点<img src="https://pic.shaojiemike.top/img/20220823200822.png"><img src="https://pic.shaojiemike.top/img/20220823200850.png"><img src="https://pic.shaojiemike.top/img/20220823201004.png"><img src="https://pic.shaojiemike.top/img/20220823201044.png"></li>
<li>OpenWrt-网络-防火墙设置<img src="https://pic.shaojiemike.top/img/20220823201224.png"><ol>
<li>如果OpenWrt做主路由，还需要在<strong>防火墙-&gt;通信规则</strong>中开放端口<img src="https://pic.shaojiemike.top/img/20220823201448.png"></li>
<li>假如是旁路由，需要设置端口转发<img src="https://pic.shaojiemike.top/img/20220823201541.png"></li>
</ol>
</li>
<li>为每个客户端节点创建密钥<img src="https://pic.shaojiemike.top/img/20220823201733.png"></li>
<li>OpenWrt-&gt;网络-&gt;接口，修改原本的WG0设置。修改Peers<img src="https://pic.shaojiemike.top/img/20220823202000.png"><ol>
<li>左下角<code>更多选项</code>选择预共享密钥，添加</li>
<li>由于不能同时用，所以每个机器要单独配置，不能公用</li>
</ol>
</li>
</ol>
<h3 id="WireGuard客户端设置"><a href="#WireGuard客户端设置" class="headerlink" title="WireGuard客户端设置"></a>WireGuard客户端设置</h3><p>客户端模板文件<code>test.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[Interface]</span><br><span class="line">Address = 192.168.100.2 约定的IP</span><br><span class="line">PrivateKey = cprivatekey文件内容 </span><br><span class="line">DNS = 路由器IP</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = spublickey文件内容  </span><br><span class="line"></span><br><span class="line">AllowedIPs = 0.0.0.0/0</span><br><span class="line">//上面代表所有流量走WG。如果启用下面这行代码,表示只有192.168.2.0/24, 192.168.100.0/24这两个子网的IP走WireGuard</span><br><span class="line">//逗号前是家庭局域网的IP段，后面是VPN的IP段</span><br><span class="line">//AllowedIPs = 192.168.2.0/24, 192.168.100.0/24</span><br><span class="line"></span><br><span class="line">PresharedKey=sharedkey内容</span><br><span class="line">Endpoint = 公网IP（动态域名）:端口号</span><br><span class="line">PersistentKeepalive = 25</span><br></pre></td></tr></table></figure>

<h3 id="WireGuard配置匹配一览图"><a href="#WireGuard配置匹配一览图" class="headerlink" title="WireGuard配置匹配一览图"></a>WireGuard配置匹配一览图</h3><p><code>&quot;[Interface] Address&quot; is the address that gets assigned to the (virtual) network interface (e.g. wg0).</code><br>简单来说客户端和服务器端约定的相同的虚拟地址来通信。<br><img src="https://pic.shaojiemike.top/img/20221031233627.png"><br>注意防火墙放行端口<br><img src="https://pic.shaojiemike.top/img/20230201110425.png"><br><a target="_blank" rel="noopener" href="https://www.wireguard.com/install/">官方客户端软件下载</a></p>
<h3 id="WireGuard常见问题"><a href="#WireGuard常见问题" class="headerlink" title="WireGuard常见问题"></a>WireGuard常见问题</h3><p>注意：如果连接不上</p>
<ol>
<li>首先保证路由器有网，不是路由器下的电脑有网<ol>
<li>上次师兄的电脑开了OpenVPN上网，导致路由器ipv6能ping通，但是不能上网</li>
</ol>
</li>
<li>注意防火墙，一个是wan口允许某几个端口进来(wg连接请求)。另一个是wan能到wg，wg也能到wan，才能实现上网<ol>
<li>至于和lan的关系，如果需要通过wg访问lan口下的设备(nas，电脑)再打开即可。</li>
</ol>
</li>
</ol>
<h2 id="Clash-in-OpenWrt"><a href="#Clash-in-OpenWrt" class="headerlink" title="Clash in OpenWrt"></a>Clash in OpenWrt</h2><p>安装版本来自<a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash">github</a>，但是由于DDNS会出问题，所以关闭了。(可以考虑2次wireguard蹭网和clash for linux)</p>
<h3 id="安装编译好的-IPK-文件（openwrt-的软件包）"><a href="#安装编译好的-IPK-文件（openwrt-的软件包）" class="headerlink" title="安装编译好的 IPK 文件（openwrt 的软件包）"></a>安装编译好的 IPK 文件（openwrt 的软件包）</h3><p>安装依赖</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#iptables</span></span><br><span class="line">opkg update</span><br><span class="line">opkg install coreutils-nohup bash iptables dnsmasq-full curl ca-certificates ipset ip-full iptables-mod-tproxy iptables-mod-extra libcap libcap-bin ruby ruby-yaml kmod-tun kmod-inet-diag unzip luci-compat luci luci-base</span><br><span class="line"></span><br><span class="line"><span class="comment">#nftables</span></span><br><span class="line">opkg update</span><br><span class="line">opkg install kmod-nft-tproxy</span><br><span class="line"></span><br><span class="line">wget https://github.com/vernesong/OpenClash/releases/download/v0.45.59-beta/luci-app-openclash_0.45.59-beta_all.ipk</span><br><span class="line">root@ax6s:/tmp<span class="comment"># opkg install luci.ipk</span></span><br><span class="line">Installing luci-app-openclash (0.45.59-beta) to root...</span><br><span class="line">Configuring luci-app-openclash.</span><br><span class="line">cfg117882</span><br></pre></td></tr></table></figure>

<p>重启后出现<img src="https://pic.shaojiemike.top/img/20221101155643.png"></p>
<p>注意不会代理ping，所以ping不通的话，可以用curl来测试代理是否生效。https失败可以尝试http</p>
<h3 id="安装问题"><a href="#安装问题" class="headerlink" title="安装问题"></a>安装问题</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Collected errors:</span><br><span class="line"> * check_data_file_clashes: Package dnsmasq-full wants to install file /etc/hotplug.d/ntp/25-dnsmasqsec</span><br><span class="line">        But that file is already provided by package  * dnsmasq</span><br><span class="line"> * check_data_file_clashes: Package dnsmasq-full wants to install file /etc/init.d/dnsmasq</span><br><span class="line">        But that file is already provided by package  * dnsmasq</span><br><span class="line"> * check_data_file_clashes: Package dnsmasq-full wants to install file /usr/lib/dnsmasq/dhcp-script.sh</span><br><span class="line">        But that file is already provided by package  * dnsmasq</span><br><span class="line"> * check_data_file_clashes: Package dnsmasq-full wants to install file /usr/sbin/dnsmasq</span><br><span class="line">        But that file is already provided by package  * dnsmasq</span><br><span class="line"> * check_data_file_clashes: Package dnsmasq-full wants to install file /usr/share/acl.d/dnsmasq_acl.json</span><br><span class="line">        But that file is already provided by package  * dnsmasq</span><br><span class="line"> * check_data_file_clashes: Package dnsmasq-full wants to install file /usr/share/dnsmasq/dhcpbogushostname.conf</span><br><span class="line">        But that file is already provided by package  * dnsmasq</span><br><span class="line"> * check_data_file_clashes: Package dnsmasq-full wants to install file /usr/share/dnsmasq/rfc6761.conf</span><br><span class="line">        But that file is already provided by package  * dnsmasq</span><br><span class="line"> * opkg_install_cmd: Cannot install package luci-app-openclash.</span><br></pre></td></tr></table></figure>

<p>解决办法如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">opkg update</span><br><span class="line">opkg remove dnsmasq &amp;&amp; opkg install dnsmasq-full </span><br></pre></td></tr></table></figure>

<h2 id="DDNS-in-OpenWRT"><a href="#DDNS-in-OpenWRT" class="headerlink" title="DDNS in OpenWRT"></a>DDNS in OpenWRT</h2><h3 id="DDNS简介"><a href="#DDNS简介" class="headerlink" title="DDNS简介"></a>DDNS简介</h3><p>Dynamic DNS： 根據網際網路的域名訂立規則，域名必須跟從固定的IP位址。但動態DNS系統為動態網域提供一個固定的名稱伺服器（Name server），透過即時更新，使外界使用者能夠連上動態使用者的網址。</p>
<p><a target="_blank" rel="noopener" href="https://keesenz.com/2020/1067.html">cloudflare动态域名</a> 或者<a target="_blank" rel="noopener" href="https://blog.csdn.net/pzhier/article/details/111570930">阿里云动态域名</a>的DDNS都是很好的选择。</p>
<h3 id="定时脚本实现DDNS"><a href="#定时脚本实现DDNS" class="headerlink" title="定时脚本实现DDNS"></a>定时脚本实现DDNS</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@ax6s ~]$ <span class="built_in">cat</span> ddns.sh</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">Network=wan@eth0</span><br><span class="line"></span><br><span class="line">Date=`<span class="built_in">echo</span> $<span class="string">&#x27;\n\n&#x27;</span> &gt;&gt; /tmp/ddns_ipv4`</span><br><span class="line">Date=`<span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span>&quot;</span> &gt;&gt; /tmp/ddns_ipv4`</span><br><span class="line">IPv4=`ip a|grep -A 2 <span class="variable">$&#123;Network&#125;</span>|sed -n <span class="string">&#x27;3p&#x27;</span>|awk  <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> |sed -e <span class="string">&#x27;s/\/[0-9]*//&#x27;</span>`</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$IPv4</span> &gt;&gt; /tmp/ddns_ipv4</span><br><span class="line">IPv6=`ip a|grep -A 4 <span class="variable">$&#123;Network&#125;</span>|sed -n <span class="string">&#x27;5p&#x27;</span>|awk  <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> |sed -e <span class="string">&#x27;s/\/[0-9]*//&#x27;</span>`</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$IPv6</span> &gt;&gt; /tmp/ddns_ipv4</span><br><span class="line"></span><br><span class="line">curl -v http://v6.sync.afraid.org/u/4TY5…………tKF/?address=<span class="variable">$&#123;IPv6&#125;</span> 2&gt;&amp;1 &gt;&gt; /tmp/ddns_ipv4</span><br><span class="line">curl -v http://sync.afraid.org/u/M8uh9Zf…………ryjxs/?address=<span class="variable">$&#123;IPv4&#125;</span> 2&gt;&amp;1 &gt;&gt; /tmp/ddns_ipv4</span><br></pre></td></tr></table></figure>

<p>修改<code>crontab -e</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin</span><br><span class="line">4,9,14,19,24,29,34,39,44,49,54,59 * * * * <span class="built_in">sleep</span> 11 ; /root/ddns.sh</span><br></pre></td></tr></table></figure>

<h3 id="OpenWRT-为局域网设备设置IPv6-DDNS"><a href="#OpenWRT-为局域网设备设置IPv6-DDNS" class="headerlink" title="OpenWRT 为局域网设备设置IPv6 DDNS"></a>OpenWRT 为局域网设备设置IPv6 DDNS</h3><p>脚本围绕，打印邻居路由表命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@ax6s ~]$ ip -6 neigh | grep 2c:f0:5d</span><br><span class="line">2001:da8:d800:611:1818:61b6:6422:56a1 dev br-lan lladdr 2c:f0:5d:ac:1d:2c DELAY</span><br><span class="line">2001:da8:d800:611:5464:f7ab:9560:a646 dev br-lan lladdr 2c:f0:5d:ac:1d:2c STALE</span><br><span class="line">2001:da8:d800:611:4d13:ead8:9aaf:bfc4 dev br-lan lladdr 2c:f0:5d:ac:1d:2c REACHABLE</span><br><span class="line">2001:da8:d800:611:a063:863f:caa3:4a73 dev br-lan lladdr 2c:f0:5d:ac:1d:2c STALE</span><br><span class="line">2001:da8:d800:611:8c75:4f49:f9d0:42b6 dev br-lan lladdr 2c:f0:5d:ac:1d:2c STALE</span><br></pre></td></tr></table></figure>

<p>新建 <code>/usr/lib/ddns/dynamic_dns_iphelper.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">get_ip</span></span>()&#123;</span><br><span class="line">    MAC=<span class="variable">$1</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$MAC</span>&quot;</span> = <span class="string">&quot;&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">exit</span> 0</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    IP=$(ip -6 neigh | grep -i <span class="variable">$MAC</span> | grep -v <span class="string">&quot;fe80:&quot;</span> | grep -E <span class="string">&quot;REACHABLE|STALE&quot;</span> | <span class="built_in">cut</span> -d<span class="string">&quot; &quot;</span> -f1 | grep -m 1 -E -o <span class="string">&quot;([0-9a-fA-F]&#123;1,4&#125;(:?))&#123;8&#125;&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$IP</span>&quot;</span> = <span class="string">&quot;&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        IP=$(mac_to_ipv6_ll <span class="variable">$MAC</span> $(get_ip_prefix))</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$IP</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">mac_to_ipv6_ll</span></span>() &#123;</span><br><span class="line">    PREFIX=<span class="string">&quot;fe80::&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$#</span>&quot;</span> = 2 ]; <span class="keyword">then</span></span><br><span class="line">        PREFIX=<span class="variable">$2</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    IFS=<span class="string">&#x27;:&#x27;</span>; <span class="built_in">set</span> <span class="variable">$1</span>; <span class="built_in">unset</span> IFS</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;$PREFIX<span class="subst">$(printf %02x $((0x$1 ^ 2)</span>))<span class="variable">$2</span>:<span class="variable">$&#123;3&#125;</span>ff:fe<span class="variable">$4</span>:$5<span class="variable">$6</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">get_ip_prefix</span></span>() &#123;</span><br><span class="line">    IP_PREFIX=$(ip -6 addr | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | grep <span class="string">&#x27;::1&#x27;</span> | grep -m 1 -E -o <span class="string">&quot;([0-9a-fA-F]&#123;1,4&#125;(:?))&#123;4&#125;&quot;</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$IP_PREFIX</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> != <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> `get_ip <span class="variable">$1</span>`</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>新建 <code>/usr/lib/ddns/getip_demo.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"> </span><br><span class="line">. /usr/lib/ddns/dynamic_dns_iphelper.sh</span><br><span class="line"><span class="comment"># 遵循 EUI-64 的设备使用这个方式 可以获取到静态后缀的IPv6地址</span></span><br><span class="line"><span class="comment"># 00:00:00:00:00:00修改为目标设备的MAC地址</span></span><br><span class="line"><span class="built_in">echo</span> $(mac_to_ipv6_ll <span class="string">&quot;00:00:00:00:00:00&quot;</span> $(get_ip_prefix))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"> </span><br><span class="line">. /usr/lib/ddns/dynamic_dns_iphelper.sh</span><br><span class="line"><span class="comment"># 00:00:00:00:00:00修改为目标设备的MAC地址</span></span><br><span class="line"><span class="comment"># 不遵循 EUI-64 的设备 可以获取到动态IPv6地址</span></span><br><span class="line"><span class="built_in">echo</span> `get_ip <span class="string">&quot;00:00:00:00:00:00&quot;</span>`</span><br></pre></td></tr></table></figure>

<p>脚本<code>chmod +x</code>就行<img src="https://pic.shaojiemike.top/img/20230104210347.png"></p>
<h2 id="School-Network"><a href="#School-Network" class="headerlink" title="School Network"></a>School Network</h2><p>根据学校的网络通各个端口的说明，0号端口没有经过NAT，登录之后获得公网ipv4。但是IPv4封了许多端口(至少ssh的22端口是不行的)</p>
<p>IPv6是直接可以ssh访问的。</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=F8z74oE71Gg&t=19s">https://www.youtube.com/watch?v=F8z74oE71Gg&amp;t=19s</a></p>
<p><a target="_blank" rel="noopener" href="https://xiumu.org/technology/openwrt-set-for-local-area-network-lan-equipment-ipv6-ddns.shtml">https://xiumu.org/technology/openwrt-set-for-local-area-network-lan-equipment-ipv6-ddns.shtml</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-03-25T15:46:51.000Z" title="3/25/2023, 3:46:51 PM">2023-03-25</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-04-19T08:13:30.074Z" title="4/19/2024, 8:13:30 AM">2024-04-19</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">a few seconds read (About 51 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/03/25/Work/network/vpn/OpenWRTNetworkManage/">OpenWRTNetworkManage</a></p><div class="content"><p><a href="#refer-anchor"><sup>2</sup></a><br>觉得有意义写，先占个位子</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无

</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/24/">Previous</a></div><div class="pagination-next"><a href="/page/26/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/24/">24</a></li><li><a class="pagination-link is-current" href="/page/25/">25</a></li><li><a class="pagination-link" href="/page/26/">26</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/40/">40</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="Shaojie Tan"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shaojie Tan</p><p class="is-size-6 is-block">𝘊𝘰𝘮𝘱𝘶𝘵𝘦𝘳 𝘈𝘳𝘤𝘩𝘪𝘵𝘦𝘤𝘵𝘶𝘳𝘦 &amp; 𝘏𝘗𝘊</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Anhui, Hefei, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">398</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">33</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">498</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Kirrito-k423" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Kirrito-k423"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile" href="/categories/Artificial-Intelligence/"><span class="level-start"><span class="level-item">Artificial Intelligence</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Camp/"><span class="level-start"><span class="level-item">Camp</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Databases/"><span class="level-start"><span class="level-item">Databases</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/HPC/"><span class="level-start"><span class="level-item">HPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math/"><span class="level-start"><span class="level-item">Math</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">25</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-system/"><span class="level-start"><span class="level-item">Operating system</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">25</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Thinking/"><span class="level-start"><span class="level-item">Thinking</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Treasure/"><span class="level-start"><span class="level-item">Treasure</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorials/"><span class="level-start"><span class="level-item">Tutorials</span></span><span class="level-end"><span class="level-item tag">118</span></span></a></li><li><a class="level is-mobile" href="/categories/Values/"><span class="level-start"><span class="level-item">Values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/diary/"><span class="level-start"><span class="level-item">diary</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/english/"><span class="level-start"><span class="level-item">english</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/hardware/"><span class="level-start"><span class="level-item">hardware</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/love/"><span class="level-start"><span class="level-item">love</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/operating-system/"><span class="level-start"><span class="level-item">operating system</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/software/"><span class="level-start"><span class="level-item">software</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/thinking/"><span class="level-start"><span class="level-item">thinking</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/thinking/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/toLearn/"><span class="level-start"><span class="level-item">toLearn</span></span><span class="level-end"><span class="level-item tag">52</span></span></a></li><li><a class="level is-mobile" href="/categories/values/"><span class="level-start"><span class="level-item">values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://ibug.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ibugs</span></span><span class="level-right"><span class="level-item tag">ibug.io</span></span></a></li><li><a class="level is-mobile" href="https://jia.je/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jiegec</span></span><span class="level-right"><span class="level-item tag">jia.je</span></span></a></li><li><a class="level is-mobile" href="https://leimao.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">leimao</span></span><span class="level-right"><span class="level-item tag">leimao.github.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-04-19T07:40:25.000Z">2024-04-19</time></p><p class="title"><a href="/2024/04/19/Work/Programming/2-languageGrammar/c/CplusDebugPrint/">C &amp; C++: Debug Print like icecream in Python</a></p><p class="categories"><a href="/categories/Programming/">Programming</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-04-18T01:54:32.000Z">2024-04-18</time></p><p class="title"><a href="/2024/04/18/Work/software/manager/podman/">Podman</a></p><p class="categories"><a href="/categories/software/">software</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-04-17T11:44:58.000Z">2024-04-17</time></p><p class="title"><a href="/2024/04/17/Work/software/simulator/Victima/">Victima: feature extension</a></p><p class="categories"><a href="/categories/software/">software</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-04-15T02:55:06.000Z">2024-04-15</time></p><p class="title"><a href="/2024/04/15/OutOfWork/5-VideoEntertainment/Waifu2x8KUpscalingBug/">Waifu2x 8K Upscaling Bug</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-04-14T03:33:25.000Z">2024-04-14</time></p><p class="title"><a href="/2024/04/14/Work/Training/HuaweiTrainingCamp/">Huawei Training Camp</a></p><p class="categories"><a href="/categories/Camp/">Camp</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/04/"><span class="level-start"><span class="level-item">April 2024</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/03/"><span class="level-start"><span class="level-item">March 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/02/"><span class="level-start"><span class="level-item">February 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">January 2024</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/12/"><span class="level-start"><span class="level-item">December 2023</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/11/"><span class="level-start"><span class="level-item">November 2023</span></span><span class="level-end"><span class="level-item tag">33</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/10/"><span class="level-start"><span class="level-item">October 2023</span></span><span class="level-end"><span class="level-item tag">56</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/09/"><span class="level-start"><span class="level-item">September 2023</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/08/"><span class="level-start"><span class="level-item">August 2023</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/07/"><span class="level-start"><span class="level-item">July 2023</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">June 2023</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">May 2023</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/04/"><span class="level-start"><span class="level-item">April 2023</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/03/"><span class="level-start"><span class="level-item">March 2023</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">February 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">January 2023</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/12/"><span class="level-start"><span class="level-item">December 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/11/"><span class="level-start"><span class="level-item">November 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">October 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">September 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">August 2022</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">July 2022</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">June 2022</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">May 2022</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">April 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">March 2022</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">February 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">January 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">December 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">November 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">October 2021</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">September 2021</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">July 2021</span></span><span class="level-end"><span class="level-item tag">28</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/5G/"><span class="tag">5G</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/64bits-vs-32bits/"><span class="tag">64bits vs 32bits</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMAT/"><span class="tag">AMAT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMD/"><span class="tag">AMD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ASPLOS/"><span class="tag">ASPLOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ATI/"><span class="tag">ATI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AVX/"><span class="tag">AVX</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Alpha/"><span class="tag">Alpha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analysis/"><span class="tag">Analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apt/"><span class="tag">Apt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BHive/"><span class="tag">BHive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BT/"><span class="tag">BT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BTL/"><span class="tag">BTL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Baka-Mitai/"><span class="tag">Baka Mitai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Big-Endian/"><span class="tag">Big-Endian</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a><p class="is-size-7"><span>&copy; 2024 Shaojie Tan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>