<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>SHAOJIE&#039;S BOOK</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="SHAOJIE&#039;S BOOK"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="SHAOJIE&#039;S BOOK"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="SHAOJIE&#039;S BOOK"><meta property="og:url" content="http://icarus.shaojiemike.top/"><meta property="og:site_name" content="SHAOJIE&#039;S BOOK"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://icarus.shaojiemike.top/img/og_image.png"><meta property="article:author" content="Shaojie Tan"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://icarus.shaojiemike.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icarus.shaojiemike.top"},"headline":"SHAOJIE'S BOOK","image":["http://icarus.shaojiemike.top/img/og_image.png"],"author":{"@type":"Person","name":"Shaojie Tan"},"publisher":{"@type":"Organization","name":"SHAOJIE'S BOOK","logo":{"@type":"ImageObject","url":"http://icarus.shaojiemike.top/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-10T16:00:00.000Z" title="5/10/2023, 4:00:00 PM">2023-05-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.345Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">18 minutes read (About 2655 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/10/Work/software/manager/docker/">Docker</a></p><div class="content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>基于 Go 语言 并遵从 Apache2.0 协议开源。Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上。</p>
<h3 id="structure"><a href="#structure" class="headerlink" title="structure"></a>structure</h3><p><img src="https://pic.shaojiemike.top/img/20220306200924.png"></p>
<h3 id="Docker-vs-VMWare"><a href="#Docker-vs-VMWare" class="headerlink" title="Docker vs VMWare"></a>Docker vs VMWare</h3><p>相对于传统虚拟机，Docker 没有硬件虚拟化&#x2F;hypervisor，可以运行在物理机、虚拟机, 甚至嵌套运行在 Docker 容器内，并且其不携带操作系统的，会轻巧很多。而且调用资源时利用 <code>Docker Engine</code> 去调用宿主的的资源，这时候过程是虚拟内存-&gt;真正物理内存。</p>
<p><img src="https://assets-global.website-files.com/5efc3ccdb72aaa7480ec8179/5f03f585f55f79c8b17ae7d2_containers-blog.png" alt="Image title">{ align&#x3D;left }<img src="https://images.contentstack.io/v3/assets/blt300387d93dabf50e/bltb6200bc085503718/5e1f209a63d1b6503160c6d5/containers-vs-virtual-machines.jpg" alt="Image title2">{ align&#x3D;right }</p>
<h3 id="Potential-Linux-Kernel-Compatibility-Issues"><a href="#Potential-Linux-Kernel-Compatibility-Issues" class="headerlink" title="Potential Linux Kernel Compatibility Issues"></a>Potential Linux Kernel Compatibility Issues</h3><p>!!! question “ how docker run different ubuntu version <strong>Sharing the same running kernel</strong>? no SW conficts?”</p>
<pre><code> If your host kernel is &quot;**compatible enough**&quot; with the software in the container you want to run it will work; otherwise, it won&#39;t.[^1] So what does &quot;compatible enough&quot; mean? It depends on what requests the program makes of the kernel (system calls) and** what features it expects the kernel to support**. Some programs make requests that will break things; others don&#39;t. 
</code></pre>
<p>!!! example “Compatibility”</p>
<pre><code>on an Ubuntu 18.04 (kernel 4.19) or similar host:[^1]
  `docker run centos:7 bash` works fine.
  ` docker run centos:6 bash` fails with `exit code 139`, meaning it terminated with a segmentation violation signal; this is because the `4.19 kernel` doesn&#39;t support something that that build of bash tried to do.
  `docker run centos:6 ls` works fine because it&#39;s not making a request the kernel can&#39;t handle, as bash was.
  If you try `docker run centos:6 bash` on an older kernel, say 4.9 or earlier, you&#39;ll find it will work fine.
</code></pre>
<h2 id="Portainer-统一管理"><a href="#Portainer-统一管理" class="headerlink" title="Portainer 统一管理"></a>Portainer 统一管理</h2><ul>
<li>安装Portainer Community Edition (CE)而不是Portainer Business Edition (BE)</li>
<li><a target="_blank" rel="noopener" href="https://docs.portainer.io/start/install/server/docker/wsl">WSL的安装</a>和linux类似  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建 Portainer Server 将用于存储其数据库的卷</span></span><br><span class="line">docker volume create portainer_data</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载并安装 Portainer Server 容器, 9000为WebUI端口， 8000 是可选的，仅当您计划将边缘计算功能与边缘代理一起使用时才需要。</span></span><br><span class="line">docker run -d -p 8000:8000 -p 9000:9000 --name portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v /portainer_data:/data portainer/portainer-ce:2.11.1</span><br></pre></td></tr></table></figure></li>
<li>Portainer里的docker部署: 建议使用 Stacks 下的 docker-compose 来进行</li>
</ul>
<p>!!! warning “端口映射”</p>
<pre><code>`2333:8000` 为 容器内部端口`8000`，宿主机端口为`2333`
</code></pre>
<p>!!! tip “远程WebUI访问”</p>
<pre><code>默认部署在 `http://localhost:9000`, 可以如下操作来部署 `http://222.195.72.218:9000/#!/home`

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># docker在服务器上时，可以关闭防火墙访问，也可以ssh代理到本地</span><br><span class="line">brainiac1# ufw status</span><br><span class="line">Status: inactive</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安裝 docker</span></span><br><span class="line">curl -sSL get.docker.com | sh</span><br><span class="line"><span class="comment"># 將目前使用者新增到 docker 群組內，需要重新登入才會生效</span></span><br><span class="line">sudo usermod -aG docker <span class="variable">$USER</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安裝 docker-compose</span></span><br><span class="line">sudo curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/<span class="subst">$(curl -sL https://api.github.com/repos/docker/compose/releases/latest | grep tag_name | cut -d&#x27;<span class="string">&quot;&#x27; -f 4)/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span></span></span><br><span class="line"><span class="subst"><span class="string">sudo chmod +x /usr/local/bin/docker-compose</span></span></span><br></pre></td></tr></table></figure>

<h2 id="Relationship"><a href="#Relationship" class="headerlink" title="Relationship"></a>Relationship</h2><figure markdown>
  ![dockerTripleThing](https://www.markbuckler.com/img/docker_high_level.png)
  <figcaption>Dockerfile & Image & Container</figcaption>
</figure>

<ul>
<li>Image like a static configed&#x2F;compiled software using dockerfile&#x2F;gcc. </li>
<li>And container is a running process that we can control.</li>
</ul>
<h2 id="Dockfile"><a href="#Dockfile" class="headerlink" title="Dockfile"></a>Dockfile</h2><p>First, <strong>write an installation script for all of your dependencies</strong>. This script is written with Docker specific syntax and is called a Dockerfile(1).<br>{ .annotate }</p>
<ol>
<li>A Dockerfile is a script used to <strong>create a Docker image</strong>, which is a lightweight, standalone, and executable package that includes everything needed to run a piece of software, including the code, runtime, system tools, system libraries, and settings.</li>
</ol>
<figure markdown>
  ![Building image using Dockerfile](https://iximiuz.com/you-need-containers-to-build-an-image/kdpv.png)
  <figcaption>Building image using Dockerfile</figcaption>
</figure>

<p>??? tip “Using dockerfile in portainer” </p>
<pre><code>`Images &gt; Build image`
</code></pre>
<p>??? example “Dockerfile”</p>
<pre><code>Here&#39;s a simple Dockerfile code snippet(**it&#39;s usually built on official base image**):

<figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Use an official base image</span></span><br><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">20.04</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set environment variables</span></span><br><span class="line"><span class="keyword">ENV</span> MY_ENV_VARIABLE my_value</span><br><span class="line"></span><br><span class="line"><span class="comment"># Run commands to install packages and set up the environment</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; apt-get install -y \</span></span><br><span class="line"><span class="language-bash">    package1 \</span></span><br><span class="line"><span class="language-bash">    package2 \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">rm</span> -rf /var/lib/apt/lists/*</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Copy files from your local machine to the container</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> local_directory /container_directory</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the working directory</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Expose a port</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define the command to run when the container starts</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;command_to_start_application&quot;</span>]</span></span><br></pre></td></tr></table></figure>

In this example, and more [options](https://docs.docker.com/engine/reference/builder/):

- `FROM` specifies the base image, in this case, Ubuntu 20.04.
- `ENV` sets an environment variable.
- `RUN` executes commands to install packages.
- `COPY` copies files from your local machine to the container.
- `WORKDIR` sets the working directory within the container.
- `EXPOSE` specifies that the container will listen on port 8080.
- `CMD` defines the command that will be executed when the container starts.
</code></pre>
<h2 id="cheat-sheet"><a href="#cheat-sheet" class="headerlink" title="cheat sheet"></a>cheat sheet</h2><p><img src="https://pic.shaojiemike.top/img/20220306200737.png"></p>
<h3 id="查看容器出错日志"><a href="#查看容器出错日志" class="headerlink" title="查看容器出错日志"></a>查看容器出错日志</h3><p>后接容器ID</p>
<p><code>docker logs --tail 1000  1fed0d4782cf</code></p>
<h2 id="docker-build"><a href="#docker-build" class="headerlink" title="docker build"></a>docker build</h2><p>Then, run these commands to build a Docker image of your environment by using <code>docker build</code>. </p>
<p>??? note “Dockfile Path”</p>
<pre><code>docker build 基本的格式为 `docker build [ 选项 ] 路径`，该命令将读取指定路径下(包括子目录)的 Dockerfile，并将该路径下所有内容发送给 Docker 服务端，由服务端来创建镜像。因此一般建议放置 Dockerfile 的目录为空目录。也可以通过 `.dockerignore` 文件(每一行添加一条匹配模式)来让 Docker 忽略路径下的目录和文件。
</code></pre>
<p>??? example “option”</p>
<pre><code>[option](https://docs.docker.com/engine/reference/commandline/build/#build-with-url) like

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker build -t myrepo/myapp /tmp/test1/</span><br><span class="line">$ docker build -t username/image_name:tag_name .</span><br></pre></td></tr></table></figure>
</code></pre>
<h3 id="docker-build-use-proxy"><a href="#docker-build-use-proxy" class="headerlink" title="docker build use proxy"></a>docker build use proxy</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker build --network=host\</span><br><span class="line">    --build-arg http_proxy=http://127.0.0.1:7890 \</span><br><span class="line">    --build-arg https_proxy=http://127.0.0.1:7890 \</span><br><span class="line">    --build-arg <span class="string">&quot;NO_PROXY=localhost,127.0.0.1,.example.com&quot;</span> \</span><br><span class="line">    -t ithemal:latest .</span><br></pre></td></tr></table></figure>

<p>You also can set the proxy in the Dockerfile.[^6]</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ENV</span> http_proxy <span class="string">&quot;http://127.0.0.1:7890&quot;</span></span><br><span class="line"><span class="keyword">ENV</span> https_proxy <span class="string">&quot;https://127.0.0.1:7890&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="docker-tag"><a href="#docker-tag" class="headerlink" title="docker tag"></a>docker tag</h3><p>镜像的完整 tag 不仅包含镜像名字, 还指明了镜像从哪里来, 要到哪里去, 就像一个 URL。可以通过 -t 选项指定镜像的标签信息，譬如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]</span><br></pre></td></tr></table></figure>

<h2 id="docker-run"><a href="#docker-run" class="headerlink" title="docker run"></a>docker run</h2><p>Once successfully built, you can instantiate copies of this image as many times as you would like by using <code>docker run</code> to create Docker containers.</p>
<p><img src="https://pic.shaojiemike.top/shaojiemike/2023/12/37121d51f5b604f073984c590052c195.png" alt="Container Lifecycle">[^2] </p>
<p>??? example “option”</p>
<pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用镜像nginx:latest以交互模式启动一个容器,在容器内执行/bin/bash命令。</span></span><br><span class="line">$ docker run -it nginx:latest /bin/bash</span><br><span class="line"><span class="comment"># remove all stop container</span></span><br><span class="line">$ docker container prune</span><br></pre></td></tr></table></figure>

- `-i`: 以交互模式运行容器，通常与 `-t` 同时使用；
- `-t`: 为容器重新分配一个伪输入终端，通常与 `-i` 同时使用；
- `-d`: 后台运行容器，并返回容器ID；
- `-P`: 随机端口映射，容器内部端口随机映射到主机的端口
- `-p`: 指定端口映射，格式为：`主机(宿主)端口:容器端口`
- `--name=&quot;nginx-lb&quot;`: 为容器指定一个名称；
- `-e username=&quot;ritchie&quot;`: 设置环境变量；
</code></pre>
<h3 id="docker-Volumes"><a href="#docker-Volumes" class="headerlink" title="docker Volumes"></a>docker Volumes</h3><p><a target="_blank" rel="noopener" href="https://docs.docker.com/storage/volumes/">volumes</a> allow me to interact with data outside of the docker container. </p>
<p>??? question “Volumes is better than bind mounts”</p>
<pre><code>1. Volumes are easier to **back up or migrate** than bind mounts.
2. Volumes work on both Linux and Windows containers.
So [option](https://docs.docker.com/engine/reference/commandline/run/) `-v` is better than `--mount`
</code></pre>
<p>??? example “options”</p>
<pre><code><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">run</span><span class="language-bash"> \</span></span><br><span class="line"><span class="language-bash">-v &lt;path to datasets&gt;:/datasets \</span></span><br><span class="line"><span class="language-bash">-v &lt;path to approx-vision&gt;:/approx-vision \</span></span><br><span class="line"><span class="language-bash">-it mbuckler/approx-vision \</span></span><br><span class="line"><span class="language-bash">/bin/bash</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="docker-push-pull"><a href="#docker-push-pull" class="headerlink" title="docker push&#x2F;pull"></a>docker push&#x2F;pull</h2><p>It is in these containers that you will run or develop your code. If you would like other people to be able to use your Docker image you can push to DockerHub (with <code>docker push</code>), and if you want to use someone else’s image you can pull from DockerHub (with <code>docker pull</code>).[^4]</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><h3 id="AllForOne"><a href="#AllForOne" class="headerlink" title="AllForOne"></a>AllForOne</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">docker_name=<span class="string">&quot;mihoyo-bbs&quot;</span></span><br><span class="line">docker stop <span class="variable">$&#123;docker_name&#125;</span></span><br><span class="line">docker <span class="built_in">rm</span> <span class="variable">$&#123;docker_name&#125;</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\033[5;36mOrz 旧容器(镜像)已清理\033[0m&quot;</span></span><br><span class="line"></span><br><span class="line">time_now=$(<span class="built_in">date</span> <span class="string">&quot;+%m%d%H&quot;</span>)</span><br><span class="line">docker build -f dockerfile --tag <span class="variable">$&#123;docker_name&#125;</span>:<span class="string">&quot;<span class="variable">$&#123;time_now&#125;</span>&quot;</span> .</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\033[5;36mOrz 镜像重建完成\033[0m&quot;</span></span><br><span class="line"></span><br><span class="line">docker run -itd \</span><br><span class="line">	--name <span class="variable">$&#123;docker_name&#125;</span> \</span><br><span class="line">	--log-opt max-size=1m \</span><br><span class="line">	-v $(<span class="built_in">pwd</span>):/var/app \</span><br><span class="line">	<span class="variable">$&#123;docker_name&#125;</span>:<span class="string">&quot;<span class="variable">$&#123;time_now&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\033[5;36mOrz 镜像启动完成\033[0m&quot;</span></span><br><span class="line">docker ps -a <span class="comment">#顯示目前的 container 及狀態</span></span><br><span class="line">docker logs <span class="variable">$&#123;docker_name&#125;</span> -f <span class="comment"># -f, --follow         Follow log output</span></span><br></pre></td></tr></table></figure>

<h3 id="hackergame2020-的源码的dockerfile"><a href="#hackergame2020-的源码的dockerfile" class="headerlink" title="hackergame2020 的源码的dockerfile"></a>hackergame2020 的源码的dockerfile</h3><p><img src="https://pic.shaojiemike.top/img/20211024201741.png"></p>
<h2 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h2><p><a target="_blank" rel="noopener" href="https://www.runoob.com/docker/docker-compose.html">Compose</a> 是用于定义和运行多容器 Docker 应用程序的工具。<strong>需要额外安装</strong>。通过 Compose，您可以使用 YML 文件来配置应用程序需要的所有服务。然后，使用一个命令，就可以从 YML 文件配置中创建并启动所有服务。</p>
<p>??? failure “十分不建议使用<code>docker-compose</code>命令”</p>
<pre><code>使用`root`用户执行`docker-compose up -d`，不然会有文件权限问题。各种问题，软件版本问题等，十分折磨。
</code></pre>
<p>??? example “compose file”</p>
<pre><code><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mihoyo-bbs:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">darkatse/mihoyo-bbs</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">CRON_SIGNIN=30</span> <span class="number">9</span> <span class="string">*</span> <span class="string">*</span> <span class="string">*</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MULTI=TRUE</span></span><br><span class="line">    <span class="attr">volumes:</span> <span class="comment"># 将主机的数据卷或着文件挂载到容器里。</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">.:/var/app</span></span><br><span class="line">    <span class="attr">logging:</span> <span class="comment"># driver：指定服务容器的日志记录驱动程序，默认值为json-file</span></span><br><span class="line">      <span class="attr">driver:</span> <span class="string">&quot;json-file&quot;</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">max-size:</span> <span class="string">&quot;1m&quot;</span> <span class="comment"># 最多1m个文件,当达到文件限制上限，会自动删除旧得文件。</span></span><br></pre></td></tr></table></figure>

AutoMihoyoBBS[^5] 将上述 YAML 文件保存为 docker-compose.yml，然后在包含该文件的目录中运行以下命令：
</code></pre>
<p>??? example “deploy”</p>
<pre><code>`docker-compose logs -f`命令来查看程序输出。 `-f, --follow         Follow log output`

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker-compose up 命令来启动并运行整个应用程序。</span></span><br><span class="line"><span class="comment"># docker-compose down 可以将整个应用停止并删除相关资源。</span></span><br><span class="line">$ docker-compose up -d </span><br><span class="line"><span class="comment"># 在后台执行该服务可以加上 -d 参数</span></span><br><span class="line">Creating network <span class="string">&quot;automihoyobbs_default&quot;</span> with the default driver</span><br><span class="line">Pulling mihoyo-bbs (darkatse/mihoyo-bbs:)...</span><br><span class="line">latest: Pulling from darkatse/mihoyo-bbs</span><br><span class="line">df9b9388f04a: Pull complete</span><br><span class="line">a1ef3e6b7a02: Pull complete</span><br><span class="line">7a687728470e: Pull complete</span><br><span class="line">4ecf30de1710: Pull complete</span><br><span class="line">a1f99e431609: Pull complete</span><br><span class="line">7e9141a60a66: Pull complete</span><br><span class="line">7aa39aec04ec: Pull complete</span><br><span class="line">a75b4b3d5690: Pull complete</span><br><span class="line">dee0a6b07871: Pull complete</span><br><span class="line">abed80702fed: Pull complete</span><br><span class="line">Digest: sha256:10958801df87675c390a8cdcc153c2f87a41af92d35f9f2cf9b7758aa3e10d1b</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> darkatse/mihoyo-bbs:latest</span><br><span class="line">Creating automihoyobbs_mihoyo-bbs_1 ... <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="启动docker并通过xhost保持tmux连接"><a href="#启动docker并通过xhost保持tmux连接" class="headerlink" title="启动docker并通过xhost保持tmux连接"></a>启动docker并通过xhost保持tmux连接</h2><p><code>docker/docker_connect.sh</code> 或者 <a target="_blank" rel="noopener" href="https://blog.csdn.net/winter2121/article/details/118223637">https://blog.csdn.net/winter2121/article/details/118223637</a></p>
<p>What if I want to use X forwarding from within a Docker container?[^4]</p>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="Got-permission-denied-while-trying-to-connect-to-the-Docker-daemon-socket"><a href="#Got-permission-denied-while-trying-to-connect-to-the-Docker-daemon-socket" class="headerlink" title="Got permission denied while trying to connect to the Docker daemon socket"></a>Got permission denied while trying to connect to the Docker daemon socket</h3><ol>
<li>sudo 运行</li>
<li>加入docker用户组</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo groupadd docker     <span class="comment">#添加docker用户组</span></span><br><span class="line">sudo usermod -aG docker <span class="variable">$USER</span> <span class="comment">#将登陆用户加入到docker用户组中</span></span><br><span class="line">sudo gpasswd -a <span class="variable">$USER</span> docker    <span class="comment"># or</span></span><br><span class="line"><span class="built_in">groups</span> <span class="comment"># 重新登录查看是否生效</span></span><br><span class="line">newgrp docker     <span class="comment">#更新用户组</span></span><br><span class="line">docker ps    <span class="comment">#测试docker命令是否可以使用sudo正常使用</span></span><br></pre></td></tr></table></figure>

<h3 id="failed-to-create-endpoint-portainer-on-network-bridge-adding-interface-xxx-to-bridge-yyy-failed-Device-does-not-exist"><a href="#failed-to-create-endpoint-portainer-on-network-bridge-adding-interface-xxx-to-bridge-yyy-failed-Device-does-not-exist" class="headerlink" title="failed to create endpoint portainer on network bridge: adding interface xxx to bridge yyy failed: Device does not exist."></a>failed to create endpoint portainer on network bridge: adding interface <code>xxx</code> to bridge <code>yyy</code> failed: Device does not exist.</h3><p>??? failure “gpt’s solution” </p>
<pre><code>这个错误表明 Docker 在创建容器时遇到了问题，具体原因是无法将网络接口 `veth2c573cd` 添加到 Docker 网络桥 `docker0`，并且提示设备不存在。


查看 Docker 网络列表，确保相关的网络（可能是 `bridge`）存在：

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>

如果不存在，你可以尝试删除并重新创建：

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker network <span class="built_in">rm</span> yyy</span><br><span class="line">docker network create yyy</span><br></pre></td></tr></table></figure>

然后再次运行你的 Docker 容器。
</code></pre>
<h3 id="sudo-password-in-docker-image"><a href="#sudo-password-in-docker-image" class="headerlink" title="sudo password in docker image"></a>sudo password in docker image</h3><p>link <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/28721699/root-password-inside-a-docker-container">1</a> <a target="_blank" rel="noopener" href="https://www.zhangshengrong.com/p/AvN6YAOWam/">2</a> <a target="_blank" rel="noopener" href="https://blog.csdn.net/xzl9811wl/article/details/107060382">3</a></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1395434">https://cloud.tencent.com/developer/article/1395434</a></p>
<p>[^1]: <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/32841982/how-can-docker-run-distros-with-different-kernels">How can Docker run distros with different kernels?</a></p>
<p>[^2]: <a target="_blank" rel="noopener" href="https://linuxhandbook.com/container-lifecycle-docker-commands/#what-are-docker-containers-again">Docker Commands for Managing Container Lifecycle (Definitive Guide)</a></p>
<p>[^4]: <a target="_blank" rel="noopener" href="https://www.markbuckler.com/post/docker-use/">Developing in Docker</a></p>
<p>[^6]: <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1806455">https://cloud.tencent.com/developer/article/1806455</a> &amp; <a target="_blank" rel="noopener" href="http://www.debugself.com/2018/01/17/docker_network/">http://www.debugself.com/2018/01/17/docker_network/</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-10T16:00:00.000Z" title="5/10/2023, 4:00:00 PM">2023-05-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.349Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">a few seconds read (About 50 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/10/Work/software/visualization/vue/">Vue</a></p><div class="content"><h2 id="vue-chart"><a href="#vue-chart" class="headerlink" title="vue-chart"></a>vue-chart</h2><p><a target="_blank" rel="noopener" href="https://stackblitz.com/edit/vue-echarts-vue-3?file=src/App.vue">https://stackblitz.com/edit/vue-echarts-vue-3?file=src%2FApp.vue</a></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-09T16:00:00.000Z" title="5/9/2023, 4:00:00 PM">2023-05-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.305Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">2 minutes read (About 275 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/09/OutOfWork/3-homepage/3-homepage/">Homepage great template</a></p><div class="content"><h2 id="个人网站的需求分析"><a href="#个人网站的需求分析" class="headerlink" title="个人网站的需求分析"></a>个人网站的需求分析</h2><h3 id="功能需求"><a href="#功能需求" class="headerlink" title="功能需求"></a>功能需求</h3><ol>
<li>博客的标签和分类是必须的</li>
<li>搜索功能、评论功能(Mkdocs <strong>内置搜索</strong>)</li>
<li><a target="_blank" rel="noopener" href="https://github.com/feathericons/feather#client-side-javascript">icon support</a> and <a target="_blank" rel="noopener" href="https://retrolog.io/blog/creating-a-hugo-theme-from-scratch/">usage</a></li>
</ol>
<h3 id="个人需求"><a href="#个人需求" class="headerlink" title="个人需求"></a>个人需求</h3><ol>
<li>少图片的冷淡风</li>
<li>但是要有彩色或者加粗等功能来体现文中的重要程度。(Mkdocs 的提示框真好用)</li>
</ol>
<h2 id="个人主页"><a href="#个人主页" class="headerlink" title="个人主页"></a>个人主页</h2><ol>
<li>基于<a target="_blank" rel="noopener" href="https://squidfunk.github.io/mkdocs-material/">Mkdocs</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-theme-icarus">Hexo icarus</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/adityatelange/hugo-PaperMod/">Hugo PaperMod</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/blinkfox/hexo-theme-matery">Hexo matery</a></li>
</ol>
<p>??? example “mkdocs”</p>
<pre><code>  1. https://101.lug.ustc.edu.cn/
  2. https://docs.acsalab.com/
  3. https://jia.je/
</code></pre>
<h2 id="部署位置"><a href="#部署位置" class="headerlink" title="部署位置"></a>部署位置</h2><h3 id="cloudflare-pages"><a href="#cloudflare-pages" class="headerlink" title="cloudflare pages"></a>cloudflare pages</h3><ol>
<li>不同于之前的<a target="_blank" rel="noopener" href="https://findhao.net/easycoding/2609">教程</a>, 创建位置有所调整。<ol>
<li><code>Workers &amp; Pages</code> 下 <code>create an application</code>, choose the <code>Pages</code> tab and follow the git connection tutorial.</li>
<li>最大的优点是集成了github和mkdocs，可以直接运行<code>mkdocs build</code> 实现<a target="_blank" rel="noopener" href="https://shaojiemike.pages.dev/">部署</a>。</li>
</ol>
</li>
</ol>
<h3 id="GitHub-pages"><a href="#GitHub-pages" class="headerlink" title="GitHub pages"></a>GitHub pages</h3><p><a target="_blank" rel="noopener" href="https://kirrito-k423.github.io/">https://kirrito-k423.github.io/</a></p>
<h2 id="使用自己的域名"><a href="#使用自己的域名" class="headerlink" title="使用自己的域名"></a>使用自己的域名</h2><p>替换<code>shaojiemike.pages.dev</code> 变成自己的域名 <code>shaojiemike.top</code>: cloudflare pages 下直接提供<code>Custom domains</code> 的解析 <code>CNAME www shaojiemike.pages.dev</code></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-09T16:00:00.000Z" title="5/9/2023, 4:00:00 PM">2023-05-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.349Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">a minute read (About 204 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/09/Work/software/visualization/visualization-ranking/">Visualization Ranking</a></p><div class="content"><h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><p>横向条形图排序赛跑叫Bar chart race</p>
<h2 id="visualization-using-echart"><a href="#visualization-using-echart" class="headerlink" title="visualization using echart"></a>visualization using echart</h2><ol>
<li>完整的中文官方教程和丰富的插件和相关项目</li>
<li>可以支持vue</li>
<li>支持动态折线图和动态柱状图</li>
</ol>
<h2 id="visualization-using-d3-js"><a href="#visualization-using-d3-js" class="headerlink" title="visualization using d3.js"></a>visualization using d3.js</h2><p>参考<a target="_blank" rel="noopener" href="https://github.com/Jannchie/Historical-ranking-data-visualization-based-on-d3.js">项目</a></p>
<p>但是好像是静态的，而且只有一个排序的柱状图</p>
<h2 id="visualization-using-anichart"><a href="#visualization-using-anichart" class="headerlink" title="visualization using anichart"></a>visualization using anichart</h2><p>参考<a target="_blank" rel="noopener" href="https://anichart.vercel.app/guide/render-the-chart.html">文档</a>, 使用<a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/leetcode-ranking-visualization-anichart">template项目</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Kirrito-k423/leetcode-ranking-visualization-anichart.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># Install Dependencies</span></span><br><span class="line">npm install -g pnpm</span><br><span class="line">pnpm i</span><br><span class="line">pnpm build <span class="comment"># error</span></span><br></pre></td></tr></table></figure>

<p>由于项目还在开发，暂时不进一步尝试</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-06T16:00:00.000Z" title="5/6/2023, 4:00:00 PM">2023-05-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.333Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">18 minutes read (About 2686 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/06/Work/Programming/2-languageGrammar/cudaProgram/">Cuda Program Basic</a></p><div class="content"><p>CUDA编程水平高低的不同，会导致几十上百倍的性能差距。但是这篇将聚焦于CUDA的编程语法，编译与运行。</p></div><a class="article-more button is-small is-size-7" href="/2023/05/06/Work/Programming/2-languageGrammar/cudaProgram/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-05T16:00:00.000Z" title="5/5/2023, 4:00:00 PM">2023-05-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.313Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">10 minutes read (About 1439 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/05/Thinking/4-viewOnOthers/4.1-FilmTVRating/">UnimportantView: Film &amp; TV(Anime) Works Rating</a></p><div class="content"><h2 id="如何评价影视剧-动漫作品"><a href="#如何评价影视剧-动漫作品" class="headerlink" title="如何评价影视剧(动漫作品)"></a>如何评价影视剧(动漫作品)</h2><p>我一向的观点是现实生活已经投入了很多时间体验了，影视剧(动漫作品)肯定要是看现实中没有的。这导致的第一个问题就是既然不存在，你怎么让观众相信呢？</p>
<ul>
<li>真实的氛围感<ul>
<li>真实的细节特效</li>
<li>真实的演员反映和期望中的样子</li>
</ul>
</li>
</ul>
<h2 id="如何评价对影视剧-动漫作品-角色的喜爱程度"><a href="#如何评价对影视剧-动漫作品-角色的喜爱程度" class="headerlink" title="如何评价对影视剧(动漫作品)角色的喜爱程度"></a>如何评价对影视剧(动漫作品)角色的喜爱程度</h2><ul>
<li><p>喜欢一个角色往往是没有什么理由的，虽然要追求格物致知。但是将最感性的情感拿来分析是不是有点无情呢？</p>
</li>
<li><p>初印象的美好(40)</p>
<ul>
<li>外貌美(15):<ul>
<li>不一定要完美，但是要有特点，</li>
<li>可以接受有缺陷，但是其一般要具有意义来完善人物塑造。</li>
</ul>
</li>
<li>可爱俏皮(5)<ul>
<li>可以拉进距离感</li>
</ul>
</li>
<li>性格好(乐观、勇敢、坚毅、聪明)(10)<ul>
<li>角色不可能不经历挫折，乐观还是要一点</li>
<li>但是白给的老好人不行，还是要有基础原则的</li>
<li>可以出发点很低(一开始比较恶劣,自闭)，为角色后续成长留下了空间</li>
</ul>
</li>
<li>强烈独特独立的个性魅力、个人行为准则坚定(10)<ul>
<li>额外固执但是专情</li>
<li>病娇(特别爱一个人)，想守护妹妹的想法</li>
<li>厌世，缺爱</li>
</ul>
</li>
</ul>
</li>
<li><p>角色剧情行事逐渐展示出来的</p>
<ul>
<li>真实感(反差,与观众拉近距离) (20)<ul>
<li>平时严酷，但也会含羞</li>
<li>总是公正，但也会偏私</li>
</ul>
</li>
<li>悲剧色彩，激发了同情心(共情)(0~30)<ul>
<li>努力却依旧失败、正义行事却危机四伏、爱而不得、无所谓付出。一哭 +10</li>
<li>美好的东西被摧毁总是令人扼腕痛心，令人印象深刻。+10<ul>
<li>失去美好的未来</li>
</ul>
</li>
<li>刀人：刀友情，刀亲情 +10</li>
</ul>
</li>
<li>共鸣？观众随角色一同成长(40)<ul>
<li>如果观众一开始有一样的疑惑，(10)</li>
<li>然后和角色一起寻找答案 (10)</li>
<li>最后坚定的相信自己找到的 (20)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h2><ul>
<li>星野爱(113)<ul>
<li>外貌(5)：不是特别感冒的形象</li>
<li>可爱俏皮(2)</li>
<li>乐观性格(6)：演出也有时迷茫，却为了孩子开朗了起来</li>
<li>独特和自我(10)： 厌世，缺爱让人同情</li>
<li>真实感(20)：以谎言编织的怀孕偶像，是最大的反差</li>
<li>悲剧色彩(30)：<ul>
<li>想学会爱，但是到死还在努力</li>
<li>失去了与孩子们的未来</li>
<li>刀母爱</li>
</ul>
</li>
<li>共鸣与成长(40)<ul>
<li>疑惑: 不会爱的人怎么办</li>
<li>寻找：以谎言代替</li>
<li>结论：谎言也是我努力传达爱意的方式。但唯独我爱你们，这句话……绝对不是谎言</li>
</ul>
</li>
</ul>
</li>
<li>亚斯娜(100)<ul>
<li>外貌(15)：理想的人妻</li>
<li>可爱俏皮(5)</li>
<li>乐观性格(10)：理想的姐姐人妻性格，爱你管你又不太束缚你</li>
<li>独特和自我(10)： 为了Kirito 愿意牺牲自己</li>
<li>真实感(20)：平时严酷，但也会含羞</li>
<li>悲剧色彩(10)：<ul>
<li>刀爱情， 差一点失去Kirito</li>
</ul>
</li>
<li>共鸣与成长(30)<ul>
<li>疑惑: 在虚拟世界里，存在的意义是什么</li>
<li>寻找：寻找虚拟世界“红莫罗”的东西</li>
<li>结论：这份感情与相遇的经历是真实的(10,结论不够动容)</li>
</ul>
</li>
</ul>
</li>
<li>爱莉希雅Elysia(125)<ul>
<li>外貌(15)：理想的人妻2</li>
<li>可爱俏皮(10) 与芽衣打情骂俏，甜齁了(摸角)。额外加分+5</li>
<li>乐观性格(10)：理想的姐姐人妻性格，</li>
<li>独特和自我(10)： 真我 ~ 人之律者</li>
<li>真实感(20)：平时严酷，但也会含羞（神之子却爱上了人类）</li>
<li>悲剧色彩(30)：<ul>
<li>出生无知的律者，努力爱人类，却不被理解</li>
<li>反而为人类牺牲</li>
<li>本世代对抗侵蚀之律者，最终数据还被删除</li>
</ul>
</li>
<li>共鸣与成长(30)<ul>
<li>疑惑: 凡事任凭心意而为，自由自在，与副首领的身份格格不入的往事乐土的少女是谁</li>
<li>寻找：寻找前世的真相与少女的秘密</li>
<li>结论：即使往事乐土不存在了，但只要这份记忆还在，你就永远还在。愿时光永驻此刻(10,结论不够动容)</li>
</ul>
</li>
</ul>
</li>
<li>光与焰(120)<ul>
<li>外貌(15)：两个人各有特点</li>
<li>可爱俏皮(5) </li>
<li>乐观性格(10)：理想的姐姐人妻性格，</li>
<li>独特和自我(10)： 光傲娇 焰体贴</li>
<li>真实感(25)：光性格上与焰完全相反，非常要强，不擅长表达自己的感情，但本性其实很温柔，内心很脆弱。<ul>
<li>高质量CG的游戏，真实沉浸感额外加分+5</li>
</ul>
</li>
<li>悲剧色彩(20)：<ul>
<li>被坏人利用，虽然不愿意，但是伤害了世界，</li>
<li>喜欢lex，最后还是牺牲了自己(lex,你一个人也没关系了吧！)</li>
</ul>
</li>
<li>共鸣与成长(35)<ul>
<li>疑惑: 无意间结实的少女</li>
<li>寻找：寻找世界的真相与少女的秘密</li>
<li>结论：即使有前世的经历。但是愿意忘记悲伤的过去。从现在开始彼此守护(15,结论不够动容)</li>
</ul>
</li>
</ul>
</li>
<li>评价模板<ul>
<li>外貌(15)：理想的人妻</li>
<li>可爱俏皮(5)</li>
<li>乐观性格(10)：理想的人妻性格</li>
<li>独特和自我(10)： </li>
<li>真实感(20)：</li>
<li>悲剧色彩(30)：<ul>
<li>想</li>
<li>失去了</li>
<li>刀</li>
</ul>
</li>
<li>共鸣与成长(40)<ul>
<li>疑惑: </li>
<li>寻找：</li>
<li>结论：</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>看了星野爱之后，我又emo了</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-30T00:17:14.000Z" title="4/30/2023, 12:17:14 AM">2023-04-30</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.329Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">5 minutes read (About 743 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/30/Work/Programming/1-env/c/gccOnWin10/">GccOnWin10</a></p><div class="content"><h2 id="路线"><a href="#路线" class="headerlink" title="路线"></a>路线</h2><h3 id="MinGW"><a href="#MinGW" class="headerlink" title="MinGW"></a>MinGW</h3><ul>
<li>MinGW（Minimalist GNU for Windows），又称mingw32，是将GCC编译器和GNU Binutils移植到Win32平台下的产物，包括一系列头文件（Win32API）、库和可执行文件。</li>
<li>另有可用于产生32位及64位Windows可执行文件的<code>MinGW-w64</code>项目，是从原本MinGW产生的分支。如今已经独立发展</li>
<li>安装gcc<ul>
<li>在<code>MinGW Installation Manager</code> 中 勾选<code> gcc/g++ make gdb</code> 等项<img src="https://pic.shaojiemike.top/img/20230430083219.png"></li>
<li>貌似只能安装在C盘（这很不好</li>
<li>但是如果安装的是便携版的<code>git bash</code>,就没有上述程序。</li>
</ul>
</li>
</ul>
<h3 id="MSYS2"><a href="#MSYS2" class="headerlink" title="MSYS2"></a>MSYS2</h3><ul>
<li>MSYS2是一组工具和库，为您构建、安装和运行本机Windows软件提供了一个易于使用的环境。</li>
<li>包括类似<ul>
<li>命令行终端mintty、bash、</li>
<li>git和Subversion 版本控制系统、</li>
<li>tar和awk 工具，</li>
<li>AutoTools 构建系统，</li>
</ul>
</li>
<li><code>Pacman</code>的包管理系统, 来提供包的轻松安装和保持更新的方式，Arch Linux用户应该很熟悉这个系统。<ul>
<li>强大的功能: 例如依赖项解析和简单的完整系统升级，以及直接和可重复的包构建</li>
<li>程序包库包含2800多个准备安装的预构建程序包。</li>
</ul>
</li>
<li>所有这些都是基于Cygwin的修改版本。尽管其中一些核心部分是基于Cygwin的，但MSYS2的主要关注点是为本地Windows软件提供一个build环境，并将使用Cygwin的部分保持在最低限度。</li>
<li>MSYS2为GCC、Mingw-W64、CPython、CMake、Meson、openssl、FFmpeg、Rust、Ruby等提供了最新的native builds。</li>
</ul>
<h2 id="Clang-and-GDB-using-MSYS2"><a href="#Clang-and-GDB-using-MSYS2" class="headerlink" title="Clang and GDB using MSYS2"></a>Clang and GDB using MSYS2</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.msys2.org/">MSYS2 Installation</a><ul>
<li>图形化界面自定义安装路径</li>
<li>打开<code>MSYS2 MSYS</code>安装软件<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新包管理 输入Y继续</span></span><br><span class="line">pacman -Syu</span><br><span class="line"><span class="comment"># 安装 UCRT(Universal C Runtime)  版本的 clang gdb</span></span><br><span class="line">pacman -S --needed base-devel mingw-w64-ucrt-x86_64-clang mingw-w64-ucrt-x86_64-gdb</span><br></pre></td></tr></table></figure></li>
<li>VSCODE 添加到<code>MSYS2 MinGW UCRT 64-bit</code>终端的路径下。 CTRL+O  CTRL+X 保存退出<ul>
<li><pre><code class="bash">  cd ~
  nano .bashrc
  export PATH=$PATH:/e/commonSoftware/Microsoft\ VS\ Code/bin
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">	* 终端里`code .`就能打开</span><br><span class="line">  * 或者系统路径添加`E:\commonSoftware\msys32\ucrt64\bin` VSCODE 就能正常访问`g++`</span><br><span class="line"></span><br><span class="line">### 无法识别库</span><br><span class="line"></span><br><span class="line">存在红色波浪线， 插件`clangd`导致的</span><br><span class="line"></span><br><span class="line">### 无法点击头文件跳转</span><br><span class="line"></span><br><span class="line">* 激活跳转</span><br><span class="line">  * 安装`C/C++`插件</span><br><span class="line">* 设置`includePath`</span><br><span class="line">  * `Ctrl+Shift+P`输入`C/C++ 编辑配置`</span><br><span class="line">  * 添加`E:\\commonSoftware\\msys32\\ucrt64\\include`</span><br><span class="line"></span><br><span class="line">## 需求</span><br><span class="line"></span><br><span class="line">* 笔记本有g++, 台式机没有</span><br><span class="line">* vscode能顺利识别调用，并且gdb</span><br><span class="line">```bash</span><br><span class="line">D:\PowerShell&gt; which g++</span><br><span class="line">/c/Program Files/mingw-w64/x86_64-8.1.0-win32-seh-rt_v6-rev0/mingw64/bin/g++</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><ul>
<li>原本我从来不配置Windows的编译器的，直到服务器zfs挂壁了</li>
<li>看来还是要靠自己~</li>
</ul>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://solarianprogrammer.com/2021/06/11/install-clang-windows-msys2-mingw-w64/">https://solarianprogrammer.com/2021/06/11/install-clang-windows-msys2-mingw-w64/</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_51429482/article/details/125191731">https://blog.csdn.net/m0_51429482/article/details/125191731</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-26T16:00:00.000Z" title="4/26/2023, 4:00:00 PM">2023-04-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.349Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">12 minutes read (About 1797 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/Work/software/simulator/gem5/">Gem5</a></p><div class="content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>GEM5是一款模块化的离散事件驱动全系统模拟器，由C++与python编写</li>
<li>它结合了M5（多处理器模拟器）和GEMS（存储层次模拟器）中最优秀的部分，是一款高度可配置、集成多种ISA和多种CPU模型的体系结构模拟器。<ul>
<li>M5是由Michigan大学开发的一款开源的多处理机模拟器，受到了业内的广泛关注，很多高水平论文都采用M5作为研究工具。</li>
<li>另一方面，Wisconsin推出的GEMS能够对储存层次进行详细而灵活的模拟，包括对多种不同的cache一致性协议和互联模型的支持。</li>
<li>目前的GEM5是M5和GEMS的一个紧耦合版本。</li>
</ul>
</li>
<li>GEM5已经能够支持多种商用ISA，包括X86、ARM、ALPHA、MIPS、Power、SPARC等，并且能够在X86、ARM、ALPHA上加载操作系统。</li>
</ul>
<h3 id="可选配置-灵活性"><a href="#可选配置-灵活性" class="headerlink" title="可选配置(灵活性)"></a>可选配置(灵活性)</h3><ul>
<li>灵活性是指gem5提供了多种CPU模型、系统模型以及存储器模型。<ul>
<li>CPU模型：Atomic、Timing、In-order、<strong>O3（Out of Order）</strong>。<ul>
<li><code>AtomicSimple</code>是最简单规模的模型，一个cycle完成一条指令的执行，memory 模型比较理想化，访存操作为原子性操作。适用于快速功能模拟。</li>
<li><code>TimingSimple</code>模拟器也是无流水线的模拟，但是使用了存储器访问时序模型，用以统计存储器访问延迟。</li>
<li><code>In-Order</code>模型是GEM5模拟的新特性，强调指令时序与仿真精度，流水级为默认五级流水：取值、译码、执行、访存、写回。并且模拟了cache部件、执行部件、分支预测部件等。</li>
<li><code>O3</code>模拟器是流水级模拟，O3模拟器模拟了乱序执行和超标量执行的指令间依赖，以及运行在多CPU上的并发执行的多线程。<ul>
<li>默认7级流水：取值、译码、重命名、发射、执行、写回、提交。</li>
<li>模拟了物理寄存器文件、IO、LSQ、ROB功能部件池等。</li>
<li>主要参数为流水管道间延迟、硬件线程数、IQ&#x2F;LSQ&#x2F;ROB项数、FU延迟、物理寄存器重命名、分支预测、访存依赖预测等。</li>
</ul>
</li>
</ul>
</li>
<li>系统模型：SE（System-call emulation）、FS（Full System）。</li>
<li>存储模型：Classic、Ruby。<ul>
<li>M5的Classic mode存储器是最简单的模型，它提供了简洁快速的可配置性。</li>
<li>GEMS的Ruby模型注重于精确度并且支持不同的cache一致性协议。<ul>
<li>Ruby存储模型支持庞大阵列的互联拓扑，包括两个不同的网络模型：Simple网络与Garnet网络。<ul>
<li>Simple网络对链路、路由延迟与链路带宽进行建模，但并不建模路由资源竞争与流控。</li>
<li>Garnet网络详细建模路由微架构，包括所有相关的资源竞争与流控时序。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="基本模式"><a href="#基本模式" class="headerlink" title="基本模式"></a>基本模式</h3><ul>
<li><strong>System Call Emulation (SE) Mode</strong><ul>
<li>In this mode, one only needs to specify the binary file to be simulated. This binary file can be statically&#x2F;dynamically linked.</li>
</ul>
</li>
<li><strong>full-system mode</strong><ul>
<li>This mode simulates a complete system which provides an operating system based simulation environment.</li>
<li><a target="_blank" rel="noopener" href="https://shaojiemike.notion.site/fs-py-b4574f51316e4ea2841eceec441a78a0">very slow</a>, rendering it impractical for deployment in real-world applications.</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time ./build/ARM/gem5.fast configs/example/se.py --cmd=/home/shaojiemike/test/llvmVSgem5/MV/MV_gem5 -n 32 --cpu-type=O3CPU --l1d_size=64kB --l1i_size=16kB --caches</span><br></pre></td></tr></table></figure>

<ul>
<li>L1d cache是每个核单独64KB（原因见后图）。但其实默认cache结构是L2共享的</li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul>
<li>在源目录下运行<code>scons build/&lt;config&gt;/&lt;binary&gt;</code> 建立模拟器。<ul>
<li><code>&lt;config&gt;</code> gem5的配置文件，如<code>ARM</code>，<code>X86</code>等</li>
<li><code>&lt;binary&gt;</code> 模拟器的类型，有如下<ul>
<li><code>gem5.debug</code> 有关闭了优化，使gdb一类的工具更易于调试；</li>
<li><code>gem5.opt</code>有打开优化，但保留了调试输出和断言；</li>
<li><code>gem5.fast</code>去除了调试工具；</li>
<li><code>gem5.prof</code>用于与gprof共同使用</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scons build/ARM/gem5.fast --debug=presub --verbose -j 32</span><br></pre></td></tr></table></figure>

<h2 id="输入参数"><a href="#输入参数" class="headerlink" title="输入参数"></a>输入参数</h2><h3 id="gem5-安装的默认配置"><a href="#gem5-安装的默认配置" class="headerlink" title="gem5 安装的默认配置"></a>gem5 安装的默认配置</h3><p>可选选项在<code>./build/ARM/gem5.fast configs/example/se.py -h</code>或者 <code>configs/common/Options.py</code> 中查看</p>
<p>常规的配置：</p>
<ul>
<li>多级cache</li>
<li>CPU<ul>
<li>频率，核数</li>
<li>指令发射宽度<ul>
<li>commitWidth, decodeWidth, dispatchWidth, fetchWidth, issueWidth,</li>
<li>renameWidth, squashWidth, wbWidth     ,</li>
</ul>
</li>
<li>端口模型的部件类型以及个数</li>
</ul>
</li>
<li>内存</li>
</ul>
<h3 id="cache設置"><a href="#cache設置" class="headerlink" title="cache設置"></a>cache設置</h3><ul>
<li>只指定大小是沒用的，需要在L1cache 前加上 “–caches”，在l2cache前加上 “–l2cache“。命令結果類似</li>
<li>默认cache是没有开硬件预取HWP的，类型通过<code>--list-hwp-types</code>查看。可以指定L1L2cache的HWP类型，如<code>--l1d-hwp-type=TaggedPrefetcher</code>。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">build/X86/gem5.opt configs/example/se.py </span><br><span class="line">  --caches --l1d_size=32kB --l1i_size=32kB </span><br><span class="line">  --l2cache --l2_size=256kB </span><br><span class="line">  --l3_size=8192kB  <span class="comment"># l3 在 se里是不生效的</span></span><br><span class="line">  -c tests/test-progs/hello/bin/x86/linux/hello </span><br><span class="line"></span><br><span class="line"><span class="comment"># 建议将L3大小并入L2来模拟cycle的下限</span></span><br><span class="line">build/X86/gem5.opt configs/example/se.py </span><br><span class="line">  --caches --l1d_size=32kB --l1i_size=32kB </span><br><span class="line">  --l2cache --l2_size=256kB+8192kB</span><br><span class="line">  -c tests/test-progs/hello/bin/x86/linux/hello</span><br></pre></td></tr></table></figure>

<p>进阶配置：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/wyj7260/article/details/8515245">多核模拟时，配置独占cache</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/wyj7260/article/details/8499088">增加共享L3</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/wyj7260/article/details/8501338">添加共享的L3cache，并将L2cache改为独立的</a></li>
</ol>
<h2 id="输出文件"><a href="#输出文件" class="headerlink" title="输出文件"></a>输出文件</h2><p>运行完SE模式，默认会在指令路径下生成<code>m5out</code>文件夹，其中各文件大致含义如下：</p>
<ul>
<li><code>config.ini</code>或者<code>config.json</code> 运行指令的系统参数<ul>
<li>Contains a list of every SimObject created for the simulation and the values for its parameters.</li>
<li><code>json</code>格式的文件能比较好的理清config的重要设置</li>
<li><code>[system.cpu]</code> 有CPU的具体设置</li>
<li><code>[system.mem_ctrls.dram]</code> 有DRAM读取数据的具体设置</li>
<li><code>[system.membus]</code> BUS的相关设置</li>
</ul>
</li>
<li><code>stats.txt</code>  模拟结果数据(具体的周期数等)<ul>
<li>A text representation of all of the gem5 statistics registered for the simulation.</li>
<li><code>system.clk_domain.clock      1000  # Clock period in ticks (Tick)</code></li>
<li><code>system.cpu_clk_domain.clock  500   # Clock period in ticks (Tick)</code></li>
</ul>
</li>
<li><code>fs/proc/lscpu</code> 模拟系统配置(类似lscpu)</li>
<li><code>config.dot.*</code> 模拟的系统结构<ul>
<li><code>config.dot</code> 是以文字展示</li>
<li><code>config.dot.pdf</code> 和 <code>config.dot.svg</code> 都是以图片表示<img src="https://pic.shaojiemike.top/img/20230503164705.png" alt="aliyuncs1"></li>
<li><code>config.dot.svg</code> 能展示每个部件的细节参数 <img src="https://pic.shaojiemike.top/img/20230503171754.png" alt="aliyuncs2"></li>
</ul>
</li>
</ul>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/ivy_reny/article/details/54312352">博客</a>, 如果<code>se.py</code>無法滿足要求，可以自己<a target="_blank" rel="noopener" href="https://blog.csdn.net/ivy_reny/article/details/54312297">編寫脚本</a></p>
<h2 id="CPU参数解释"><a href="#CPU参数解释" class="headerlink" title="CPU参数解释"></a>CPU参数解释</h2><h3 id="各阶段发射宽度"><a href="#各阶段发射宽度" class="headerlink" title="各阶段发射宽度"></a>各阶段发射宽度</h3><p>commitWidth, decodeWidth, dispatchWidth, fetchWidth, issueWidth, renameWidth, squashWidth, wbWidth</p>
<p>下面是行数占比最大的几个部分</p>
<h3 id="branchPred"><a href="#branchPred" class="headerlink" title="branchPred"></a>branchPred</h3><ul>
<li>BTBEntries</li>
</ul>
<h3 id="decoder"><a href="#decoder" class="headerlink" title="decoder"></a>decoder</h3><h3 id="fuPool"><a href="#fuPool" class="headerlink" title="fuPool"></a>fuPool</h3><ul>
<li>fuction pool 类似乱序执行的端口模型，ARM下的O3模拟的fuPool如下<br><img src="https://pic.shaojiemike.top/img/20230503203337.png" alt="ARM-O3-fuPool"></li>
</ul>
<h2 id="gem5-模拟器误差来源分析"><a href="#gem5-模拟器误差来源分析" class="headerlink" title="gem5 模拟器误差来源分析"></a>gem5 模拟器误差来源分析</h2><h3 id="运行真实周期数"><a href="#运行真实周期数" class="headerlink" title="运行真实周期数"></a>运行真实周期数</h3><ul>
<li>使用<code>perf stat test.exe</code>, 可参考本博客perf文章</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/ivy_reny/category_6666068.html">https://blog.csdn.net/ivy_reny/category_6666068.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wyj7260/category_1301132.html">https://blog.csdn.net/wyj7260/category_1301132.html</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-23T16:00:00.000Z" title="4/23/2023, 4:00:00 PM">2023-04-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.305Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">a minute read (About 129 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/23/OutOfWork/5-VideoEntertainment/5-Synology/">Synology terminal</a></p><div class="content"><h2 id="配置开机启动项"><a href="#配置开机启动项" class="headerlink" title="配置开机启动项"></a>配置开机启动项</h2><p>编写脚本<code>/var/services/homes/shaojiemike/wgReboot.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">ip ro add default via 222.195.90.254 dev eth0 table eth0-table</span><br><span class="line">ip ro a 114.214.233.0/24 via 222.195.90.254 dev eth0  src 222.195.90.2 table main</span><br><span class="line">wg-quick up wg1</span><br><span class="line">ip ro d default via 222.195.90.254 dev eth0  src 222.195.90.2 table main</span><br></pre></td></tr></table></figure>

<ul>
<li>执行权限<code>chmod +x</code></li>
<li>群晖WebUI -&gt; 控制面板 -&gt; 任务计划 -&gt; 新增 -&gt; 触发的任务<ul>
<li>选择Root、开机事件</li>
<li><code>bash /var/services/homes/shaojiemike/wgReboot.sh</code></li>
</ul>
</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-23T16:00:00.000Z" title="4/23/2023, 4:00:00 PM">2023-04-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-14T15:01:40.345Z" title="1/14/2024, 3:01:40 PM">2024-01-14</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">7 minutes read (About 1031 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/23/Work/software/linux/rebootTask/">Reboot Task</a></p><div class="content"><h2 id="最简单-etc-rc-lo­cal"><a href="#最简单-etc-rc-lo­cal" class="headerlink" title="最简单&#x2F;etc&#x2F;rc.lo­cal"></a>最简单&#x2F;etc&#x2F;rc.lo­cal</h2><p>默认是不开启的，文件<code>/etc/rc.lo­cal</code>默认也不存在</p>
<h3 id="开启-etc-rc-lo­cal功能"><a href="#开启-etc-rc-lo­cal功能" class="headerlink" title="开启&#x2F;etc&#x2F;rc.lo­cal功能"></a>开启&#x2F;etc&#x2F;rc.lo­cal功能</h3><ul>
<li>ubuntu18.04不再使用initd管理系统，改用systemd</li>
<li>systemd有rc-local的配置文件，只需链接到<code>/etc/systemd/system</code>目录下启动即可<ul>
<li><code>ln -fs /lib/systemd/system/rc-local.service /etc/systemd/system/rc-local.service</code></li>
</ul>
</li>
</ul>
<h3 id="使用-etc-rc-lo­cal功能"><a href="#使用-etc-rc-lo­cal功能" class="headerlink" title="使用&#x2F;etc&#x2F;rc.lo­cal功能"></a>使用&#x2F;etc&#x2F;rc.lo­cal功能</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> /etc/rc.local</span><br><span class="line"><span class="built_in">chmod</span> 755 /etc/rc.local</span><br><span class="line">vim /etc/rc.local</span><br><span class="line">    eg. <span class="comment">#!/bin/bash  echo &quot;test rc &quot; &gt; /var/test.log</span></span><br></pre></td></tr></table></figure>
<h2 id="crontab-reboot"><a href="#crontab-reboot" class="headerlink" title="crontab @reboot"></a>crontab @reboot</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line">@reboot /home/user/test.sh</span><br></pre></td></tr></table></figure>
<h2 id="initd-启动管理系统"><a href="#initd-启动管理系统" class="headerlink" title="initd 启动管理系统"></a>initd 启动管理系统</h2><ul>
<li>init.d目录包含许多系统各种服务的启动和停止脚本。它控制着所有从acpid到x11-common的各种事务。</li>
<li>注意：ubuntu18.04不再使用initd管理系统，改用systemd</li>
</ul>
<h3 id="编写脚本"><a href="#编写脚本" class="headerlink" title="编写脚本"></a>编写脚本</h3><ul>
<li><code>/etc/init.d</code>目录下建立文件<code>test</code><ul>
<li>按照README编写脚本</li>
<li>赋予执行权限<code>sudo chmod +x  /etc/init.d/test</code></li>
</ul>
</li>
</ul>
<h3 id="设置脚本启动"><a href="#设置脚本启动" class="headerlink" title="设置脚本启动"></a>设置脚本启动</h3><p>方法一：使用update-rc.d 命令将脚本放到启动脚本中去（debian中可以使用更新的insserv）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/init.d</span><br><span class="line">$ sudo update-rc.d <span class="built_in">test</span> defaults 95</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：其中数字95是脚本启动的顺序号，按照自己的需要相应修改即可。在你有多个启动脚本，而它们之间又有先后启动的依赖关系时你就知道这个数字的具体作用了。更多说明建议看man update-rc.d。</p>
</blockquote>
<p>方法二：手动在rc*.d中建立软连接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> -s <span class="built_in">test</span> ../rc5.d/S95test</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>rc*.d</code>，*代表启动级别，在不同启动级别启动，<br>K开头的脚本文件代表运行级别加载时需要关闭的，<br>S开头的代表相应级别启动时需要执行，<br>数字代表顺序</p>
</blockquote>
<h3 id="卸载启动脚本的方法："><a href="#卸载启动脚本的方法：" class="headerlink" title="卸载启动脚本的方法："></a>卸载启动脚本的方法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/init.d</span><br><span class="line">$ sudo update-rc.d -f <span class="built_in">test</span> remove</span><br></pre></td></tr></table></figure>

<h3 id="手动调用脚本"><a href="#手动调用脚本" class="headerlink" title="手动调用脚本"></a>手动调用脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/test start</span><br><span class="line">/etc/init.d/test stop</span><br><span class="line">/etc/init.d/test restart</span><br></pre></td></tr></table></figure>





<h2 id="systemd-服务管理系统"><a href="#systemd-服务管理系统" class="headerlink" title="systemd 服务管理系统"></a>systemd 服务管理系统</h2><p>使用sudo systemctl enable xxx</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">systemctl is-enabled servicename.service <span class="comment">#查询服务是否开机启动</span></span><br><span class="line">systemctl <span class="built_in">enable</span> *.service <span class="comment">#开机运行服务</span></span><br><span class="line">systemctl <span class="built_in">disable</span> *.service <span class="comment">#取消开机运行</span></span><br><span class="line">systemctl start *.service <span class="comment">#启动服务</span></span><br><span class="line">systemctl stop *.service <span class="comment">#停止服务</span></span><br><span class="line">systemctl restart *.service <span class="comment">#重启服务</span></span><br><span class="line">systemctl reload *.service <span class="comment">#重新加载服务配置文件</span></span><br><span class="line">systemctl status *.service <span class="comment">#查询服务运行状态</span></span><br><span class="line">systemctl --failed <span class="comment">#显示启动失败的服务</span></span><br></pre></td></tr></table></figure>

<h3 id="systemctl-开机启动原理"><a href="#systemctl-开机启动原理" class="headerlink" title="systemctl 开机启动原理"></a>systemctl 开机启动原理</h3><ul>
<li>Systemd 默认从目录<code>/etc/systemd/system/</code>读取配置文件。</li>
<li>但是，里面存放的大部分文件都是符号链接，指向目录<ul>
<li><code>/usr/lib/systemd/system/</code>，真正的配置文件存放在那个目录。</li>
</ul>
</li>
</ul>
<p><code>systemctl enable</code>命令用于在上面两个目录之间，建立符号链接关系。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ sudo systemctl enable clamd@scan.service</span><br><span class="line"># 等同于</span><br><span class="line">$ sudo ln -s &#x27;/usr/lib/systemd/system/clamd@scan.service&#x27; &#x27;/etc/systemd/system/multi-user.target.wants/clamd@scan.service&#x27;</span><br><span class="line">&gt; </span><br></pre></td></tr></table></figure>
<ul>
<li>如果配置文件里面设置了开机启动，<code>systemctl enable</code>命令相当于激活开机启动。</li>
<li>与之对应的，<code>systemctl disable</code>命令用于在两个目录之间，撤销符号链接关系，相当于撤销开机启动。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ sudo systemctl disable clamd@scan.service</span><br><span class="line">&gt; </span><br></pre></td></tr></table></figure></li>
<li>配置文件的后缀名，就是该 Unit 的种类，比如<code>sshd.socket</code>。<ul>
<li>如果省略，Systemd 默认后缀名为<code>.service</code>，所以<code>sshd</code>会被理解成<code>sshd.service</code>。</li>
</ul>
</li>
</ul>
<h3 id="把程序设置systemctl服务-并开机启动"><a href="#把程序设置systemctl服务-并开机启动" class="headerlink" title="把程序设置systemctl服务,并开机启动"></a>把程序设置systemctl服务,并开机启动</h3><p>进入目录<code>/usr/lib/systemd/system</code>,修改<code>webhook.service</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Webhook receiver for GitHub</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">ExecStart=/usr/local/bin/webhook</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>这里有几个模块:</p>
<ul>
<li>[Unit] 区块：启动顺序与依赖关系。</li>
<li>[Service] 区块：启动行为,如何启动，启动类型。</li>
<li>[Install] 区块，定义如何安装这个配置文件，即怎样做到开机启动。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start nexus.service  #启动服务</span><br><span class="line">systemctl enable nexus.service #设置开机启动</span><br></pre></td></tr></table></figure>
<p><code>Loaded: loaded (/etc/systemd/system/webhook.service; enabled;</code>这个<code>enabled</code>就是开机启动的意思</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://neucrack.com/p/91">https://neucrack.com/p/91</a></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/22/">Previous</a></div><div class="pagination-next"><a href="/page/24/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/22/">22</a></li><li><a class="pagination-link is-current" href="/page/23/">23</a></li><li><a class="pagination-link" href="/page/24/">24</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/39/">39</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="Shaojie Tan"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shaojie Tan</p><p class="is-size-6 is-block">𝘊𝘰𝘮𝘱𝘶𝘵𝘦𝘳 𝘈𝘳𝘤𝘩𝘪𝘵𝘦𝘤𝘵𝘶𝘳𝘦 &amp; 𝘏𝘗𝘊</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Anhui, Hefei, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">386</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">31</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">487</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Kirrito-k423" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Kirrito-k423"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile" href="/categories/Artificial-Intelligence/"><span class="level-start"><span class="level-item">Artificial Intelligence</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Databases/"><span class="level-start"><span class="level-item">Databases</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/HPC/"><span class="level-start"><span class="level-item">HPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math/"><span class="level-start"><span class="level-item">Math</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-system/"><span class="level-start"><span class="level-item">Operating system</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Thinking/"><span class="level-start"><span class="level-item">Thinking</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Treasure/"><span class="level-start"><span class="level-item">Treasure</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorials/"><span class="level-start"><span class="level-item">Tutorials</span></span><span class="level-end"><span class="level-item tag">118</span></span></a></li><li><a class="level is-mobile" href="/categories/Values/"><span class="level-start"><span class="level-item">Values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/diary/"><span class="level-start"><span class="level-item">diary</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/english/"><span class="level-start"><span class="level-item">english</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/hardware/"><span class="level-start"><span class="level-item">hardware</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/operating-system/"><span class="level-start"><span class="level-item">operating system</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/software/"><span class="level-start"><span class="level-item">software</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/thinking/"><span class="level-start"><span class="level-item">thinking</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/thinking/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/toLearn/"><span class="level-start"><span class="level-item">toLearn</span></span><span class="level-end"><span class="level-item tag">51</span></span></a></li><li><a class="level is-mobile" href="/categories/values/"><span class="level-start"><span class="level-item">values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://ibug.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ibugs</span></span><span class="level-right"><span class="level-item tag">ibug.io</span></span></a></li><li><a class="level is-mobile" href="https://jia.je/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jiegec</span></span><span class="level-right"><span class="level-item tag">jia.je</span></span></a></li><li><a class="level is-mobile" href="https://leimao.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">leimao</span></span><span class="level-right"><span class="level-item tag">leimao.github.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-13T14:32:40.000Z">2024-01-13</time></p><p class="title"><a href="/2024/01/13/Thinking/2-courage2move/SocialScience/">Social Science</a></p><p class="categories"><a href="/categories/Thinking/">Thinking</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-13T12:15:22.000Z">2024-01-13</time></p><p class="title"><a href="/2024/01/13/Work/Architecture/FPGA/">FPGA</a></p><p class="categories"><a href="/categories/toLearn/">toLearn</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-13T08:02:52.000Z">2024-01-13</time></p><p class="title"><a href="/2024/01/13/Work/Architecture/workloadPriority/">Workload Characterization &amp; Priority &amp; Scheduler to CPU/GPU/PIM</a></p><p class="categories"><a href="/categories/Architecture/">Architecture</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-12T12:16:43.000Z">2024-01-12</time></p><p class="title"><a href="/2024/01/12/OutOfWork/5-VideoEntertainment/AutoFreePTDownloadRSS/">Auto Free PT Download using RSS and Flexget</a></p><p class="categories"><a href="/categories/toLearn/">toLearn</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-10T12:00:31.000Z">2024-01-10</time></p><p class="title"><a href="/2024/01/10/Work/Programming/2-languageGrammar/OpenCLBasic/">OpenCL Basic</a></p><p class="categories"><a href="/categories/Programming/">Programming</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/"><span class="level-start"><span class="level-item">2024</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">235</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">67</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">72</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/5G/"><span class="tag">5G</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/64bits-vs-32bits/"><span class="tag">64bits vs 32bits</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMAT/"><span class="tag">AMAT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMD/"><span class="tag">AMD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ASPLOS/"><span class="tag">ASPLOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ATI/"><span class="tag">ATI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AVX/"><span class="tag">AVX</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Alpha/"><span class="tag">Alpha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analysis/"><span class="tag">Analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apt/"><span class="tag">Apt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BHive/"><span class="tag">BHive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BT/"><span class="tag">BT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BTL/"><span class="tag">BTL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Baka-Mitai/"><span class="tag">Baka Mitai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Big-Endian/"><span class="tag">Big-Endian</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a><p class="is-size-7"><span>&copy; 2024 Shaojie Tan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>