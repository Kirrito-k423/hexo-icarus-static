<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>SHAOJIE&#039;S BOOK</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="SHAOJIE&#039;S BOOK"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="SHAOJIE&#039;S BOOK"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="SHAOJIE&#039;S BOOK"><meta property="og:url" content="http://icarus.shaojiemike.top/"><meta property="og:site_name" content="SHAOJIE&#039;S BOOK"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://icarus.shaojiemike.top/img/og_image.png"><meta property="article:author" content="Shaojie Tan"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://icarus.shaojiemike.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icarus.shaojiemike.top"},"headline":"SHAOJIE'S BOOK","image":["http://icarus.shaojiemike.top/img/og_image.png"],"author":{"@type":"Person","name":"Shaojie Tan"},"publisher":{"@type":"Organization","name":"SHAOJIE'S BOOK","logo":{"@type":"ImageObject","url":"http://icarus.shaojiemike.top/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-09T08:27:05.000Z" title="8/9/2021, 8:27:05 AM">2021-08-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.223Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Algorithms/">Algorithms</a></span><span class="level-item">8 minutes read (About 1194 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/09/Work/Algorithms/ParallelBFS/">Parallel BFS</a></p><div class="content"><h2 id="常规广度优先搜索的局限性"><a href="#常规广度优先搜索的局限性" class="headerlink" title="常规广度优先搜索的局限性"></a>常规广度优先搜索的局限性</h2><p>简单bfs是每次从队列中取出当前的访问节点后，之后就将它的邻接节点加入到队列中，这样明显不利于并行化。<br><img src="https://pic.shaojiemike.top/img/Inkedv2-0fcd25b083737312b6116ad86fc66af1_1440w_LI.jpg"></p>
<h2 id="实现一：-两队列"><a href="#实现一：-两队列" class="headerlink" title="实现一： 两队列"></a>实现一： 两队列</h2><p>使用了两个队列，第一个队列存当前同一层的节点，第二个队列用来存储当前层节点的所有邻接节点(下一层节点)，等到当前层的节点全部访问完毕后，再将第一个队列与第二个队列进行交换，即可。</p>
<p>这样做的优势在于便于以后的并行化。同一层的节点可以一起运行，不会受到下一层节点的干扰。</p>
<p>但是写有问题，并行计算要储存下一层节点时，push操作不是原子的，需要加锁。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">q1.push(1);</span><br><span class="line">   distance[1]=0;</span><br><span class="line">   while(!q1.empty())&#123;</span><br><span class="line">      clear(q2);</span><br><span class="line">      for(int i=0;i&lt;q1.size();i++)&#123;</span><br><span class="line">         int node=q1.front();</span><br><span class="line">         q1.pop();</span><br><span class="line">         cout&lt;&lt;node&lt;&lt;&quot;-&gt;&quot;;</span><br><span class="line">         int start_edge=g.outgoing_starts[node];</span><br><span class="line">         int end_edge=(node==g.num_nodes-1)?g.num_edges:g.outgoing_starts[node+1];</span><br><span class="line">         for(int j=start_edge;j&lt;end_edge;j++)&#123;</span><br><span class="line">               int outgoing=g.outgoing_edges[j];</span><br><span class="line">               if(distance[outgoing]==-1)&#123;</span><br><span class="line">                  distance[outgoing]=1;</span><br><span class="line">                  q2.push(outgoing);</span><br><span class="line">               &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      swap(q1, q2);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="实现二：PBFS"><a href="#实现二：PBFS" class="headerlink" title="实现二：PBFS"></a>实现二：PBFS</h2><p><img src="https://pic.shaojiemike.top/img/Inkedv2-c758eb59934a1bd904e6ac77d4ed33f9_1440w_LI.jpg"></p>
<p>思想和实现一一样，但是对并行时竞争情况有处理。</p>
<p>思想：都是将并行处理的一层节点bag的相邻节点存到下一次处理的bag中。</p>
<p>竞争：</p>
<ol>
<li>第 18 行的 v.dist 更新为 d+1。<ol>
<li>幸运的是，由于都是设置为同一个值，该竞争不影响结果。</li>
</ol>
</li>
<li>第19行，可能同时将同一个节点加入out-bag,导致额外的工作<ol>
<li>但是这个bag数据结构是具有元素各异的性质，正好解决这个问题。</li>
<li>根本没有元素各异好吧。</li>
</ol>
</li>
<li>第19行，可能同时将同一个节点加入out-bag,不会写同一个地方吗？insert</li>
</ol>
<p>最后还是要加锁，屮。<br><img src="https://pic.shaojiemike.top/img/20210810182702.png"></p>
<h3 id="辅助数据结构-pennant"><a href="#辅助数据结构-pennant" class="headerlink" title="辅助数据结构 - pennant"></a>辅助数据结构 - pennant</h3><p>辅助数据结构，称为 “pennant”， 是一个\(2^k\)个节点的特殊树。根只有个left子节点，该子节点有个完整是二叉树。</p>
<p>通过这个辅助数据结构，可以实现动态无序集的 bag 数据结构</p>
<p>注意，普通的k层完全二叉树，有$$1+2+4+2^{k-1}&#x3D;2^k-1$$个节点。<br><img src="https://pic.shaojiemike.top/img/20210810160627.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PENNANT-UNION(x,y)</span><br><span class="line">   1 y. right = x. left</span><br><span class="line">   2 x. left = y</span><br><span class="line">   3 return x</span><br></pre></td></tr></table></figure>
<p><img src="https://pic.shaojiemike.top/img/61F200C318AD946545289BB00135824C.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PENNANT-SPLIT(x)</span><br><span class="line">   1 y = x. left</span><br><span class="line">   2 x. left = y. right</span><br><span class="line">   3 y. right = NULL</span><br><span class="line">   4 return y</span><br></pre></td></tr></table></figure>
<h3 id="数据结构-bags"><a href="#数据结构-bags" class="headerlink" title="数据结构 - bags"></a>数据结构 - bags</h3><p>bag是pennant的集合，其中没有相同大小的pennant。PBFS采用固定大小的数组S[0…r]称作 backbone 骨干。<br>数组中的第k元素S[k]为空或者保存着指向大小为\(2^k\)的pennant。可知，整个数组S[0…r]最多保存\(2^{r+1}\)元素。<br><img src="https://pic.shaojiemike.top/img/20210810172245.png"><br>所以BAG-CREATE分配了保存空指针固定大小的数组backbone,会花费Θ(r)时间。</p>
<p>This bound can be improved to O(1) by<br>keeping track of the largest nonempty index in the backbone.</p>
<p>BAG-Insert类似二进制计数器递增的过程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">BAG-INSERT(S,x)</span><br><span class="line">   1 k = 0</span><br><span class="line">   2 while S[k] != NULL</span><br><span class="line">      3 x = PENNANT-UNION(S[k],x)</span><br><span class="line">      4 S[k++] = NULL</span><br><span class="line">   5 S[k] = x                 #不执行循环 S[0] = x,不是在图7这种插入。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">BAG-UNION(S1,S2)     </span><br><span class="line">   1 y = NULL // The “carry” bit.</span><br><span class="line">   2 for k = 0 to r</span><br><span class="line">   3 (S1[k],y) = FA(S1[k],S2[k],y)</span><br></pre></td></tr></table></figure>
<p>BAG-UNION(S1,S2)因为每一个PENNANT-UNION都需要固定的时间，计算FA（x，y，z）的值也需要恒定的时间。计算结果包主干中的所有条目需要Θ（r）时间。该算法可以改进为Θ（lgn），其中n是两个包中较小的包中的元素数，方法是保持每个包主干的最大非空索引，并将索引较小的包合并为索引较大的包</p>
<p>其中FA(x,y,z)相当于三个数的加法，c是进位，s是余位。<br><img src="https://pic.shaojiemike.top/img/20210810174347.png"></p>
<h3 id="函数解释"><a href="#函数解释" class="headerlink" title="函数解释"></a>函数解释</h3><h3 id="函数时间开销"><a href="#函数时间开销" class="headerlink" title="函数时间开销"></a>函数时间开销</h3><p>BAG-CREATE O(1)<br>BAG-INSERT(n) O(1)-O(lgn)<br>BAG-UNION(n) ~O(lgn)</p>
<h3 id="函数时间开销-1"><a href="#函数时间开销-1" class="headerlink" title="函数时间开销"></a>函数时间开销</h3><h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>PBFS:</p>
<ol>
<li>11行为什么是lg呢，全部遍历不好吗？<ol>
<li>因为存的是\(2^r\)的元素</li>
</ol>
</li>
</ol>
<p>This bound can be improved to O(1) by<br>keeping track of the largest nonempty index in the backbone.</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p> flood fill的需要</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/JsonZhangAA/p/9016896.html">https://www.cnblogs.com/JsonZhangAA/p/9016896.html</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/134637247">https://zhuanlan.zhihu.com/p/134637247</a></p>
<p>A Work-Efficient Parallel Breadth-First Search Algorithm (or How to Cope with the Nondeterminism of Reducers) from ACM SPAA 2010</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-09T07:30:07.000Z" title="8/9/2021, 7:30:07 AM">2021-08-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.223Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Algorithms/">Algorithms</a></span><span class="level-item">7 minutes read (About 979 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/09/Work/Algorithms/floodfill/">Flood fill Algorithm</a></p><div class="content"><h2 id="算法介绍"><a href="#算法介绍" class="headerlink" title="算法介绍"></a>算法介绍</h2><p>泛洪算法——Flood Fill，（也称为种子填充——Seed Fill，其中基于栈&#x2F;队列的显式实现（有时称为“Forest Fire算法”））是一种算法，用于确定连接到多维数组中给定节点的区域。用于填充具有不同颜色的连接的，颜色相似的区域。泛洪算法的基本原理就是从一个像素点出发，以此向周边的像素点扩充着色，直到图形的边界。</p>
<h2 id="算法参数及特点"><a href="#算法参数及特点" class="headerlink" title="算法参数及特点"></a>算法参数及特点</h2><p>参数：</p>
<ol>
<li>起始节点（start node）</li>
<li>目标颜色（target color）</li>
<li>替换颜色（replacement color）</li>
</ol>
<p>数据结构：</p>
<p>明确地或隐式地使用<strong>队列或堆栈</strong>数据结构。</p>
<h2 id="常见实现"><a href="#常见实现" class="headerlink" title="常见实现"></a>常见实现</h2><h3 id="四邻域泛洪"><a href="#四邻域泛洪" class="headerlink" title="四邻域泛洪"></a>四邻域泛洪</h3><p>将像素点(x,y)周围的上下左右四个点分别进行着色。</p>
<h3 id="八邻域泛洪"><a href="#八邻域泛洪" class="headerlink" title="八邻域泛洪"></a>八邻域泛洪</h3><p>将一个像素点的上下左右，左上，左下，右上，右下都进行着色。</p>
<h3 id="描绘线算法-Scanline-Fill"><a href="#描绘线算法-Scanline-Fill" class="headerlink" title="描绘线算法(Scanline Fill)"></a>描绘线算法(Scanline Fill)</h3><p>（我感觉就是满足访存局部性原理，然后就快一些<br><img src="https://pic.shaojiemike.top/img/eaf8c289aa17f5c64db5cc3d0b20ba32.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">void floodFillScanline(int x, int y, int newColor, int oldColor)&#123;</span><br><span class="line">	if(newColor==oldColor) return;</span><br><span class="line">	if(screen[x][y]!=oldColor) return;</span><br><span class="line">	emptyStack();</span><br><span class="line">	int x1;</span><br><span class="line">	bool spanAbove, spanBelow;</span><br><span class="line">	if(!push(x,y)) return;</span><br><span class="line">	while(pop(x,y))&#123;</span><br><span class="line">	    x1=x;</span><br><span class="line">	    while(x1&gt;0&amp;&amp;screen[x1][y]==oldColor) x1--;</span><br><span class="line">	    x1++;</span><br><span class="line">	    spanAbove = spanBelow = 0;</span><br><span class="line">	    while(x1&lt;w&amp;&amp;screen[x1][y]==oldColor)&#123;</span><br><span class="line">	        screen[x1][y]=newColor;</span><br><span class="line">	        if(!spanAbove&amp;&amp;y&gt;0&amp;&amp;screen[x1][y-1]==oldColor)&#123; //这里判断出了上行的元素可以被染色，可能为了修改screen的访存连续性，所以这里没修改。而且你改了上行的值，却没考虑其四周，会有完备性的问题。</span><br><span class="line">	            if(!push(x1,y-1)) return;</span><br><span class="line">	            spanAbove=1;</span><br><span class="line">	        &#125;</span><br><span class="line">	        else if(spanAbove&amp;&amp;y&gt;0&amp;&amp;screen[x1][y-1]!=oldColor)&#123;</span><br><span class="line">	            spanAbove=0; //不压入重复过多的元素</span><br><span class="line">	        &#125;</span><br><span class="line">	        if(!spanBelow&amp;&amp;y&lt;h-1&amp;&amp;screen[x1][y+1]==oldColor)&#123;</span><br><span class="line">	            if(!push(x1,y+1)) return;</span><br><span class="line">	            spanBelow=1;</span><br><span class="line">	        &#125;</span><br><span class="line">	        else if(spanBelow&amp;&amp;y&lt;h-1&amp;&amp;screen[x1][y+1]!=oldColor)&#123;</span><br><span class="line">	            spanBelow=0;</span><br><span class="line">	        &#125;</span><br><span class="line">	        x1++;</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我感觉用队列更好，读上一行就是从左到右。</p>
<p>但是程序是上下行同时入栈&#x2F;队列，写成两个，先pop一个，访存更好。</p>
<h3 id="描绘线算法-Scanline-Fill-的并行实现"><a href="#描绘线算法-Scanline-Fill-的并行实现" class="headerlink" title="描绘线算法(Scanline Fill)的并行实现"></a>描绘线算法(Scanline Fill)的并行实现</h3><p>直接将push变成用新线程重新调用程序task。</p>
<h4 id="讨论数据冲突-IPCC"><a href="#讨论数据冲突-IPCC" class="headerlink" title="讨论数据冲突(IPCC)"></a>讨论数据冲突(IPCC)</h4><p>每行各自修改自己行screen，不会冲突。<br>访问隔壁行screen，但是只在意oldColor，对是否染色不关心。？</p>
<p>记录修改过的数据，是每个线程每行中的连续一个范围，index1~index2。由于每个线程的任务变成每行，任务量多了，这里加个锁，应该不会影响性能，维护一个行数大小的数组，每个元素存每行被标记的index,要不要有序呢?这主要看cache页能不能存下一行。然后后面还原就可以对每行omp,保证访存连续性。但这不是最优的，详见ipcc10总结。</p>
<h3 id="大规模行为（Large-scale-behaviour）"><a href="#大规模行为（Large-scale-behaviour）" class="headerlink" title="大规模行为（Large-scale behaviour）"></a>大规模行为（Large-scale behaviour）</h3><h4 id="以数据为中心（data-centric）"><a href="#以数据为中心（data-centric）" class="headerlink" title="以数据为中心（data-centric）"></a>以数据为中心（data-centric）</h4><p>小并行，每个像素一次检查4个或者8个<br><img src="https://pic.shaojiemike.top/img/8b063604081a030f7628f0cf316a31ef.gif"></p>
<h4 id="以流程为中心（process-centric）"><a href="#以流程为中心（process-centric）" class="headerlink" title="以流程为中心（process-centric）"></a>以流程为中心（process-centric）</h4><p>使用堆栈。使用邻接技术和堆栈作为其种子像素存储的4路泛洪填充算法产生具有“后续填充的间隙”行为的线性填充。 这种方法尤其适用于较旧的8位计算机游戏。<br><img src="https://pic.shaojiemike.top/img/c906f21ec04b37ab5ae6e5e8800f3fc7.gif"></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>最后的以流程为中心方法没懂，怎么实现</p>
<p>并行BFS(广度优先搜索)</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>IPCC 初赛 EnforceLabelConnectivity函数需要改成并行的图填充算法</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.pianshen.com/article/172962944/">https://www.pianshen.com/article/172962944/</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-06T08:22:40.000Z" title="8/6/2021, 8:22:40 AM">2021-08-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.183Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">6 minutes read (About 903 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/06/Work/HPC/IPCC/ipcc9/">IPCC Preliminary SLIC Optimization 3</a></p><div class="content"><h2 id="node6"><a href="#node6" class="headerlink" title="node6"></a>node6</h2><p>因为例子太小，导致之前的分析时间波动太大。所以写了个了大一点的例子，而且给每个函数加上了时间的输出，好分析是否有加速。(Qrz,node5有人在用。</p>
<table>
<thead>
<tr>
<th>技术路线</th>
<th>描述</th>
<th>总时间</th>
<th>加速比</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>Baseline</td>
<td>串行程序</td>
<td>207 s</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>simpleomp</td>
<td>两处omp</td>
<td>57s</td>
<td></td>
<td></td>
</tr>
<tr>
<td>more1omp</td>
<td>maxlab</td>
<td>48s</td>
<td></td>
<td></td>
</tr>
<tr>
<td>more2omp</td>
<td>sigma + delete maxxy</td>
<td>24.8s</td>
<td>8.35</td>
<td></td>
</tr>
<tr>
<td>more3omp</td>
<td>DetectLabEdges + EnforceLabelConnectivity(该算法无法并行)</td>
<td>21.2s</td>
<td></td>
<td></td>
</tr>
<tr>
<td>icpc</td>
<td></td>
<td>13.4s</td>
<td></td>
<td></td>
</tr>
<tr>
<td>+ -O3</td>
<td></td>
<td>13.2s</td>
<td></td>
<td></td>
</tr>
<tr>
<td>+ -xHost</td>
<td></td>
<td>13.09s</td>
<td></td>
<td></td>
</tr>
<tr>
<td>+ -Ofast -xHost</td>
<td>基于icpc</td>
<td>12.97s</td>
<td></td>
<td></td>
</tr>
<tr>
<td>+ -ipo</td>
<td></td>
<td><strong>12.73s</strong></td>
<td>16.26</td>
<td></td>
</tr>
<tr>
<td>-no-prec-div -static -fp-model fast&#x3D;2</td>
<td></td>
<td>14.2s</td>
<td></td>
<td>时间还多了，具体其他选项需要到AMD机器上试</td>
</tr>
</tbody></table>
<h3 id="Baseline-207s"><a href="#Baseline-207s" class="headerlink" title="Baseline 207s"></a>Baseline 207s</h3><ol>
<li>DoRGBtoLABConversion 10.4s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 187.3s<ol>
<li>core 15.3s</li>
<li>maxlab 1s</li>
<li>sigma 2.3s</li>
</ol>
</li>
</ol>
<h3 id="simpleomp-57s"><a href="#simpleomp-57s" class="headerlink" title="simpleomp 57s"></a>simpleomp 57s</h3><ol>
<li>DoRGBtoLABConversion <strong>0.89s</strong></li>
<li>PerformSuperpixelSegmentation_VariableSandM 46s<ol>
<li>core <strong>0.94-1.8s</strong></li>
<li>maxlab 1s</li>
<li>sigma 2.3-2.6s</li>
</ol>
</li>
</ol>
<h3 id="more1omp-48s"><a href="#more1omp-48s" class="headerlink" title="more1omp 48s"></a>more1omp 48s</h3><ol>
<li>DoRGBtoLABConversion 0.82s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 37s<ol>
<li>core 1-2.3s</li>
<li>maxlab <strong>0.04-0.1s</strong></li>
<li>sigma 2.3s</li>
</ol>
</li>
</ol>
<h3 id="more2omp-24-8s"><a href="#more2omp-24-8s" class="headerlink" title="more2omp 24.8s"></a>more2omp 24.8s</h3><ol>
<li>DoRGBtoLABConversion 0.85s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 13.5s<ol>
<li>core 0.8-1.7s</li>
<li>maxlab <strong>0.02-0.1s</strong></li>
<li>sigma <strong>0.1s</strong></li>
</ol>
</li>
<li>DetectLabEdges 3.7s</li>
<li>EnforceLabelConnectivity 5.2s</li>
</ol>
<h3 id="more2omp-21-2s"><a href="#more2omp-21-2s" class="headerlink" title="more2omp 21.2s"></a>more2omp 21.2s</h3><ol>
<li>DoRGBtoLABConversion 0.74s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 12.3s<ol>
<li>core 1.1s</li>
<li>maxlab 0.02-0.1s</li>
<li>sigma 0.1s</li>
</ol>
</li>
<li>DetectLabEdges <strong>0.7s</strong></li>
<li>EnforceLabelConnectivity 5.8s (需要换算法</li>
<li>PerformSuperpixelSegmentation_VariableSandM (vector声明的时间,可以考虑拿到外面去） 1.6s</li>
</ol>
<h3 id="icpc-13-4s"><a href="#icpc-13-4s" class="headerlink" title="icpc 13.4s"></a>icpc 13.4s</h3><ol>
<li>DoRGBtoLABConversion 0.44s</li>
<li>PerformSuperpixelSegmentation_VariableSandM <strong>8.49</strong>s<ol>
<li>core 0.5-1.1s</li>
<li>maxlab 0.04s</li>
<li>sigma 0.05s</li>
</ol>
</li>
<li>DetectLabEdges 0.54s</li>
<li>EnforceLabelConnectivity <strong>2.79s</strong> (需要换算法</li>
<li>PerformSuperpixelSegmentation_VariableSandM (vector声明的时间,可以考虑拿到外面去） 1.16s</li>
</ol>
<h3 id="12-7s"><a href="#12-7s" class="headerlink" title="12.7s"></a>12.7s</h3><ol>
<li>DoRGBtoLABConversion 0.42s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 7.98s<ol>
<li>core 0.5-1.1s</li>
<li>maxlab 0.04s</li>
<li>sigma 0.05s</li>
</ol>
</li>
<li>DetectLabEdges 0.49s</li>
<li>EnforceLabelConnectivity 2.69s (需要换算法</li>
<li>PerformSuperpixelSegmentation_VariableSandM (vector声明的时间,可以考虑拿到外面去） 1.13s</li>
</ol>
<h2 id="IPCC-AMD"><a href="#IPCC-AMD" class="headerlink" title="IPCC AMD"></a>IPCC AMD</h2><table>
<thead>
<tr>
<th>技术路线</th>
<th>描述</th>
<th>总时间</th>
<th>加速比</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>Baseline</td>
<td>串行程序</td>
<td>161.7s s</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>more3omp</td>
<td>前面都是可以证明的有效优化 omp_num&#x3D;32</td>
<td>14.08s</td>
<td></td>
<td></td>
</tr>
<tr>
<td>more3omp</td>
<td>前面都是可以证明的有效优化 omp_num&#x3D;64</td>
<td>11.4s</td>
<td></td>
<td></td>
</tr>
<tr>
<td>deletevector</td>
<td>把sz大小的3个vector,移到全局变量，但是需要提前知道sz大小&#x2F;声明一个特别大的</td>
<td>10.64s</td>
<td>可以看出写成全局变量也不会影响访问时间</td>
<td></td>
</tr>
<tr>
<td>enforce_Lscan</td>
<td>ipcc opt 4</td>
<td>8.49s</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="Baseline-161-7s"><a href="#Baseline-161-7s" class="headerlink" title="Baseline 161.7s"></a>Baseline 161.7s</h3><ol>
<li>DoRGBtoLABConversion 11.5s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 143s<ol>
<li>core 11.5s</li>
<li>maxlab 0.8s</li>
<li>sigma 1.7s</li>
</ol>
</li>
<li>DetectLabEdges 2.74s</li>
<li>EnforceLabelConnectivity 3.34s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 1.11s</li>
</ol>
<h3 id="more2omp-14-08s"><a href="#more2omp-14-08s" class="headerlink" title="more2omp 14.08s"></a>more2omp 14.08s</h3><ol>
<li>DoRGBtoLABConversion 0.69s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 8.08s<ol>
<li>core 0.73s</li>
<li>maxlab 0.02s</li>
<li>sigma 0.05s</li>
</ol>
</li>
<li>DetectLabEdges 0.37s</li>
<li>EnforceLabelConnectivity 3.8s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 1.1s</li>
</ol>
<h3 id="more2omp-11-4s"><a href="#more2omp-11-4s" class="headerlink" title="more2omp 11.4s"></a>more2omp 11.4s</h3><ol>
<li>DoRGBtoLABConversion 0.61s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 5.86s<ol>
<li>core 0.53s</li>
<li>maxlab 0.02s</li>
<li>sigma 0.03s</li>
</ol>
</li>
<li>DetectLabEdges 0.33s</li>
<li>EnforceLabelConnectivity 3.5s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 1.02s</li>
</ol>
<h3 id="deletevector-10-64s"><a href="#deletevector-10-64s" class="headerlink" title="deletevector 10.64s"></a>deletevector 10.64s</h3><ol>
<li>DoRGBtoLABConversion 0.59s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 5.75s<ol>
<li>core 0.53s</li>
<li>maxlab 0.02s</li>
<li>sigma 0.03s</li>
</ol>
</li>
<li>DetectLabEdges 0.41s</li>
<li>EnforceLabelConnectivity 3.84s</li>
<li>PerformSuperpixelSegmentation_VariableSandM <strong>0s</strong></li>
</ol>
<h3 id="enforce-Lscan-8-49s"><a href="#enforce-Lscan-8-49s" class="headerlink" title="enforce_Lscan 8.49s"></a>enforce_Lscan 8.49s</h3><ol>
<li>DoRGBtoLABConversion 0.56s</li>
<li>PerformSuperpixelSegmentation_VariableSandM 5.52s<ol>
<li>core 0.53s</li>
<li>maxlab 0.02s</li>
<li>sigma 0.03s</li>
</ol>
</li>
<li>DetectLabEdges 0.31s</li>
<li>EnforceLabelConnectivity <strong>1.19s</strong></li>
<li>PerformSuperpixelSegmentation_VariableSandM 0.88s</li>
</ol>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><ol>
<li>外面声明vector</li>
<li>EnforceLabelConnectivity 换并行算法<ol>
<li>数据结构要求：<ol>
<li>保存已经染色区域的位置，之后可能要还原<ol>
<li>可以无序，有序最好，会访存连续</li>
<li>x,y或者index也行。还是xy好判断边界</li>
</ol>
</li>
<li>是4分还是8分，既然有重复，记录来的方向&#x2F;路径,只向某方向移动。4是符合理论的，8不和要求，2有情况不能全部遍历。</li>
<li>3分倒是可以，但是实现小麻烦</li>
</ol>
</li>
<li>flood fill 与 PBFS 特定结合</li>
<li>openmp线程池+锁(sz 大小的两个数组存 x y，nlabels存新的分类结果)+计时声明与flood+把这些在sz声明放外面</li>
<li>openmp线程池+队列(最后可以并行处理吧，要一个个pop?)+需要锁吗(这取决于队列的实现有没有靠计数器)</li>
<li>openmpfor+双队列*4&#x2F;2？+需要锁吗</li>
<li>扫描行实现 + 上下建线程，左右在线程里跑<ol>
<li>多线程的访问存储连续性</li>
</ol>
</li>
<li>队列&#x2F;栈是怎么实现代码的，速度怎么样（写入读取push pop，还有size）</li>
<li>栈有size吗</li>
</ol>
</li>
<li>在AMD机器加入MPI进行混合编程，运行2节点</li>
</ol>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>无</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-06T06:44:58.000Z" title="8/6/2021, 6:44:58 AM">2021-08-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.179Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">4 minutes read (About 534 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/06/Work/software/manager/git/git-lfs/">Git Lfs</a></p><div class="content"><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir git-lfs | cd git-lfs </span><br><span class="line">wget https://github.com/git-lfs/git-lfs/releases/tag/v2.13.3</span><br><span class="line">tar -zxvf git</span><br><span class="line">sudo ./install.sh</span><br></pre></td></tr></table></figure>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git lfs install</span><br><span class="line">git lfs track “*.rar” # 这个是要指定的大文件</span><br><span class="line">git lfs track &quot;*.txt&quot; # 对一批，然后正常add commit</span><br><span class="line">git add .gitattributes # 关联这个文件</span><br><span class="line">git commit -m “aaa”</span><br></pre></td></tr></table></figure>
<h3 id="git-恢复"><a href="#git-恢复" class="headerlink" title="git 恢复"></a>git 恢复</h3><ul>
<li><p>工作区修改了文件（add之前），但是发现文件是你不想修改的，或者修改错误的，执行git checkout - 文件名，在工作区把文件恢复到修改之前的状态;</p>
</li>
<li><p>工作区修改了文件，并且已经添加到缓存区（add之后，承之前），执行git reset HEAD文件名（HEAD表示最新的版本），此操作是把缓存区修改的内容返回到工作区，如果此时你还是不想修改此文件的话，就再次执行第一步操作，就可以恢复到文件修改前的状态;</p>
</li>
<li><p>已经把文件提交给了分支（commit之后，推之前），执行git reset - hard HEAD ^（HEAD ^表示上一个版本），或者先用git log查看已经提交的版本号，执行git reset - -hard版本号的ID，就可以恢复到之前的版本，此时工作区和缓存区也是干净的;</p>
</li>
<li><p>推的时候忽略文件的操作:(忽略大文件操作.gitignore不好使的时候），在commit提交之后push推之前，输入命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git filter-branch --force --index-filter &quot;git rm --cached --ignore-unmatch 有关文件&quot;  --prune-empty --tag-name-filter cat -- --all # 如果git提示包含未提交的更改，需要再提交一下</span><br><span class="line"></span><br><span class="line">git commit --amend -CHEAD # 这个文件将会从你的提交记录里移除，并且以后commit都将不会再提交</span><br><span class="line"></span><br><span class="line">git push</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>很搞笑的是node5的IPCC&#x2F;SLIC我就是弄不好，明明是按照步骤来的。</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>大于100MB的文件上传不了github</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>无</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-05T08:24:59.000Z" title="8/5/2021, 8:24:59 AM">2021-08-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.187Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">3 minutes read (About 383 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/05/Work/HPC/MPI_OMP/openmpReductions/">OpenMP Reductions</a></p><div class="content"><h2 id="遇到竞争写情况怎么办"><a href="#遇到竞争写情况怎么办" class="headerlink" title="遇到竞争写情况怎么办"></a>遇到竞争写情况怎么办</h2><h2 id="critical-section"><a href="#critical-section" class="headerlink" title="critical section"></a>critical section</h2><p>最简单的解决方案是通过声明一个critical部分来消除竞争。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> result = <span class="number">0</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp parallel num_threads(ndata)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">double</span> local_result;</span><br><span class="line">  <span class="type">int</span> num = omp_get_thread_num();</span><br><span class="line">  <span class="keyword">if</span> (num==<span class="number">0</span>)      local_result = f(x);</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (num==<span class="number">1</span>) local_result = g(x);</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (num==<span class="number">2</span>) local_result = h(x);</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp critical</span></span><br><span class="line">  result += local_result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">double</span> result = <span class="number">0</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp parallel</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="type">double</span> local_result;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp for</span></span><br><span class="line">   <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;N; i++) &#123;</span><br><span class="line">    local_result = f(x,i);</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp critical</span></span><br><span class="line">   result += local_result;</span><br><span class="line">&#125; <span class="comment">// end of for loop</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="原子操作-加锁"><a href="#原子操作-加锁" class="headerlink" title="原子操作&#x2F;加锁"></a>原子操作&#x2F;加锁</h2><p>性能是不好的，变串行了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#pragma omp atomic</span><br><span class="line"> pi += sum;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">static omp_lock_t lock;</span><br><span class="line">void omp_init_lock(&amp;lock)：初始化互斥器</span><br><span class="line">void omp_destroy_lock(omp_lock*)：销毁互斥器</span><br><span class="line">void omp_set_lock(omp_lock*)：获得互斥器</span><br><span class="line">void omp_unset_lock(omp_lock*)：释放互斥器</span><br><span class="line">void omp_test_lock(omp_lock*): 试图获得互斥器，如果获得成功则返回true，否则返回false</span><br></pre></td></tr></table></figure>

<h2 id="reduction-clause-子句"><a href="#reduction-clause-子句" class="headerlink" title="reduction clause 子句"></a>reduction clause 子句</h2><p>将其添加到一个omp并行区域有如下效果。</p>
<ul>
<li>OpenMP将为每个线程制作一个reduction变量的副本，初始化为reduction操作的身份，例如$1$用于乘法。</li>
<li>然后，每个线程将其reduce到其本地变量中。</li>
<li>在并行区域结束时，本地结果被合并，再次使用reduction操作，合并到全局变量。</li>
</ul>
<h3 id="多个变量的情况"><a href="#多个变量的情况" class="headerlink" title="多个变量的情况"></a>多个变量的情况</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reduction(+:x,y,z)</span><br><span class="line">reduction(+:array[:])</span><br></pre></td></tr></table></figure>

<h3 id="对于复杂结构体"><a href="#对于复杂结构体" class="headerlink" title="对于复杂结构体"></a>对于复杂结构体</h3><p>如果代码过于复杂，还是建议复制全局变量来手工实现，最后再合并。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//错误示例</span></span><br><span class="line"><span class="type">double</span> result,local_results[<span class="number">3</span>];</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp parallel</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> num = omp_get_thread_num();</span><br><span class="line">  <span class="keyword">if</span> (num==<span class="number">0</span>)      local_results[num] = f(x)</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (num==<span class="number">1</span>) local_results[num] = g(x)</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (num==<span class="number">2</span>) local_results[num] = h(x)</span><br><span class="line">&#125;</span><br><span class="line">result = local_results[<span class="number">0</span>]+local_results[<span class="number">1</span>]+local_results[<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<p>虽然上面这段代码是正确的，但它可能是低效的，因为有一个叫做虚假共享的现象。即使线程写到不同的变量，这些变量也可能在同一个缓存线上。这意味着核心将浪费大量的时间和带宽来更新对方的缓存线副本。</p>
<p>可以通过给每个线程提供自己的缓存线来防止错误的共享。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不是最好</span></span><br><span class="line"><span class="type">double</span> result,local_results[<span class="number">3</span>][<span class="number">8</span>];</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp parallel</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> num = omp_get_thread_num();</span><br><span class="line">  <span class="keyword">if</span> (num==<span class="number">0</span>)      local_results[num][<span class="number">1</span>] = f(x)</span><br><span class="line"><span class="comment">// et cetera</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最好的方法给每个线程一个真正的局部变量，并在最后用一个critial部分对这些变量进行求和。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> result = <span class="number">0</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp parallel</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">double</span> local_result;</span><br><span class="line">  local_result = .....</span><br><span class="line"><span class="meta">#pragam omp critical</span></span><br><span class="line">  result += local_result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="默认的归约操作"><a href="#默认的归约操作" class="headerlink" title="默认的归约操作"></a>默认的归约操作</h3><p>Arithmetic reductions: \(+,*,-,\max,\min\)</p>
<p>Logical operator reductions in C: &amp; &amp;&amp; | || ^</p>
<h3 id="归约变量的初始值"><a href="#归约变量的初始值" class="headerlink" title="归约变量的初始值"></a>归约变量的初始值</h3><p>初始化值大多是不言而喻的，比如加法的0和乘法的1。对于min和max，它们分别是该类型的最大和最小可表示值。</p>
<h2 id="用户自定义reduction的声明与使用"><a href="#用户自定义reduction的声明与使用" class="headerlink" title="用户自定义reduction的声明与使用"></a>用户自定义reduction的声明与使用</h2><p>语法结构如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#pragma omp declare reduction</span><br><span class="line">    ( identifier : typelist : combiner )</span><br><span class="line">    [initializer(initializer-expression)]</span><br></pre></td></tr></table></figure>
<p>例子1: 取int最大</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">mymax</span><span class="params">(<span class="type">int</span> r,<span class="type">int</span> n)</span> &#123;</span><br><span class="line"><span class="comment">// r is the already reduced value</span></span><br><span class="line"><span class="comment">// n is the new value</span></span><br><span class="line">  <span class="type">int</span> m;</span><br><span class="line">  <span class="keyword">if</span> (n&gt;r) &#123;</span><br><span class="line">    m = n;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    m = r;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp declare reduction \</span></span><br><span class="line"><span class="meta">  (rwz:int:omp_out=mymax(omp_out,omp_in)) \</span></span><br><span class="line"><span class="meta">  initializer(omp_priv=INT_MIN)</span></span><br><span class="line">  m = INT_MIN;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp parallel for reduction(rwz:m)</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> idata=<span class="number">0</span>; idata&lt;ndata; idata++)</span><br><span class="line">    m = mymax(m,data[idata]);</span><br></pre></td></tr></table></figure>
<h3 id="openmp减法归约浮点运算有精度损失"><a href="#openmp减法归约浮点运算有精度损失" class="headerlink" title="openmp减法归约浮点运算有精度损失"></a>openmp减法归约浮点运算有精度损失</h3><h2 id="如何对vector归约"><a href="#如何对vector归约" class="headerlink" title="如何对vector归约"></a>如何对vector归约</h2><h3 id="累加"><a href="#累加" class="headerlink" title="累加"></a>累加</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp declare reduction(vec_float_plus : std::vector<span class="string">&lt;float&gt;</span> : \</span></span><br><span class="line"><span class="meta">                              std::transform(omp_out.begin(), omp_out.end(), omp_in.begin(), omp_out.begin(), std::plus<span class="string">&lt;float&gt;</span>())) \</span></span><br><span class="line"><span class="meta">                    initializer(omp_priv = decltype(omp_orig)(omp_orig.size()))</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="type">float</span>&gt; <span class="title function_">res</span><span class="params">(n,<span class="number">0</span>)</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp parallel for reduction(vec_float_plus : res)</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">size_t</span> i=<span class="number">0</span>; i&lt;m; i++)&#123;</span><br><span class="line">    res[...] += ...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编辑：原始initializer很简单：initializer（omp_priv &#x3D; omp_orig）。但是，如果原始副本没有全零，结果将是错误的。因此，我建议使用更复杂的initializer，它总是创建零元素向量。</p>
<h3 id="求最大值"><a href="#求最大值" class="headerlink" title="求最大值"></a>求最大值</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp declare reduction(vec_double_max : std::vector<span class="string">&lt;double&gt;</span> : \</span></span><br><span class="line"><span class="meta">                          std::transform(omp_out.begin(), omp_out.end(), omp_in.begin(), omp_out.begin(), [](double a, double b) &#123;return std::max(a,b);&#125;))     \</span></span><br><span class="line"><span class="meta">                    initializer(omp_priv = decltype(omp_orig)(omp_orig.size()))</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp parallel for reduction(vec_double_max:maxlab)</span></span><br><span class="line"><span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>; i &lt; sz; i++ )</span><br><span class="line">&#123;</span><br><span class="line">   maxlab[klabels[i]] = max(maxlab[klabels[i]],distlab[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="std-transform"><a href="#std-transform" class="headerlink" title="std::transform"></a>std::transform</h3><p>在指定的范围内应用于给定的操作，并将结果存储在指定的另一个范围内。</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><ol>
<li><p>对vector的归约</p>
</li>
<li><p>泥菩萨:<br>你这么改，开-g，在vtune里面看汇编</p>
</li>
</ol>
<p>泥菩萨:<br>看有没有vmm指令</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>写IPCC发现：openmp没想象中简单，</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/43168661/openmp-and-reduction-on-stdvector">https://stackoverflow.com/questions/43168661/openmp-and-reduction-on-stdvector</a></p>
<p><a target="_blank" rel="noopener" href="https://pages.tacc.utexas.edu/~eijkhout/pcse/html/omp-reduction.html">https://pages.tacc.utexas.edu/~eijkhout/pcse/html/omp-reduction.html</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cplusplus.com/forum/general/201500/">http://www.cplusplus.com/forum/general/201500/</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-03T13:53:35.000Z" title="8/3/2021, 1:53:35 PM">2021-08-03</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.187Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">a few seconds read (About 74 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/03/Work/HPC/IPCC/trainingcourseIPCC5Optimizecommontools/">Training course - IPCC 5 Optimize common tools</a></p><div class="content"><h3 id="objdump"><a href="#objdump" class="headerlink" title="objdump"></a>objdump</h3><p>通过反汇编可执行文件，查看汇编内容，来判断代码是否被优化(自动向量化，内联)</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>无</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-03T08:20:32.000Z" title="8/3/2021, 8:20:32 AM">2021-08-03</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.159Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Architecture/">Architecture</a></span><span class="level-item">10 minutes read (About 1495 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/03/Work/Architecture/GPU/cpuvsgpu/">CPU vs GPU</a></p><div class="content"><h2 id="GPU-vs-CPU"><a href="#GPU-vs-CPU" class="headerlink" title="GPU vs CPU"></a>GPU vs CPU</h2><p><img src="https://pic.shaojiemike.top/img/v2-75cdb098e645c614492746417b457c13_1440w.jpg"></p>
<h3 id="CPU-latency-oriented-design"><a href="#CPU-latency-oriented-design" class="headerlink" title="CPU: latency-oriented design"></a>CPU: latency-oriented design</h3><p>低延时的设计思路</p>
<ol>
<li><strong>large L1 caches</strong> to reduce the average latency of data</li>
<li>时钟周期的频率是非常高的，达到3-4GHz</li>
<li><strong>Instruction-level parallelism</strong> to compute partial results ahead of time to further reduce latency<ol>
<li>当程序含有多个分支的时候，它通过提供分支预测的能力来降低延时。</li>
<li>数据转发。 当一些指令依赖前面的指令结果时，数据转发的逻辑控制单元决定这些指令在pipeline中的位置并且尽可能快的转发一个指令的结果给后续的指令。</li>
</ol>
</li>
</ol>
<p>相比之下计算能力只是CPU很小的一部分。擅长逻辑控制，串行的运算。</p>
<h3 id="GPU-throughput-oriented-design"><a href="#GPU-throughput-oriented-design" class="headerlink" title="GPU: throughput-oriented design"></a>GPU: throughput-oriented design</h3><p>大吞吐量设计思路</p>
<ol>
<li>GPU采用了数量众多的计算单元和超长的流水线</li>
<li>但只有非常简单的控制逻辑</li>
<li>几乎省去了Cache。缓存的目的不是保存后面需要访问的数据的，减少cache miss。这点和CPU不同，而是为thread提高服务的。</li>
<li>GPU “over-subscribed”  threads： GPU运行任务会启动远超物理核数的thread，原因是借助极小的上下文切换开销，GPU能通过快速切换Threads&#x2F;warps来隐藏访存延迟。<ol>
<li>GPU线程的创建与调度使用硬件而不是操作系统，速度很快（PowerPC创建线程需要37万个周期）[^1]</li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/24254975/measure-the-overhead-of-context-switching-in-gpu">Cost to switch between warps</a> allocated to a warp scheduler is <code>0</code> cycles and can happen every cycle.[^2]</li>
</ol>
</li>
</ol>
<p>对带宽大的密集计算并行性能出众，擅长的是大规模并发计算。</p>
<p><img src="https://pic.shaojiemike.top/img/141016254012704.png"></p>
<table>
<thead>
<tr>
<th>对比项</th>
<th>CPU</th>
<th>GPU</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Cache, local memory</td>
<td>多</td>
<td></td>
<td>低延时</td>
</tr>
<tr>
<td>Threads(线程数)</td>
<td></td>
<td>多</td>
<td></td>
</tr>
<tr>
<td>Registers</td>
<td></td>
<td>多</td>
<td>多寄存器可以支持非常多的Thread,thread需要用到register,thread数目大，register也必须得跟着很大才行。</td>
</tr>
<tr>
<td>SIMD Unit</td>
<td></td>
<td>多</td>
<td>单指令多数据流,以同步方式，在同一时间内执行同一条指令</td>
</tr>
</tbody></table>
<h2 id="DRAM-vs-GDRAM"><a href="#DRAM-vs-GDRAM" class="headerlink" title="DRAM vs GDRAM"></a>DRAM vs GDRAM</h2><p>其实最早用在显卡上的DDR颗粒与用在内存上的DDR颗粒仍然是一样的。后来由于GPU特殊的需要，显存颗粒与内存颗粒开始分道扬镳，这其中包括了几方面的因素：</p>
<ol>
<li><strong>GPU需要比CPU更高的带宽</strong> GPU不像CPU那样有大容量二三级缓存，GPU与显存之间的数据交换远比CPU频繁，而且大多都是突发性的数据流，因此GPU比CPU更加渴望得到更高的显存带宽支持。<strong>位宽×频率&#x3D;带宽</strong>，因此提高带宽的方法就是增加位宽和提高频率，但GPU对于位宽和频率的需求还有其它的因素。</li>
<li><strong>显卡需要高位宽的显存</strong>显卡PCB空间是有限的，在有限的空间内如何合理的安排显存颗粒，无论高中低端显卡都面临这个问题。从布线、成本、性能等多种角度来看，显存都需要达到更高的位宽。 3090是384位。而内存则没有那么多要求，多年来内存条都是64bit，所以单颗内存颗粒没必要设计成高位宽，只要提高容量就行了，所以位宽一直维持在4&#x2F;8bit。</li>
<li><strong>显卡能让显存达到更高的频率</strong>显存颗粒与GPU配套使用时，一般都经过专门的设计和优化，而不像内存那样有太多顾忌。GPU的显存控制器比CPU或北桥内存控制器性能优异，而且显卡PCB可以随意的进行优化，因此显存一般都能达到更高的频率。而内存受到内存PCB、主板走线、北桥CPU得诸多因素的限制很难冲击高频率。由此算来，显存与内存“分家”既是意料之外，又是情理之中的事情了。为了更好地满足显卡GPU的特殊要求，一些厂商(如三星等)推出了专门为图形系统设计的高速DDR显存，称为“Graphics Double Data Rate DRAM”，也就是我们现在常见的GDDR。</li>
</ol>
<h3 id="内存频率"><a href="#内存频率" class="headerlink" title="内存频率"></a>内存频率</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> dmidecode|grep -A16 <span class="string">&quot;Memory Device&quot;</span>|grep <span class="string">&quot;Speed&quot;</span></span><br><span class="line">   Speed: 2666 MT/s</span><br></pre></td></tr></table></figure>

<h3 id="显存等效频率"><a href="#显存等效频率" class="headerlink" title="显存等效频率"></a>显存等效频率</h3><p>因为显存可以在一个时钟周期内的上升沿和下降沿同时传送数据，所以显存的实际频率应该是标称频率的一半。</p>
<p>从GDDR5开始用两路传输，GDDR6采用四路传输(达到类似效果)。<br><img src="https://pic.shaojiemike.top/img/Inkedb3fb43166d224f4aca0be8097747b3559922d156_LI.jpg"></p>
<p><img src="https://pic.shaojiemike.top/img/image-20200909130334697.png"></p>
<p>GDDR6X的频率估计应该至少从16Gbps（GDDR6目前的极限）起跳，20Gbps为主，这样在同样的位宽下，带宽比目前常见的14Gbps GDDR6大一半。比如在常见的中高端显卡256bit～384位宽下能提供512GB&#x2F;s～768GB&#x2F;s的带宽。</p>
<p>RTX 3090的GDDR6X显存位宽384bit，等效频率19Gbps到21Gbps，带宽可达<code>912GB/s</code>到<code>1006GB/s</code>，达到T级。(384*19&#x2F;8&#x3D;912)</p>
<p>RTX 3090 加速频率 (GHz) 1.7,  基础频率 (GHz) 1.4</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">19/1.4 = 13.57</span><br><span class="line">21/1.7 = 12.35</span><br></pre></td></tr></table></figure>

<h3 id="消费者设备-GDDR6x-DDR4-的带宽对比"><a href="#消费者设备-GDDR6x-DDR4-的带宽对比" class="headerlink" title="消费者设备 GDDR6x DDR4 的带宽对比"></a>消费者设备 GDDR6x DDR4 的带宽对比</h3><ul>
<li>上一小节 RTX 3090 带宽在<code>912GB/s</code>到<code>1006GB/s</code> 附近</li>
<li>DRAM Types 一文里有分析，个人主机插满4条DDR4带宽” <code>3.2 Gbps * 64 bits * 2 / 8 = 51.2GB/s</code></li>
</ul>
<p>可见两者差了20倍左右。</p>
<h2 id="GPU-CPU-workload-preference"><a href="#GPU-CPU-workload-preference" class="headerlink" title="GPU &#x2F; CPU workload preference"></a>GPU &#x2F; CPU workload preference</h2><p>通过上面的例子，大致能知道： 需要高访存带宽和高并行度的SIMD的应用适合分配在GPU上。</p>
<h3 id="最佳并行线程数"><a href="#最佳并行线程数" class="headerlink" title="最佳并行线程数"></a>最佳并行线程数</h3><p>$$ 144 SM * 4 warpScheduler&#x2F;SM * 32 Threads&#x2F;warps &#x3D; 18432 $$</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/156171120?utm_source=wechat_session">https://zhuanlan.zhihu.com/p/156171120?utm_source=wechat_session</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/biglucky/p/4223565.html">https://www.cnblogs.com/biglucky/p/4223565.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/36825227/answer/69351247">https://www.zhihu.com/question/36825227/answer/69351247</a></p>
<p><a target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1675253413370892973&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1675253413370892973&amp;wfr=spider&amp;for=pc</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/62234511">https://zhuanlan.zhihu.com/p/62234511</a></p>
<p><a target="_blank" rel="noopener" href="https://kknews.cc/digital/x6v69xq.html">https://kknews.cc/digital/x6v69xq.html</a></p>
<p>[^1]: <a target="_blank" rel="noopener" href="http://202.38.64.11/~xuyun/GPU_Computing.pdf">并行计算课程-CUDA</a> 密码pa22</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-07-28T15:32:39.000Z" title="7/28/2021, 3:32:39 PM">2021-07-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.207Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">a minute read (About 115 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/07/28/Work/Programming/1-env/c/aocc/">AOCC</a></p><div class="content"><p><a target="_blank" rel="noopener" href="https://developer.amd.com/amd-aocc/">https://developer.amd.com/amd-aocc/</a></p>
<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;compdir&gt;\</span><br><span class="line">tar -xvf aocc-compiler-&lt;ver&gt;.tar</span><br><span class="line">cd aocc-compiler-&lt;ver&gt;</span><br><span class="line">bash install.sh</span><br><span class="line"># It will install the compiler and displaythe AOCC setup instructions.</span><br><span class="line"></span><br><span class="line">source &lt;compdir&gt;/setenv_AOCC.sh</span><br><span class="line"># This will setup the shell environment for using AOCC C, C++, and Fortran compiler where the command is executed.</span><br></pre></td></tr></table></figure>
<h2 id="Using-AOCC"><a href="#Using-AOCC" class="headerlink" title="Using AOCC"></a>Using AOCC</h2><p><img src="https://pic.shaojiemike.top/img/20210822210850.png"></p>
<h2 id="Libraries"><a href="#Libraries" class="headerlink" title="Libraries"></a>Libraries</h2><p><img src="https://pic.shaojiemike.top/img/20210822211222.png"></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://developer.amd.com/wp-content/resources/AOCC_57223_Install_Guide_Rev_3.1.pdf">https://developer.amd.com/wp-content/resources/AOCC_57223_Install_Guide_Rev_3.1.pdf</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-07-28T15:31:00.000Z" title="7/28/2021, 3:31:00 PM">2021-07-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.159Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">a minute read (About 178 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/07/28/Work/Architecture/companySpecificDesign/AMD-epyc/">AMD Epyc Compiler Options</a></p><div class="content"><h2 id="AMD-EPYC™-7xx2-series-Processors-Compiler-Options-Quick-Reference-Guide"><a href="#AMD-EPYC™-7xx2-series-Processors-Compiler-Options-Quick-Reference-Guide" class="headerlink" title="AMD EPYC™ 7xx2-series Processors Compiler Options Quick Reference Guide"></a>AMD EPYC™ 7xx2-series Processors Compiler Options Quick Reference Guide</h2><h3 id="AOCC-compiler-with-Flang-Fortran-Front-End"><a href="#AOCC-compiler-with-Flang-Fortran-Front-End" class="headerlink" title="AOCC compiler (with Flang -Fortran Front-End)"></a>AOCC compiler (with Flang -Fortran Front-End)</h3><p>Latest release: 2.1, Nov 2019</p>
<p><a target="_blank" rel="noopener" href="https://developer.amd.com/amd-aocc/Advanced">https://developer.amd.com/amd-aocc/Advanced</a> </p>
<p><img src="https://pic.shaojiemike.top/img/20210728234156.png"></p>
<h3 id="GNU-compiler-collection-gcc-g-gfortran"><a href="#GNU-compiler-collection-gcc-g-gfortran" class="headerlink" title="GNU compiler collection (gcc, g++, gfortran)"></a>GNU compiler collection (gcc, g++, gfortran)</h3><p><img src="https://pic.shaojiemike.top/img/20210728234402.png"></p>
<h3 id="Intel-compilers-icc-icpc-ifort"><a href="#Intel-compilers-icc-icpc-ifort" class="headerlink" title="Intel compilers (icc, icpc, ifort)"></a>Intel compilers (icc, icpc, ifort)</h3><p><img src="https://pic.shaojiemike.top/img/20210728234612.png"></p>
<h2 id="amd-prace-guide"><a href="#amd-prace-guide" class="headerlink" title="amd prace guide"></a>amd prace guide</h2><p><img src="https://pic.shaojiemike.top/img/DDDB3D4A446625C2C3098998B1D07A0A.png"></p>
<p><img src="https://pic.shaojiemike.top/img/3D883706B5C2FA64EFDC0B7F964ADD8A.png"></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><ol>
<li>Amd uprof</li>
<li>PGI compiler</li>
<li>Numactl </li>
<li>OMP_PROC_BIND&#x3D;TRUE; OMP_PLACES&#x3D;sockets</li>
</ol>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://developer.amd.com/wordpress/media/2020/04/Compiler%20Options%20Quick%20Ref%20Guide%20for%20AMD%20EPYC%207xx2%20Series%20Processors.pdf">https://developer.amd.com/wordpress/media/2020/04/Compiler%20Options%20Quick%20Ref%20Guide%20for%20AMD%20EPYC%207xx2%20Series%20Processors.pdf</a></p>
<p><a target="_blank" rel="noopener" href="https://prace-ri.eu/wp-content/uploads/Best-Practice-Guide_AMD.pdf#page35">https://prace-ri.eu/wp-content/uploads/Best-Practice-Guide_AMD.pdf#page35</a></p>
<p><a target="_blank" rel="noopener" href="https://prace-ri.eu/training-support/best-practice-guides/">Prace guide</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-07-27T13:52:00.000Z" title="7/27/2021, 1:52:00 PM">2021-07-27</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-10-12T04:03:04.203Z" title="10/12/2024, 4:03:04 AM">2024-10-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">14 minutes read (About 2039 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/07/27/Work/Programming/3-options/intelCompileOption/">Intel Compile Options</a></p><div class="content"><h2 id="Win与Linux的区别"><a href="#Win与Linux的区别" class="headerlink" title="Win与Linux的区别"></a>Win与Linux的区别</h2><h3 id="选项区别"><a href="#选项区别" class="headerlink" title="选项区别"></a>选项区别</h3><p>对于大部分选项，Intel编译器在Win上的格式为：&#x2F;Qopt，那么对应于Lin上的选项是：-opt。禁用某一个选项的方式是&#x2F;Qopt-和-opt-。</p>
<h3 id="Intel的编译器、链接器等"><a href="#Intel的编译器、链接器等" class="headerlink" title="Intel的编译器、链接器等"></a>Intel的编译器、链接器等</h3><p>在Win上，编译器为icl.exe，链接器为xilink.exe，VS的编译器为cl.exe，链接器为link.exe。</p>
<p>在Linux下，C编译器为icc，C++编译器为icpc（但是也可以使用icc编译C++文件），链接器为xild，打包为xiar，其余工具类似命名。</p>
<p>GNU的C编译器为gcc，C++编译器为g++，链接器为ld，打包为ar</p>
<h2 id="并行化"><a href="#并行化" class="headerlink" title="并行化"></a>并行化</h2><h3 id="qopenmp"><a href="#qopenmp" class="headerlink" title="-qopenmp"></a>-qopenmp</h3><h3 id="qopenmp-simd"><a href="#qopenmp-simd" class="headerlink" title="-qopenmp-simd"></a>-qopenmp-simd</h3><p>如果选项 O2 或更高版本有效，则启用 OpenMP* SIMD 编译。</p>
<h3 id="parallel"><a href="#parallel" class="headerlink" title="-parallel"></a>-parallel</h3><p>告诉自动并行程序为可以安全地并行执行的循环生成<strong>多线程</strong>代码。</p>
<p>要使用此选项，您还必须指定选项 O2 或 O3。<br>如果还指定了选项 O3，则此选项设置选项 [q 或 Q]opt-matmul。</p>
<h3 id="qopt-matmul"><a href="#qopt-matmul" class="headerlink" title="-qopt-matmul"></a>-qopt-matmul</h3><p>启用或禁用编译器生成的矩阵乘法（matmul）库调用。</p>
<h2 id="向量化-SIMD指令集"><a href="#向量化-SIMD指令集" class="headerlink" title="向量化(SIMD指令集)"></a>向量化(SIMD指令集)</h2><h3 id="xHost"><a href="#xHost" class="headerlink" title="-xHost"></a>-xHost</h3><p>必须至少与-O2一起使用，在Linux系统上，如果既不指定-x也不指定-m，则默认值为-msse2。</p>
<h3 id="fast"><a href="#fast" class="headerlink" title="-fast"></a>-fast</h3><p>On macOS* systems: -ipo, -mdynamic-no-pic,-O3, -no-prec-div,-fp-model fast&#x3D;2, and -xHost</p>
<p>On Windows* systems: &#x2F;O3, &#x2F;Qipo, &#x2F;Qprec-div-, &#x2F;fp:fast&#x3D;2, and &#x2F;QxHost</p>
<p>On Linux* systems: -ipo, -O3, -no-prec-div,-static, -fp-model fast&#x3D;2, and -xHost</p>
<p>指定选项 fast 后，您可以通过在命令行上指定不同的特定于处理器的 [Q]x 选项来覆盖 [Q]xHost 选项设置。但是，命令行上指定的最后一个选项优先。</p>
<h3 id="march"><a href="#march" class="headerlink" title="-march"></a>-march</h3><p>必须至少与-O2一起使用，如果同时指定 -ax 和 -march 选项，编译器将不会生成特定于 Intel 的指令。</p>
<p>指定 -march&#x3D;pentium4 设置 -mtune&#x3D;pentium4。</p>
<h3 id="x"><a href="#x" class="headerlink" title="-x"></a>-x</h3><p>告诉编译器它可以针对哪些处理器功能，包括它可以生成哪些指令集和优化。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">AMBERLAKE</span><br><span class="line">BROADWELL</span><br><span class="line">CANNONLAKE</span><br><span class="line">CASCADELAKE</span><br><span class="line">COFFEELAKE</span><br><span class="line">GOLDMONT</span><br><span class="line">GOLDMONT-PLUS</span><br><span class="line">HASWELL</span><br><span class="line">ICELAKE-CLIENT (or ICELAKE)</span><br><span class="line">ICELAKE-SERVER</span><br><span class="line">IVYBRIDGE</span><br><span class="line">KABYLAKE</span><br><span class="line">KNL</span><br><span class="line">KNM</span><br><span class="line">SANDYBRIDGE</span><br><span class="line">SILVERMONT</span><br><span class="line">SKYLAKE</span><br><span class="line">SKYLAKE-AVX512</span><br><span class="line">TREMONT</span><br><span class="line">WHISKEYLAKE</span><br></pre></td></tr></table></figure>

<p><img src="https://pic.shaojiemike.top/img/20210823095610.png"></p>
<h3 id="m"><a href="#m" class="headerlink" title="-m"></a>-m</h3><p>告诉编译器它可能针对哪些功能，包括它可能生成的指令集。</p>
<h3 id="ax"><a href="#ax" class="headerlink" title="-ax"></a>-ax</h3><p>生成基于多个指令集的代码。</p>
<h2 id="HLO"><a href="#HLO" class="headerlink" title="HLO"></a>HLO</h2><p>High-level Optimizations，高级(别)优化。O1不属于</p>
<h3 id="O2"><a href="#O2" class="headerlink" title="-O2"></a>-O2</h3><p>更广泛的优化。英特尔推荐通用。</p>
<p>在O2和更高级别启用矢量化。</p>
<p>在使用IA-32体系结构的系统上：执行一些基本的循环优化，例如分发、谓词Opt、交换、多版本控制和标量替换。</p>
<p>此选项还支持：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">内部函数的内联</span><br><span class="line">文件内过程间优化，包括：</span><br><span class="line">   内联</span><br><span class="line">   恒定传播</span><br><span class="line">   正向替代</span><br><span class="line">   常规属性传播</span><br><span class="line">   可变地址分析</span><br><span class="line">   死静态函数消除</span><br><span class="line">   删除未引用变量</span><br><span class="line">以下性能增益功能：</span><br><span class="line">   恒定传播</span><br><span class="line">   复制传播</span><br><span class="line">   死码消除</span><br><span class="line">   全局寄存器分配</span><br><span class="line">   全局指令调度与控制推测</span><br><span class="line">   循环展开</span><br><span class="line">   优化代码选择</span><br><span class="line">   部分冗余消除</span><br><span class="line">   强度折减/诱导变量简化</span><br><span class="line">   变量重命名</span><br><span class="line">   异常处理优化</span><br><span class="line">   尾部递归</span><br><span class="line">   窥视孔优化</span><br><span class="line">   结构分配降低与优化</span><br><span class="line">   死区消除</span><br></pre></td></tr></table></figure>

<h3 id="O3"><a href="#O3" class="headerlink" title="-O3"></a>-O3</h3><p>O3选项对循环转换(loop transformations)进行更好的处理来优化内存访问。</p>
<p>比-O2更激进，编译时间更长。建议用于涉及密集浮点计算的循环代码。</p>
<p>既执行O2优化，并支持更积极的循环转换，如Fusion、Block Unroll和Jam以及Collasing IF语句。</p>
<p>此选项可以设置其他选项。这由编译器决定，具体取决于您使用的操作系统和体系结构。设置的选项可能会因版本而异。</p>
<p>当O3与options-ax或-x（Linux）或options&#x2F;Qax或&#x2F;Qx（Windows）一起使用时，编译器执行的数据依赖性分析比O2更严格，这可能会导致更长的编译时间。</p>
<p>O3优化可能不会导致更高的性能，除非发生循环和内存访问转换。在某些情况下，与O2优化相比，优化可能会减慢代码的速度。</p>
<p>O3选项建议用于循环大量使用浮点计算和处理大型数据集的应用程序。</p>
<p>与非英特尔微处理器相比，共享库中的许多例程针对英特尔微处理器进行了高度优化。</p>
<h3 id="Ofast"><a href="#Ofast" class="headerlink" title="-Ofast"></a>-Ofast</h3><p>-O3 plus some extras.</p>
<h2 id="IPO"><a href="#IPO" class="headerlink" title="IPO"></a>IPO</h2><p>Interprocedural Optimizations，过程间优化。</p>
<p>典型优化措施包括：过程内嵌与重新排序、消除死（执行不到的）代码以及常数传播和内联等基本优化。</p>
<p>过程间优化，当程序链接时检查文件间函数调用的一个步骤。在编译和链接时必须使用此标志。使用这个标志的编译时间非常长，但是根据应用程序的不同，如果与-O*标志结合使用，可能会有明显的性能改进。</p>
<h3 id="内联"><a href="#内联" class="headerlink" title="内联"></a>内联</h3><p>内联或内联展开，简单理解，就是将函数调用用函数体代替，主要优点是省去了函数调用开销和返回指令的开销，主要缺点是可能增大代码大小。</p>
<h2 id="PGO"><a href="#PGO" class="headerlink" title="PGO"></a>PGO</h2><p>PGO优化是分三步完成的，是一个动态的优化过程。</p>
<p>PGO，即Profile-Guided Optimizations，档案导引优化。</p>
<h2 id="具体选项详解"><a href="#具体选项详解" class="headerlink" title="具体选项详解"></a>具体选项详解</h2><h3 id="mtune-processor"><a href="#mtune-processor" class="headerlink" title="-mtune&#x3D;processor"></a>-mtune&#x3D;processor</h3><p>此标志对特定的处理器类型进行额外的调整，但是它不会生成额外的SIMD指令，因此不存在体系结构兼容性问题。调优将涉及对处理器缓存大小、指令优先顺序等的优化。</p>
<p>为支持指定英特尔处理器或微体系结构代码名的处理器优化代码。</p>
<h3 id="no-prec-div"><a href="#no-prec-div" class="headerlink" title="-no-prec-div"></a>-no-prec-div</h3><p>不启用 提高浮点除法的精度。</p>
<h3 id="static"><a href="#static" class="headerlink" title="-static"></a>-static</h3><p>不用动态库</p>
<h3 id="fp-model-fast-2"><a href="#fp-model-fast-2" class="headerlink" title="-fp-model fast&#x3D;2"></a>-fp-model fast&#x3D;2</h3><p>自动向量化时按照固定精度，与OpenMP的选项好像有兼容性的问题</p>
<h3 id="funroll-all-loops"><a href="#funroll-all-loops" class="headerlink" title="-funroll-all-loops"></a>-funroll-all-loops</h3><p>展开所有循环，即使进入循环时迭代次数不确定。此选项可能会影响性能。</p>
<h3 id="unroll-aggressive-no-unroll-aggressive"><a href="#unroll-aggressive-no-unroll-aggressive" class="headerlink" title="-unroll-aggressive &#x2F; -no-unroll-aggressive"></a>-unroll-aggressive &#x2F; -no-unroll-aggressive</h3><p>此选项决定编译器是否对某些循环使用更激进的展开。期权的积极形式可以提高绩效。</p>
<p>此选项可对具有较小恒定递增计数的回路进行积极的完全展开。</p>
<h3 id="falign-loops"><a href="#falign-loops" class="headerlink" title="falign-loops"></a>falign-loops</h3><p>将循环对齐到 2 的幂次字节边界。</p>
<p>-falign-loops[&#x3D;n]是最小对齐边界的可选字节数。它必须是 1 到 4096 之间的 2 的幂，例如 1、2、4、8、16、32、64、128 等。如果为 n 指定 1，则不执行对齐；这与指定选项的否定形式相同。如果不指定 n，则默认对齐为 16 字节。</p>
<h3 id="O0-Od"><a href="#O0-Od" class="headerlink" title="-O0 &#x2F; -Od"></a>-O0 &#x2F; -Od</h3><p>关闭所有优化选项，-O等于-O2 (Linux* and macOS*)</p>
<h3 id="O1"><a href="#O1" class="headerlink" title="-O1"></a>-O1</h3><p>在保证代码量不增加的情况下编译，</p>
<ol>
<li>实现全局优化；这包括数据流分析、代码运动、强度降低和测试替换、分割生存期分析和指令调度。</li>
<li>禁用某些内部函数的内联。</li>
</ol>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">icpc -dM -E -x c++ SLIC.cpp</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/34310546/how-can-i-see-which-compilation-options-are-enabled-on-intel-icc-compiler">https://stackoverflow.com/questions/34310546/how-can-i-see-which-compilation-options-are-enabled-on-intel-icc-compiler</a></p>
<p>parallel 与mpicc 或者mpiicc有什么区别呢</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>讲实话，IPO PGO我已经晕了，我先列个list,之后再研究</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/gengshenghong/article/details/7034748">https://blog.csdn.net/gengshenghong/article/details/7034748</a></p>
<p><a target="_blank" rel="noopener" href="https://software.intel.com/content/www/us/en/develop/documentation/cpp-compiler-developer-guide-and-reference/top/compiler-reference/compiler-options/alphabetical-list-of-compiler-options.html">按字母顺序排列的intel c++编译器选项列表</a></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/39/">Previous</a></div><div class="pagination-next"><a href="/page/41/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/39/">39</a></li><li><a class="pagination-link is-current" href="/page/40/">40</a></li><li><a class="pagination-link" href="/page/41/">41</a></li><li><a class="pagination-link" href="/page/42/">42</a></li><li><a class="pagination-link" href="/page/43/">43</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="Shaojie Tan"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shaojie Tan</p><p class="is-size-6 is-block">𝘊𝘰𝘮𝘱𝘶𝘵𝘦𝘳 𝘈𝘳𝘤𝘩𝘪𝘵𝘦𝘤𝘵𝘶𝘳𝘦 &amp; 𝘏𝘗𝘊</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Anhui, Hefei, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">425</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">35</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">515</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Kirrito-k423" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Kirrito-k423"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">41</span></span></a></li><li><a class="level is-mobile" href="/categories/Artificial-Intelligence/"><span class="level-start"><span class="level-item">Artificial Intelligence</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Camp/"><span class="level-start"><span class="level-item">Camp</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Databases/"><span class="level-start"><span class="level-item">Databases</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/HPC/"><span class="level-start"><span class="level-item">HPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math/"><span class="level-start"><span class="level-item">Math</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">28</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-system/"><span class="level-start"><span class="level-item">Operating system</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile" href="/categories/ProjectRecord/"><span class="level-start"><span class="level-item">ProjectRecord</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Thinking/"><span class="level-start"><span class="level-item">Thinking</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Treasure/"><span class="level-start"><span class="level-item">Treasure</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorials/"><span class="level-start"><span class="level-item">Tutorials</span></span><span class="level-end"><span class="level-item tag">116</span></span></a></li><li><a class="level is-mobile" href="/categories/Values/"><span class="level-start"><span class="level-item">Values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/diary/"><span class="level-start"><span class="level-item">diary</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/english/"><span class="level-start"><span class="level-item">english</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/hardware/"><span class="level-start"><span class="level-item">hardware</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/love/"><span class="level-start"><span class="level-item">love</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/operating-system/"><span class="level-start"><span class="level-item">operating system</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/programming/"><span class="level-start"><span class="level-item">programming</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/software/"><span class="level-start"><span class="level-item">software</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/categories/thinking/"><span class="level-start"><span class="level-item">thinking</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/categories/thinking/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/toLearn/"><span class="level-start"><span class="level-item">toLearn</span></span><span class="level-end"><span class="level-item tag">55</span></span></a></li><li><a class="level is-mobile" href="/categories/values/"><span class="level-start"><span class="level-item">values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://ibug.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ibugs</span></span><span class="level-right"><span class="level-item tag">ibug.io</span></span></a></li><li><a class="level is-mobile" href="https://jia.je/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jiegec</span></span><span class="level-right"><span class="level-item tag">jia.je</span></span></a></li><li><a class="level is-mobile" href="https://leimao.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">leimao</span></span><span class="level-right"><span class="level-item tag">leimao.github.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-11T03:04:55.000Z">2024-10-11</time></p><p class="title"><a href="/2024/10/11/Work/Programming/DebugProfile/DebugProfilePTA/">Debug/Profile Tools of PTA</a></p><p class="categories"><a href="/categories/toLearn/">toLearn</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-22T09:19:48.000Z">2024-09-22</time></p><p class="title"><a href="/2024/09/22/Work/software/simulator/PC/VirtualBox/">VirtualBox</a></p><p class="categories"><a href="/categories/software/">software</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-13T07:08:55.000Z">2024-09-13</time></p><p class="title"><a href="/2024/09/13/Work/software/PC/macbook/">Macbook Config</a></p><p class="categories"><a href="/categories/software/">software</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-13T00:47:35.000Z">2024-09-13</time></p><p class="title"><a href="/2024/09/13/Work/Programming/2-languageGrammar/c/Types/">[C++ Basic] Types</a></p><p class="categories"><a href="/categories/toLearn/">toLearn</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-09-12T14:41:50.000Z">2024-09-12</time></p><p class="title"><a href="/2024/09/12/Work/Programming/2-languageGrammar/c/Class/">[C++ Basic] User-Defined Types: Class</a></p><p class="categories"><a href="/categories/Programming/">Programming</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/10/"><span class="level-start"><span class="level-item">October 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/09/"><span class="level-start"><span class="level-item">September 2024</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/08/"><span class="level-start"><span class="level-item">August 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">July 2024</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">June 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">May 2024</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/04/"><span class="level-start"><span class="level-item">April 2024</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/03/"><span class="level-start"><span class="level-item">March 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/02/"><span class="level-start"><span class="level-item">February 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">January 2024</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/12/"><span class="level-start"><span class="level-item">December 2023</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/11/"><span class="level-start"><span class="level-item">November 2023</span></span><span class="level-end"><span class="level-item tag">33</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/10/"><span class="level-start"><span class="level-item">October 2023</span></span><span class="level-end"><span class="level-item tag">57</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/09/"><span class="level-start"><span class="level-item">September 2023</span></span><span class="level-end"><span class="level-item tag">37</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/08/"><span class="level-start"><span class="level-item">August 2023</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/07/"><span class="level-start"><span class="level-item">July 2023</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">June 2023</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">May 2023</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/04/"><span class="level-start"><span class="level-item">April 2023</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/03/"><span class="level-start"><span class="level-item">March 2023</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">February 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">January 2023</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/12/"><span class="level-start"><span class="level-item">December 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/11/"><span class="level-start"><span class="level-item">November 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">October 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">September 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">August 2022</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">July 2022</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">June 2022</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">May 2022</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">April 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">March 2022</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">February 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">January 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">December 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">November 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">October 2021</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">September 2021</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">July 2021</span></span><span class="level-end"><span class="level-item tag">28</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/5G/"><span class="tag">5G</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/64bits-vs-32bits/"><span class="tag">64bits vs 32bits</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMAT/"><span class="tag">AMAT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMD/"><span class="tag">AMD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ASPLOS/"><span class="tag">ASPLOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ATI/"><span class="tag">ATI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AVX/"><span class="tag">AVX</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Alpha/"><span class="tag">Alpha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analysis/"><span class="tag">Analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apt/"><span class="tag">Apt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BHive/"><span class="tag">BHive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BT/"><span class="tag">BT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BTL/"><span class="tag">BTL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Baka-Mitai/"><span class="tag">Baka Mitai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Big-Endian/"><span class="tag">Big-Endian</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a><p class="is-size-7"><span>&copy; 2024 Shaojie Tan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>