<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Category: toLearn - SHAOJIE&#039;S BOOK</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="SHAOJIE&#039;S BOOK"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="SHAOJIE&#039;S BOOK"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="SHAOJIE&#039;S BOOK"><meta property="og:url" content="http://icarus.shaojiemike.top/"><meta property="og:site_name" content="SHAOJIE&#039;S BOOK"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://icarus.shaojiemike.top/img/og_image.png"><meta property="article:author" content="Shaojie Tan"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://icarus.shaojiemike.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icarus.shaojiemike.top"},"headline":"SHAOJIE'S BOOK","image":["http://icarus.shaojiemike.top/img/og_image.png"],"author":{"@type":"Person","name":"Shaojie Tan"},"publisher":{"@type":"Organization","name":"SHAOJIE'S BOOK","logo":{"@type":"ImageObject","url":"http://icarus.shaojiemike.top/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">toLearn</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-08-05T16:00:00.000Z" title="8/5/2023, 4:00:00 PM">2023-08-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.201Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">6 minutes read (About 837 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/05/Work/Programming/2-languageGrammar/jupyter-ai/">Jupyter AI</a></p><div class="content"><h2 id="Jupyter-简介"><a href="#Jupyter-简介" class="headerlink" title="Jupyter 简介"></a>Jupyter 简介</h2><p>Jupyter是一个开源的、交互式的计算环境，可以让用户创建和共享包含实时代码、可视化和文本的文档。</p>
<ul>
<li>它的名字来源于三个主要的编程语言：Julia、Python和R，这三种语言的开头字母构成了“Jupyter”。</li>
<li>Jupyter最初是IPython项目的一部分，旨在提供Python的交互式计算环境。随着时间的推移，它不仅支持Python，还扩展到其他编程语言，包括R、Julia、Scala等。Jupyter的灵感来自于IPython的交互式shell，但在其基础上增加了更多功能和可扩展性。</li>
</ul>
<p>Jupyter最显著的特点：用户可以<strong>通过Web浏览器</strong>打开Jupyter笔记本，然后在其中编写代码、运行代码并直接查看代码的输出结果。笔记本中的代码和文本可以交叉编排，使得写作、数据分析和可视化变得非常直观和便捷。</p>
<p>主要的Jupyter组件包括：</p>
<ol>
<li>Jupyter Notebook：这是最常见的Jupyter界面，以.ipynb后缀的文件保存。它支持多种编程语言的代码运行，交互式地执行和编辑代码块，并支持在代码块中插入Markdown格式的文本以及图像、链接等内容。</li>
<li>Jupyter Lab：这是Jupyter Notebook的下一代界面，提供了更加现代化和灵活的界面。Jupyter Lab将各种组件整合到一个集成的界面中，使得多个笔记本、终端和文件浏览器可以在一个窗口中同时运行。</li>
<li>Jupyter Kernel：Jupyter支持多种编程语言的内核，通过内核，Jupyter可以与特定编程语言进行交互。例如，使用Python内核可以在笔记本中运行和编写Python代码，同样，使用R内核可以运行和编写R代码。</li>
</ol>
<p>Jupyter在教育、数据科学、机器学习、数据分析等领域得到广泛应用。它提供了一个方便、实用的平台，帮助用户探索数据、实验算法、展示结果，并通过共享笔记本方便地与其他人交流和合作。</p>
<h3 id="Jupyter-vs-python"><a href="#Jupyter-vs-python" class="headerlink" title="Jupyter vs python"></a>Jupyter vs python</h3><p>Jupyter 的<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/37490497">核心</a>在于 数据分析的 计算-分析-可视化 的快速迭代。</p>
<p>如果不是数据科学，就不太需要Jupyter</p>
<h2 id="Installation-in-Linux"><a href="#Installation-in-Linux" class="headerlink" title="Installation in Linux"></a>Installation in Linux</h2><p>安装<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/166425946">Jupyter Lab</a></p>
<h2 id="web-forward-to-local-machine"><a href="#web-forward-to-local-machine" class="headerlink" title="web-forward to local machine"></a>web-forward to local machine</h2><p>远程访问服务器</p>
<h2 id="Jupyter-AI"><a href="#Jupyter-AI" class="headerlink" title="Jupyter-AI"></a>Jupyter-AI</h2><ol>
<li>Installation</li>
<li>test</li>
</ol>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><ol>
<li>python 一大特点就是容易可视化，既然这样，我为什么不用jupyter呢？</li>
<li>chatgpt 类的工具都是基于付费API，有两大问题<ol>
<li>国内难以付费</li>
<li>国内ip一旦访问是很容易封号的。</li>
</ol>
</li>
<li>一种解决办法是使用有免费API的工具，并且在全流量走cloudflare的wg的服务器上配置服务。</li>
</ol>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>上面回答部分<strong>来自ChatGPT-3.5</strong>，没有进行正确性的交叉校验。</p>
<p><a target="_blank" rel="noopener" href="https://jupyter-ai.readthedocs.io/en/latest/users/index.html#installation">https://jupyter-ai.readthedocs.io/en/latest/users/index.html#installation</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-08-02T16:00:00.000Z" title="8/2/2023, 4:00:00 PM">2023-08-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.193Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">3 minutes read (About 464 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/02/Work/Algorithms/parallel_sort/">Parallel_sort</a></p><div class="content"><h2 id="并行排序算法"><a href="#并行排序算法" class="headerlink" title="并行排序算法"></a>并行排序算法</h2><p>to learn</p>
<h2 id="PSRS算法"><a href="#PSRS算法" class="headerlink" title="PSRS算法"></a>PSRS算法</h2><p>并行正则采样排序算法</p>
<p><img src="https://pic2.zhimg.com/80/v2-28a103ab8e3911ae13feaa3f9f663d51_1440w.webp" alt="PSRS"></p>
<h3 id="复杂度分析"><a href="#复杂度分析" class="headerlink" title="复杂度分析"></a>复杂度分析</h3><p>简单地讨论一下 PSRS 算法的复杂度。</p>
<ul>
<li>在第一部分的快速排序中，时间复杂度为O(klogk)，k&#x3D;n&#x2F;p</li>
<li>然后，各处理器选择 p-1 个代表元素，代价为O(p)</li>
<li>再由 Proc#0 对所有送来的代表元素进行排序，然后选出主元，这里若使用快速排序，代价为O(p^2 logp^2)<ul>
<li>而若使用归并排序，则所需代价为O(p^2)</li>
</ul>
</li>
<li>每个处理器接收到主元后，再对有序数组进行划分，代价为O(k+p)</li>
<li>最后，各个处理器全局交换，并行归并排序，<ul>
<li>每个处理器是串行的<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000009723817">多路归并问题</a>，时间复杂度为<code>O(k*logp)</code></li>
</ul>
</li>
</ul>
<p>考虑到实际应用中，需要排序的数据长度 n 一定远远多于现有的处理器 p，此时可以视 p 为一个小常数，那么 PSRS 排序算法的时间复杂度，就可以简化为 <code>O(klogk+k*logp)~O(klogk)</code></p>
<p>从消息复杂度的角度看，</p>
<ul>
<li>播送主元的复杂度为 O(p^2+p)</li>
<li>分区合并（全局交换）部分的消息复杂度与具体算法实现相关，但其最大值不会超过 O(n)</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><!-- 字节的面试官抓着这点问，我确实没仔细研究比较过。 -->

<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>上面回答部分<strong>来自ChatGPT-3.5</strong>，没有进行正确性的交叉校验。</p>
<p><a target="_blank" rel="noopener" href="https://dingfen.github.io/mpi&openmp/2021/01/23/psrs_sort.html">https://dingfen.github.io/mpi&amp;openmp/2021/01/23/psrs_sort.html</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-07-16T16:00:00.000Z" title="7/16/2023, 4:00:00 PM">2023-07-16</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.201Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">19 minutes read (About 2811 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/07/16/Work/Operating%20system/userKernelMode/">User Kernel Mode</a></p><div class="content"><h2 id="内核态"><a href="#内核态" class="headerlink" title="内核态"></a>内核态</h2><p>内核态是计算机系统中的一种特权模式，用于执行操作系统内核的代码和功能。与用户态相比，内核态具有更高的权限和更广泛的访问能力，可以执行一些用户态无法执行的关键任务和操作。下面是从用户态的角度上介绍内核态的功能：</p>
<ol>
<li>系统调用（System Calls）：内核态允许用户程序通过系统调用接口请求操作系统提供的服务和功能。用户程序可以通过系统调用请求文件操作、网络通信、内存管理等操作。当用户程序执行系统调用时，会触发从用户态切换到内核态的转换，以便内核在高权限下执行相应的操作。</li>
<li>资源管理：内核态负责管理计算机系统的各种资源，包括处理器、内存、磁盘、网络等。在内核态下，操作系统可以对这些资源进行分配、调度和释放，确保资源的有效利用和合理分配。</li>
<li>中断处理：当发生硬件中断或异常时，内核态负责处理中断并提供相应的服务。例如，当用户程序需要与设备进行交互时，内核可以响应设备的中断信号，进行数据传输、状态检查等操作。</li>
<li>进程管理：内核态负责创建、销毁和管理进程。它可以调度进程，分配和回收进程所需的资源，并在必要时进行进程间的通信和同步。</li>
<li>内存管理：内核态控制着计算机系统的内存分配和管理。它负责将物理内存分配给进程，并维护虚拟内存和物理内存之间的映射关系。内核还处理内存保护、页面置换、内存回收等任务。</li>
<li>设备驱动程序：内核态包含设备驱动程序，用于与硬件设备进行交互。它允许操作系统通过设备驱动程序来控制和管理硬件设备，如磁盘驱动程序、网络驱动程序等。</li>
<li>安全和权限管理：内核态能够执行与系统安全和权限相关的任务。它可以控制对系统资源的访问权限，并确保用户程序不能越权访问或修改关键数据和系统配置。</li>
</ol>
<p>总的来说，内核态提供了操作系统核心功能的执行环境，拥有更高的权限和更广泛的访问能力，使得操作系统能够管理和控制计算机系统的各个方面，同时为用户程序提供必要的服务和保护。</p>
<h3 id="代码位置"><a href="#代码位置" class="headerlink" title="代码位置"></a>代码位置</h3><p><img src="https://pic.shaojiemike.top/img/20211225203420.png"></p>
<p>在Linux系统中，每个进程的虚拟地址空间中的高位部分通常被映射为内核空间，其中包含了内核态的代码和数据。这个区域通常被称为内核空间或内核页表。内核空间中的内容包括以下两类：</p>
<ol>
<li>内核代码：内核代码是操作系统内核的实现，包括各种系统调用、设备驱动程序和核心功能的代码。这些代码用于提供操作系统的各种服务和功能，如文件系统操作、进程管理、内存管理、网络通信等。内核代码是所有进程共享的，因为它们代表了操作系统的核心部分，为所有进程提供服务。</li>
<li>共享内核数据结构：内核空间中还包含一些共享的内核数据结构，用于维护系统状态和资源管理。例如，进程调度器、内存管理数据结构、文件描述符表等。这些数据结构被多个进程共享，以便内核能够管理和控制系统资源的分配和使用。</li>
</ol>
<p>除了以上共享的内容，内核空间还包含一些每个进程独有的部分，例如：</p>
<ol>
<li>进程描述符（Process Descriptor）：每个进程都有一个唯一的进程描述符，其中包含了进程的状态信息、上下文和其他与进程相关的数据。进程描述符存储在内核空间，每个进程都有自己独立的进程描述符。</li>
<li>用户栈和内核栈：每个进程都有自己的用户栈和内核栈。用户栈用于保存进程在用户态执行时的局部变量和函数调用信息，而内核栈用于保存进程在内核态执行时的上下文信息和函数调用。（内核函数也要嵌套调用）</li>
</ol>
<p>总结起来，Linux进程的高位部分映射了内核空间，其中包含了内核代码、共享的内核数据结构以及每个进程独有的部分，如进程描述符和栈空间。这种映射允许进程与内核进行交互和访问操作系统的功能和服务。</p>
<h3 id="如何共享"><a href="#如何共享" class="headerlink" title="如何共享"></a>如何共享</h3><p>在内核中，代码共享并不是通过动态链接库（.so）的模式来实现的。内核态的代码通常被编译成内核模块或者直接编译进内核映像中，而不是作为独立的可加载库。因此，内核中的代码共享机制与用户空间中的动态链接库不同。</p>
<p>在内核中，代码共享是通过代码复用和内核模块的概念来实现的。内核模块是一种可以动态加载和卸载的代码和数据集合，它可以扩展内核的功能。内核模块可以包含新的设备驱动程序、文件系统、网络协议等，以便在需要时被加载到内核中运行。</p>
<p>内核模块的加载过程可以在运行时根据需要进行，而不需要重新编译整个内核。这样，多个进程可以共享同一个内核模块，从而实现内核代码的共享。当多个进程需要使用某个内核模块时，模块只需要加载一次，然后被多个进程共享调用。</p>
<p>值得注意的是，内核中的代码共享是在内核空间内部进行的，与用户空间的动态链接库不同，它不涉及用户进程的地址空间和加载机制。内核模块的共享是在内核内部完成的，不同进程间可以通过系统调用接口访问共享的内核模块提供的功能和服务。</p>
<p>总结起来，内核中的代码共享是通过内核模块的加载和运行机制来实现的，而不是像用户空间中的动态链接库那样。内核模块可以被多个进程共享调用，从而提供共享的内核功能和服务。</p>
<h2 id="内核态与用户态切换"><a href="#内核态与用户态切换" class="headerlink" title="内核态与用户态切换"></a>内核态与用户态切换</h2><h3 id="切换时机"><a href="#切换时机" class="headerlink" title="切换时机"></a>切换时机</h3><p>内核态与用户态的切换通常由以下几种情况触发：</p>
<ul>
<li>系统调用（System Call）：当用户程序通过系统调用请求操作系统提供的服务时，会触发从用户态到内核态的切换。这是最常见的切换方式。</li>
<li>异常（Exception）和中断（Interrupt）：当发生硬件中断、软件中断（如除零错误）、内存访问错误等异常情况时，CPU会切换到内核态来处理异常。这些异常可以是由程序错误、设备请求或其他条件引起的。</li>
<li>外部事件：例如时钟中断、I&#x2F;O 完成中断等，这些事件可能需要内核处理，因此会导致从用户态切换到内核态。</li>
</ul>
<h3 id="切换的细节"><a href="#切换的细节" class="headerlink" title="切换的细节"></a>切换的细节</h3><p>当进程从用户态切换到内核态，或者从内核态切换回用户态时，涉及到特权级的切换和上下文的保存与恢复。下面是内核态与用户态切换的一般细节：</p>
<ol>
<li><p>特权级切换：内核态拥有更高的特权级别，因此从用户态切换到内核态时，CPU会从当前运行的用户模式切换到内核模式。这种切换会改变CPU的状态，包括特权级、堆栈和指令指针。</p>
</li>
<li><p>上下文保存与恢复：在切换到内核态之前，CPU会保存当前用户态下的进程上下文信息，包括程序计数器（PC）、寄存器的值、堆栈指针等。这些上下文信息保存在进程的内核栈中。</p>
</li>
<li><p>内核态执行：当切换到内核态后，CPU开始执行相应的内核代码，处理请求或异常。在内核态下，操作系统可以访问和操作系统的所有资源和功能，执行必要的操作。</p>
</li>
<li><p>上下文恢复与切换回用户态：当内核态的任务完成后，CPU会从内核栈中恢复之前保存的进程上下文信息。然后，CPU会将特权级切换回用户态，并从保存的程序计数器继续执行用户程序。</p>
</li>
</ol>
<p>需要注意的是，内核态与用户态的切换涉及到CPU和操作系统的底层机制，具体细节可能会因操作系统的设计和架构而有所不同。上述描述是一般情况下的概述，不同的操作系统和处理器架构可能会有特定的实现细节。</p>
<h3 id="开销来源"><a href="#开销来源" class="headerlink" title="开销来源"></a>开销来源</h3><ol>
<li>特权级切换</li>
<li>上下文保存与恢复</li>
<li>由于PTI的存在，内核维护了两套页表。切换到内核态时，可能需要切换内存地址空间的映射关系，例如将用户态的虚拟地址空间映射为内核态的地址空间。这可能涉及页表的切换和TLB（Translation Lookaside Buffer）的刷新，会带来一定的延迟和开销。</li>
</ol>
<h3 id="量化"><a href="#量化" class="headerlink" title="量化"></a>量化</h3><p>内核态与用户态的切换时间在数百到数千个CPU周期之间</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>上面回答部分<strong>来自ChatGPT-3.5</strong>，没有进行正确性的交叉校验。</p>
<div id='refer-anchor'></div>

<p>无</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-07-14T16:00:00.000Z" title="7/14/2023, 4:00:00 PM">2023-07-14</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.197Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">4 minutes read (About 663 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/07/14/Work/HPC/IPCC/IPCC2022final/">IPCC2022final</a></p><div class="content"><p><img src="https://pic.shaojiemike.top/img/20221203200751.png"></p>
<h2 id="学到的一些亮点"><a href="#学到的一些亮点" class="headerlink" title="学到的一些亮点"></a>学到的一些亮点</h2><p><img src="https://pic.shaojiemike.top/img/20221202184317.png"></p>
<p><img src="https://pic.shaojiemike.top/img/20221202184521.png"></p>
<h2 id="总结反思"><a href="#总结反思" class="headerlink" title="总结反思"></a>总结反思</h2><p>由于决赛是黑盒制度，没有排行榜，也不知道最终算分的例子是多大。我们优化着眼于自己找的清华的大例子，并行的占比在这部分很小。忽略了小例子里，占比比较高的部分的优化。结果最终赛题例子很小。</p>
<p><img src="https://pic.shaojiemike.top/img/20221202185953.png"></p>
<p>如果提前知道元素个数，并行对同一个数组的末尾添加元素可以并行，添加到指定位置之后再统一排序就行。比如山东大学，就是这里快了大约10ms，加上第一次排序快5ms。</p>
<p><img src="https://pic.shaojiemike.top/img/20221203103311.png"></p>
<p>比如信息中心(应该是第一名)的排序，用的是归并的基数排序<img src="https://pic.shaojiemike.top/img/20221203195910.png"></p>
<p>比如青海大学的优化：<img src="https://pic.shaojiemike.top/img/20221202191111.png"></p>
<p>还有高效的排序，怎么实现。<a target="_blank" rel="noopener" href="https://github.com/cermi29/ParallelStableSort">类似</a></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p><img src="https://pic.shaojiemike.top/img/20221202191656.png"></p>
<p>CSR (压缩稀疏行存储) 矩阵和邻接表在表示图数据结构时,计算和访问性能有些差异:</p>
<ul>
<li>CSR通过压缩行存储机制,可以大幅减少空间占用,节省内存。但索引算术运算负担重一些</li>
<li>邻接表使用链表指针连接相邻节点,追踪任意一条边的开销很低。但总体占用内存空间更大。</li>
<li>CSR访问任意一个元素通过索引计算直接可以定位,兼具稠密和稀疏矩阵的特点。</li>
<li>邻接表的边访问性能更好,通过指针直接遍历一个节点的所有相邻节点。</li>
<li>CSR的预处理时间较短,更易于向量化实现提高效率。</li>
<li>邻接表更灵活,可表示加权图或处理动态变化的图。</li>
<li>CSR矩阵更易进行压缩和剪枝来优化存储,节省内存带宽。</li>
</ul>
<p>所以简单来说,如果图更稠密,数据访问模式更随机,CSR可能会有些优势。如果需要频繁遍历边,图结构变化大,邻接表访问效率可能会更高一些。需要根据具体情况选择合适的表示。</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>哎呀，你干嘛！ 今年又<del>西巴了</del>,惜败了，应该是第三名左右。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-11T16:00:00.000Z" title="5/11/2023, 4:00:00 PM">2023-05-11</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.209Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">23 minutes read (About 3401 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/11/Work/network/Protocol/BT/">BitTorrent</a></p><div class="content"><h2 id="BT简述"><a href="#BT简述" class="headerlink" title="BT简述"></a>BT简述</h2><p>BitTorrent (简称 BT) 协议是和点对点（point-to-point）的协议程序不同，它是用户群对用户群（peer-to-peer, 或简写为 P2P) 传输协议, 它被设计用来高效地分发文件 (尤其是对于大文件、多人同时下载时效率非常高)。该协议基于HTTP协议，属于TCP&#x2F;IP应用层。</p>
<p>将文件划分成多块(默认256Kb一块)，每块可以从网络中不同的用户的BT客户端处并行下载。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BT 下载的文件都是别人上传给你的。</span><br><span class="line">BT 下载速度均来自其他下载同一资源的用户上传速度。</span><br><span class="line">上传的用户越多，你的下载速度越快，相反没用户上传你就没有下载速度。</span><br></pre></td></tr></table></figure>

<p>比特彗星，包括其他 BT 软件（迅雷除外，迅雷不是会员会限速，高速通道下载提高的速度一部分就是接触限速后获得的）都不会限制下载速度。</p>
<h3 id="BT分享规则"><a href="#BT分享规则" class="headerlink" title="BT分享规则"></a>BT分享规则</h3><p>与迅雷不同，BT旨在“人人为我，我为人人”。用户和用户之间对等交换自己手中已有的资源。如果任何一方试图白嫖另外一方的资源，而自己不愿意上传自己的资源，那么那方就会被人视作吸血者而被踢出这个交换，下场是没有人会愿意和你交换数据，你的下载速度也就归零。</p>
<p>如果把上传速度限制为了10KB&#x2F;s，10KB&#x2F;s是BitComet上传最低限速，很大时候就这10KB会被包含DHT查询、向Tracker服务器注册，连接用户所产生的上传全部占满。在下载种子的时候，其他用户连上你是只能拿到1～2KB&#x2F;s甚至一点都没有的。</p>
<p>现在的BT下载客户端都可以做到智能反吸血，所以基本想和交换数据的用户都把你当作Leecher（吸血鬼）Ban（封禁）处理了，故没有下载速度不足为奇。</p>
<p>一般来说，只要预留50KB&#x2F;s的上传给其他网页浏览、聊天就可以了，在下载时应该尽量把上传留给那些和你交换资源的用户，这样才不会被他们视作你在吸血进而屏蔽你。</p>
<p>如果上传不足，就应该主动限制自己的下载速度，否则单位时间下载量远超过上传量反而会遭来更多的屏蔽，对下载速度提升更加不利。</p>
<h3 id="BT基本流程"><a href="#BT基本流程" class="headerlink" title="BT基本流程"></a>BT基本流程</h3><p><code>.torrent</code> 种子文件本质上是文本文件，包含Tracker信息和文件信息两部分。Tracker信息主要是BT下载中需要用到的Tracker服务器的地址和针对Tracker服务器的设置。</p>
<ol>
<li>下载时，BT客户端首先解析种子文件得到Tracker地址，然后连接Tracker服务器。</li>
<li>Tracker服务器回应下载者的请求，提供下载者其他下载者（包括发布者）的IP。</li>
<li>下载者再连接其他下载者，根据种子文件，两者分别告知对方自己已经有的块，然后交换对方所没有的数据。<ol>
<li>此时不需要其他服务器参与，分散了单个线路上的数据流量，因此减轻了服务器负担。</li>
</ol>
</li>
<li>下载者每得到一个块，需要算出下载块的Hash验证码与种子文件中的对比，如果一样则说明块正确，不一样则需要重新下载这个块。这种规定是为了解决下载内容准确性的问题。</li>
</ol>
<h2 id="常规部署"><a href="#常规部署" class="headerlink" title="常规部署"></a>常规部署</h2><ul>
<li>安装<a target="_blank" rel="noopener" href="https://manpages.ubuntu.com/manpages/jammy/man1/qbittorrent-nox.1.html">qBittorrent-nox</a>, tmux下运行，在8080端口挂载WebUI</li>
<li>安装qbittorrent, 用户运行qbittorrent, x11弹出应用窗口<ul>
<li>问题：<ul>
<li>怎么维持窗口？<code>sudo XAUTHORITY=/home/qcjiang/.Xauthority qbittorrent</code></li>
<li>关于写文件权限，如何写网络硬盘</li>
<li>node5 上传很快, 网络原因？种子原因？(不是，是因为网络硬盘，所以下载多少要占用多少上传)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="docker部署"><a href="#docker部署" class="headerlink" title="docker部署"></a>docker部署</h2><p>以qBit的docker为例，参考<a target="_blank" rel="noopener" href="https://hub.docker.com/r/linuxserver/qbittorrent/#!">linuxsever</a>的docker-compose如下：(qBit相对于Transmission有多线程IO的优势) 也可以使用<a target="_blank" rel="noopener" href="https://github.com/SuperNG6/Docker-qBittorrent">其余docker镜像</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">version: &quot;2.1&quot;</span><br><span class="line">services:</span><br><span class="line">  qbittorrent:</span><br><span class="line">    image: lscr.io/linuxserver/qbittorrent:latest</span><br><span class="line">    container_name: qbittorrent</span><br><span class="line">    environment:</span><br><span class="line">      - PUID=0 # 这里是root 如果想以其他用戶A修改文件，可以改成其他用户的UID。通過id A 查看</span><br><span class="line">      - PGID=0</span><br><span class="line">      - TZ=Etc/UTC</span><br><span class="line">      - WEBUI_PORT=8080</span><br><span class="line">    volumes:</span><br><span class="line">      - /addDisk/DiskNo4/qBit:/config</span><br><span class="line">      - /addDisk/DiskNo4/bt:/downloads</span><br><span class="line"></span><br><span class="line">    network_mode: host</span><br><span class="line">    restart: unless-stopped</span><br></pre></td></tr></table></figure>

<p>默认账号 <code>admin</code> 默认密码 <code>adminadmin</code><br>然后通过webUI <code>http://222.195.72.218:8080/</code>管理。</p>
<p>??? tip “忘记密码处理”</p>
<pre><code>[修改对应配置文件，](https://zhuanlan.zhihu.com/p/374538088)
</code></pre>
<p>如果不想网络通过wireguard，而是本地可以如下设置</p>
<p><img src="https://pic.shaojiemike.top/img/20230314193709.png"></p>
<h3 id="同一台机器实现两个账号做种"><a href="#同一台机器实现两个账号做种" class="headerlink" title="同一台机器实现两个账号做种"></a>同一台机器实现两个账号做种</h3><ul>
<li>思路：两个docker，同一个网络出口</li>
<li>問題：<ul>
<li>qBit要有权限写文件</li>
<li>两个docker兼容性：<ul>
<li>WebUI有bug，不一定会显示。重启刷新即可</li>
<li>其次有一个docker会没有网络。<ul>
<li>这是由于端口随机错误导致的，会导致下面连接状态显示火焰。换端口刷新即可解决。</li>
<li><img src="https://pic.shaojiemike.top/img/20230512090749.png"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>关于封号<ul>
<li>由于国内环境下载一般都是大内网。同一个网络出去应该没有问题。</li>
<li>大多数做种是通过ipv6，会被检测出同一个机器多个账户做种，导致封号</li>
<li>还有关于盒子刷上传，一方面通过速度，另一方面由于盒子的ip是固定的，所以会被检测出重复导致封号。</li>
</ul>
</li>
</ul>
<h2 id="测速"><a href="#测速" class="headerlink" title="测速"></a>测速</h2><ol>
<li>先用 <a target="_blank" rel="noopener" href="https://www.speedtest.net/">https://www.speedtest.net</a> 测速<ol>
<li><img src="https://pic.shaojiemike.top/img/20221117082208.png"></li>
</ol>
</li>
<li>考虑热门种子测试 <a target="_blank" rel="noopener" href="http://releases.ubuntu.com/19.10/ubuntu-19.10-desktop-amd64.iso.torrent">http://releases.ubuntu.com/19.10/ubuntu-19.10-desktop-amd64.iso.torrent</a><ol>
<li><img src="https://pic.shaojiemike.top/img/20221117084350.png"></li>
<li>没通过代理能找到的用户变少，速度也变慢了。</li>
</ol>
</li>
<li>如果跑不到网络上限，可能和<a target="_blank" rel="noopener" href="https://www.cometbbs.com/t/%E8%A2%AB%E9%99%90%E9%80%9F%E5%9C%A8109mbs/34309/13">软件设置有关</a></li>
</ol>
<h2 id="上传速度"><a href="#上传速度" class="headerlink" title="上传速度"></a>上传速度</h2><p>m站刷上传的时候，发现基本都是对方基本都是通过ipv6下载<br><img src="https://pic.shaojiemike.top/img/Snipaste_2023-03-06_18-17-07.png"><br>uTP是一种基于UDP的协议，它可以根据网络拥塞情况自动调节传输速度，从而减少对其他网络应用的影响。</p>
<p>BT连接是一种基于TCP的协议，它可以保证数据的完整性和可靠性，但是可能会占用较多的网络带宽和资源。</p>
<p>在qBittorrent中，标志U K E P分别表示以下含义：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">U：表示你正在上传数据给对方，或者对方正在从你那里下载数据。</span><br><span class="line">K：表示对方支持uTP协议，即基于UDP的传输协议。</span><br><span class="line">E：表示对方使用了加密连接，即通过加密算法保护数据的安全性。</span><br><span class="line">P：表示对方使用了代理服务器或VPN服务，即通过第三方网络隐藏自己的真实IP地址。</span><br></pre></td></tr></table></figure>

<h2 id="PT设置"><a href="#PT设置" class="headerlink" title="PT设置"></a>PT设置</h2><ul>
<li>虽然说PT下载，客户端要关闭DHT,PeX, LSD。</li>
<li>但是其实种子是默认关闭的，无序额外设置，北洋和M站一样。</li>
<li><img src="https://pic.shaojiemike.top/img/20230512091246.png"></li>
</ul>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><h3 id="Tracker"><a href="#Tracker" class="headerlink" title="Tracker"></a>Tracker</h3><p>收集下载者信息的服务器，并将此信息提供给其他下载者，使下载者们相互连接起来，传输数据。</p>
<h3 id="种子"><a href="#种子" class="headerlink" title="种子"></a>种子</h3><p>指一个下载任务中所有文件都被某下载者<strong>完整</strong>的下载，此时下载者成为一个种子。发布者本身发布的文件就是原始种子。</p>
<h3 id="做种"><a href="#做种" class="headerlink" title="做种"></a>做种</h3><p>发布者提供下载任务的<strong>全部</strong>内容的行为；下载者下载完成后继续提供给他人下载的行为。</p>
<h3 id="分享率"><a href="#分享率" class="headerlink" title="分享率"></a>分享率</h3><p>上傳資料量 &#x2F; 下傳資料量的比率,是一種BT的良心度,沒實際作用.(一般为了良心，至少大于1)</p>
<h3 id="长期种子"><a href="#长期种子" class="headerlink" title="长期种子"></a>长期种子</h3><p>BitComet的概念，相对于种子任务的上传能够控制。</p>
<p>长效种子就是你<strong>不开启</strong>任务做种，只要你启动了比特彗星，软件挂后台，当有其他用户也是用比特彗星下载你列表里的存在的文件时候就会被认为是长效种子 。</p>
<h3 id="DHT"><a href="#DHT" class="headerlink" title="DHT"></a>DHT</h3><p>.DHT全称叫分布式哈希表(Distributed Hash Table)，是一种分布式存储方法。在不需要服务器的情况下，每个客户端负责一个小范围的路由，并负责存储一小部分数据，从而实现整个DHT网络的寻址和存储。新版BitComet允许同行连接DHT网络和Tracker，也就是说在完全不连上Tracker服务器的情况下，也可以很好的下载，因为它可以在DHT网络中寻找下载同一文件的其他用户。</p>
<p>类似Tracker的根据种子特征码返回种子信息的网络。</p>
<p>在BitComet中，无须作任何设置即可自动连接并使用DHT网络，完全不需要用户干预。</p>
<h3 id="用户交换Pex"><a href="#用户交换Pex" class="headerlink" title="用户交换Pex"></a>用户交换Pex</h3><p>Peer Exchange (PEX)， 每个peer客户端的用户列表，可以互相交换通用。可以将其理解为“节点信息交换”。前面说到了 DHT 网络是没有中心服务器的，那么我们的客户端总不能满世界去喊：“我在下载这个文件，快来连我吧.”（很大声）。所以就通过各个 BT 客户端自带的节点去同步路由表实现 DHT 网络连接。</p>
<h3 id="本地用户发现"><a href="#本地用户发现" class="headerlink" title="本地用户发现"></a>本地用户发现</h3><p>LSD（LPD）就是本地网络资源，内网下载，没什么几把用的东西，可能学校等私有网络好使</p>
<h3 id="ISP"><a href="#ISP" class="headerlink" title="ISP"></a>ISP</h3><p>網絡業務提供商(Internet Service Provider，簡稱ISP)，互聯網服務提供商，即向廣大用户綜合提供互聯網接入業務、信息業務、和增值業務的電信運營商。</p>
<h2 id="反吸血机制"><a href="#反吸血机制" class="headerlink" title="反吸血机制"></a>反吸血机制</h2><h3 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h3><ol>
<li>根据<strong>流量</strong>： 默认设置为120秒，持续对某个peer产生上传，并且从该peer用户获取的下载流量没有超过1KB文件（1024字节）大小，即拉黑该peer，预警颜色为黄色，合法为绿色，红色为封禁。</li>
<li>可组合检测<strong>指定客户端</strong>进行反吸血，比如说指定屏蔽qbittorrent、utorrent等吸血客户端选择（可多选客户端，可对下载任务和做种任务生效）</li>
<li>可组合检测客户端<strong>连接端口号</strong>进行反吸血，比如说指定屏蔽15000迅雷X版本客户端等吸血端口（可多选端口号，可对下载任务和做种任务生效）</li>
<li>可组合检测客户端<strong>连接peer_id标志符</strong>进行反吸血屏蔽，例如屏蔽XL0018客户端等吸血标志符（可多选标志符，可对下载任务和做种任务生效）</li>
</ol>
<h3 id="高级设置"><a href="#高级设置" class="headerlink" title="高级设置"></a>高级设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bittorrent.anti_leech_min_byte</span><br><span class="line">设定反吸血保护流量：要求对方在指定时间（秒）内需要上传的最少流量（byte）， 取值范围：1-10000。</span><br><span class="line"></span><br><span class="line">bittorrent.anti_leech_min_stable_sec</span><br><span class="line">设定反吸血保护时间：指定与对方连接多长时间（秒）后开始检查流量（byte），取值范围：1-10000。</span><br></pre></td></tr></table></figure>

<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="需要软件开着吗？"><a href="#需要软件开着吗？" class="headerlink" title="需要软件开着吗？"></a>需要软件开着吗？</h3><p>需要</p>
<h3 id="原文件改名或者移动，还会上传吗？"><a href="#原文件改名或者移动，还会上传吗？" class="headerlink" title="原文件改名或者移动，还会上传吗？"></a>原文件改名或者移动，还会上传吗？</h3><p>文件下载后不能移动，不能删除，不能重命名（但可以在软件内改）。 一但BT 软件找不到文件，或删除了任务，就无法做种上传了。</p>
<h3 id="晚上避免上传"><a href="#晚上避免上传" class="headerlink" title="晚上避免上传"></a>晚上避免上传</h3><p>可以在Bitcomet<strong>高级设置</strong>里设置<strong>时段限速</strong></p>
<h3 id="对硬盘损害大吗？"><a href="#对硬盘损害大吗？" class="headerlink" title="对硬盘损害大吗？"></a>对硬盘损害大吗？</h3><p>分享上传也需要频繁读取硬盘。</p>
<p>以Bitcomet为例，该软件就是通过磁盘缓存技术减小频繁随机读写对硬盘的损伤。</p>
<p>磁盘缓存就是利用物理内存作为缓冲，将下载下的数据先存放于内存中，然后定期的一次性写入硬盘，以减少对硬盘的写入操作，很大的程度上降低了磁盘碎片。</p>
<p>因为通常我们设置内存（磁盘缓存）为每任务XX兆，意味着，这个缓冲区可以存放数兆甚至几十兆的“块”，基本上可以杜绝碎片了。</p>
<p>现在BT软件都是自动设置缓存的，它是根据你物理内存的大小分配的。</p>
<h2 id="注意设置"><a href="#注意设置" class="headerlink" title="注意设置"></a>注意设置</h2><ol>
<li>设置了“反吸血”，应对迅雷</li>
<li>校园网设置9，不限制P2P<ol>
<li>国内各省份不同运营商限速策略（QOS）</li>
</ol>
</li>
</ol>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>路由器下载？</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-11T16:00:00.000Z" title="5/11/2023, 4:00:00 PM">2023-05-11</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.213Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">4 minutes read (About 637 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/11/Work/network/example/mountNetworkDisk/">Mount Network Disk</a></p><div class="content"><h2 id="文件类型"><a href="#文件类型" class="headerlink" title="文件类型"></a>文件类型</h2><ul>
<li>The <strong>Server Message Block (SMB)</strong> Protocol is the network file sharing protocol of Microsoft Windows. The set of message packets defining a particular version of the protocol is called a dialect(方言？). </li>
<li>The <strong>Common Internet File System (CIFS)</strong> is a dialect of SMB. <ul>
<li>Both SMB and CIFS are also available on VMS. Both SMB and CIFS are also available on other operating systems like Linux and Android via alternate implementations which are not officially supported by Microsoft.</li>
</ul>
</li>
<li>mount 通过修改 <code>/etc/fstab</code> 文件实现</li>
</ul>
<h2 id="lazy-umount"><a href="#lazy-umount" class="headerlink" title="lazy umount"></a>lazy umount</h2><ul>
<li>分区占用会报错<code>device is busy</code><ul>
<li>先尝试kill相关占用进程 <code>lsof /mountPath | sed -n &#39;2,$p&#39; | awk &#39;&#123;print $2&#125;&#39; | sudo xargs -r kill -9</code></li>
</ul>
</li>
<li><code>umount -l /media/disk</code><ul>
<li>立即从目录结构中实现卸载，即新进程将无法通过&#x2F;media&#x2F;disk访问&#x2F;dev&#x2F;sdb1。</li>
<li>正在访问该文件系统的程序不受影响。即正在操作&#x2F;media&#x2F;disk的进程不会被打断，且仍可以读写&#x2F;dev&#x2F;sdb1中的所有文件。</li>
<li>如果所有进程对&#x2F;media&#x2F;disk的操作都执行完，那么才真正地umount。</li>
<li>由此可知，lazy umount并没有真正实现umount，仅用于特殊需要的情况，而用这种方法来卸载U盘是不安全的。</li>
</ul>
</li>
</ul>
<h2 id="Ubuntu-挂载网络硬盘"><a href="#Ubuntu-挂载网络硬盘" class="headerlink" title="Ubuntu 挂载网络硬盘"></a>Ubuntu 挂载网络硬盘</h2><p>在snode5测试</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ip acsa-med.acsalab.com</span></span><br><span class="line">mount 114.214.236.245:/volume1/acsa-med /acsa-med</span><br><span class="line">  114.214.236.245:/volume1/acsa-med      66T   40T   27T  61% /acsa-med</span><br><span class="line">mount -o soft,proto=rdma,port=2050 10.1.13.1:/home /staff</span><br><span class="line">  10.1.13.1:/home                        35T  8.1G   35T   1% /staff</span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂载网络共享文件夹Entertainment 到ubuntu空目录/synology，除开root，本地用户yyy也能访问：</span></span><br><span class="line">sudo apt-get install cifs-utils</span><br><span class="line"><span class="comment"># 可以省略 pass。 </span></span><br><span class="line">sudo mount.cifs //synology.acsalab.com/Entertainment /synology -o user=xxx vers=3.0</span><br></pre></td></tr></table></figure>

<ul>
<li>注意: 挂载的时候选择ipv6域名<code>synology.acsalab.com</code>更好, 之前ipv4反而走了WARP的wiregaurd代理导致链接不上</li>
<li>其中<code>uid</code>和<code>domain</code>可以用<code>id</code>命令可知</li>
</ul>
<h3 id="强制取消-CIFS-Share-挂载"><a href="#强制取消-CIFS-Share-挂载" class="headerlink" title="强制取消 CIFS Share 挂载"></a>强制取消 CIFS Share 挂载</h3><p>lazy<code>-l</code>方式unmount所有<code>-a</code> 文件系统为<code>-t cifs</code>的挂载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount -a -t cifs -l /path/to/share</span><br></pre></td></tr></table></figure>

<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>姜师兄不知道怎么取消挂载后出现</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@brainiac1:/home/qcjiang/mnt<span class="comment"># ls -al</span></span><br><span class="line"><span class="built_in">ls</span>: cannot access <span class="string">&#x27;nas&#x27;</span>: No such device</span><br><span class="line">total 8</span><br><span class="line">drwxr-xr-x  3 root    root    4096 May 11 15:52 .</span><br><span class="line">drwxr-xr-x 23 qcjiang qcjiang 4096 May 11 15:52 ..</span><br><span class="line">d?????????  ? ?       ?          ?            ? nas</span><br><span class="line"></span><br><span class="line">root@brainiac1:/home/qcjiang/mnt/nas<span class="comment"># ls -al</span></span><br><span class="line"><span class="built_in">ls</span>: cannot open directory <span class="string">&#x27;.&#x27;</span>: No such device</span><br><span class="line"></span><br><span class="line">root@brainiac1:/home/qcjiang/mnt<span class="comment"># lsof /mntSyno</span></span><br><span class="line">lsof: WARNING: can<span class="string">&#x27;t stat() cifs file system /home/qcjiang/mnt/nas</span></span><br><span class="line"><span class="string">      Output information may be incomplete.</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>d?????????</code>经常出现在无权限访问时，需要<code>chmod +x /path</code>解决</li>
<li>但是这里是没有处理空cifs挂载，运行<code>umount /home/qcjiang/mnt/nas</code> 即可解决。</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>想将Nas上的盘挂载到</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-05T16:00:00.000Z" title="5/5/2023, 4:00:00 PM">2023-05-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.189Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">10 minutes read (About 1439 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/05/05/Thinking/4-viewOnOthers/4.1-FilmTVRating/">UnimportantView: Film &amp; TV(Anime) Works Rating</a></p><div class="content"><h2 id="如何评价影视剧-动漫作品"><a href="#如何评价影视剧-动漫作品" class="headerlink" title="如何评价影视剧(动漫作品)"></a>如何评价影视剧(动漫作品)</h2><p>我一向的观点是现实生活已经投入了很多时间体验了，影视剧(动漫作品)肯定要是看现实中没有的。这导致的第一个问题就是既然不存在，你怎么让观众相信呢？</p>
<ul>
<li>真实的氛围感<ul>
<li>真实的细节特效</li>
<li>真实的演员反映和期望中的样子</li>
</ul>
</li>
</ul>
<h2 id="如何评价对影视剧-动漫作品-角色的喜爱程度"><a href="#如何评价对影视剧-动漫作品-角色的喜爱程度" class="headerlink" title="如何评价对影视剧(动漫作品)角色的喜爱程度"></a>如何评价对影视剧(动漫作品)角色的喜爱程度</h2><ul>
<li><p>喜欢一个角色往往是没有什么理由的，虽然要追求格物致知。但是将最感性的情感拿来分析是不是有点无情呢？</p>
</li>
<li><p>初印象的美好(40)</p>
<ul>
<li>外貌美(15):<ul>
<li>不一定要完美，但是要有特点，</li>
<li>可以接受有缺陷，但是其一般要具有意义来完善人物塑造。</li>
</ul>
</li>
<li>可爱俏皮(5)<ul>
<li>可以拉进距离感</li>
</ul>
</li>
<li>性格好(乐观、勇敢、坚毅、聪明)(10)<ul>
<li>角色不可能不经历挫折，乐观还是要一点</li>
<li>但是白给的老好人不行，还是要有基础原则的</li>
<li>可以出发点很低(一开始比较恶劣,自闭)，为角色后续成长留下了空间</li>
</ul>
</li>
<li>强烈独特独立的个性魅力、个人行为准则坚定(10)<ul>
<li>额外固执但是专情</li>
<li>病娇(特别爱一个人)，想守护妹妹的想法</li>
<li>厌世，缺爱</li>
</ul>
</li>
</ul>
</li>
<li><p>角色剧情行事逐渐展示出来的</p>
<ul>
<li>真实感(反差,与观众拉近距离) (20)<ul>
<li>平时严酷，但也会含羞</li>
<li>总是公正，但也会偏私</li>
</ul>
</li>
<li>悲剧色彩，激发了同情心(共情)(0~30)<ul>
<li>努力却依旧失败、正义行事却危机四伏、爱而不得、无所谓付出。一哭 +10</li>
<li>美好的东西被摧毁总是令人扼腕痛心，令人印象深刻。+10<ul>
<li>失去美好的未来</li>
</ul>
</li>
<li>刀人：刀友情，刀亲情 +10</li>
</ul>
</li>
<li>共鸣？观众随角色一同成长(40)<ul>
<li>如果观众一开始有一样的疑惑，(10)</li>
<li>然后和角色一起寻找答案 (10)</li>
<li>最后坚定的相信自己找到的 (20)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h2><ul>
<li>星野爱(113)<ul>
<li>外貌(5)：不是特别感冒的形象</li>
<li>可爱俏皮(2)</li>
<li>乐观性格(6)：演出也有时迷茫，却为了孩子开朗了起来</li>
<li>独特和自我(10)： 厌世，缺爱让人同情</li>
<li>真实感(20)：以谎言编织的怀孕偶像，是最大的反差</li>
<li>悲剧色彩(30)：<ul>
<li>想学会爱，但是到死还在努力</li>
<li>失去了与孩子们的未来</li>
<li>刀母爱</li>
</ul>
</li>
<li>共鸣与成长(40)<ul>
<li>疑惑: 不会爱的人怎么办</li>
<li>寻找：以谎言代替</li>
<li>结论：谎言也是我努力传达爱意的方式。但唯独我爱你们，这句话……绝对不是谎言</li>
</ul>
</li>
</ul>
</li>
<li>亚斯娜(100)<ul>
<li>外貌(15)：理想的人妻</li>
<li>可爱俏皮(5)</li>
<li>乐观性格(10)：理想的姐姐人妻性格，爱你管你又不太束缚你</li>
<li>独特和自我(10)： 为了Kirito 愿意牺牲自己</li>
<li>真实感(20)：平时严酷，但也会含羞</li>
<li>悲剧色彩(10)：<ul>
<li>刀爱情， 差一点失去Kirito</li>
</ul>
</li>
<li>共鸣与成长(30)<ul>
<li>疑惑: 在虚拟世界里，存在的意义是什么</li>
<li>寻找：寻找虚拟世界“红莫罗”的东西</li>
<li>结论：这份感情与相遇的经历是真实的(10,结论不够动容)</li>
</ul>
</li>
</ul>
</li>
<li>爱莉希雅Elysia(125)<ul>
<li>外貌(15)：理想的人妻2</li>
<li>可爱俏皮(10) 与芽衣打情骂俏，甜齁了(摸角)。额外加分+5</li>
<li>乐观性格(10)：理想的姐姐人妻性格，</li>
<li>独特和自我(10)： 真我 ~ 人之律者</li>
<li>真实感(20)：平时严酷，但也会含羞（神之子却爱上了人类）</li>
<li>悲剧色彩(30)：<ul>
<li>出生无知的律者，努力爱人类，却不被理解</li>
<li>反而为人类牺牲</li>
<li>本世代对抗侵蚀之律者，最终数据还被删除</li>
</ul>
</li>
<li>共鸣与成长(30)<ul>
<li>疑惑: 凡事任凭心意而为，自由自在，与副首领的身份格格不入的往事乐土的少女是谁</li>
<li>寻找：寻找前世的真相与少女的秘密</li>
<li>结论：即使往事乐土不存在了，但只要这份记忆还在，你就永远还在。愿时光永驻此刻(10,结论不够动容)</li>
</ul>
</li>
</ul>
</li>
<li>光与焰(120)<ul>
<li>外貌(15)：两个人各有特点</li>
<li>可爱俏皮(5) </li>
<li>乐观性格(10)：理想的姐姐人妻性格，</li>
<li>独特和自我(10)： 光傲娇 焰体贴</li>
<li>真实感(25)：光性格上与焰完全相反，非常要强，不擅长表达自己的感情，但本性其实很温柔，内心很脆弱。<ul>
<li>高质量CG的游戏，真实沉浸感额外加分+5</li>
</ul>
</li>
<li>悲剧色彩(20)：<ul>
<li>被坏人利用，虽然不愿意，但是伤害了世界，</li>
<li>喜欢lex，最后还是牺牲了自己(lex,你一个人也没关系了吧！)</li>
</ul>
</li>
<li>共鸣与成长(35)<ul>
<li>疑惑: 无意间结实的少女</li>
<li>寻找：寻找世界的真相与少女的秘密</li>
<li>结论：即使有前世的经历。但是愿意忘记悲伤的过去。从现在开始彼此守护(15,结论不够动容)</li>
</ul>
</li>
</ul>
</li>
<li>评价模板<ul>
<li>外貌(15)：理想的人妻</li>
<li>可爱俏皮(5)</li>
<li>乐观性格(10)：理想的人妻性格</li>
<li>独特和自我(10)： </li>
<li>真实感(20)：</li>
<li>悲剧色彩(30)：<ul>
<li>想</li>
<li>失去了</li>
<li>刀</li>
</ul>
</li>
<li>共鸣与成长(40)<ul>
<li>疑惑: </li>
<li>寻找：</li>
<li>结论：</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>看了星野爱之后，我又emo了</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-26T16:00:00.000Z" title="4/26/2023, 4:00:00 PM">2023-04-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.217Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">12 minutes read (About 1797 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/26/Work/software/simulator/gem5/">Gem5</a></p><div class="content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>GEM5是一款模块化的离散事件驱动全系统模拟器，由C++与python编写</li>
<li>它结合了M5（多处理器模拟器）和GEMS（存储层次模拟器）中最优秀的部分，是一款高度可配置、集成多种ISA和多种CPU模型的体系结构模拟器。<ul>
<li>M5是由Michigan大学开发的一款开源的多处理机模拟器，受到了业内的广泛关注，很多高水平论文都采用M5作为研究工具。</li>
<li>另一方面，Wisconsin推出的GEMS能够对储存层次进行详细而灵活的模拟，包括对多种不同的cache一致性协议和互联模型的支持。</li>
<li>目前的GEM5是M5和GEMS的一个紧耦合版本。</li>
</ul>
</li>
<li>GEM5已经能够支持多种商用ISA，包括X86、ARM、ALPHA、MIPS、Power、SPARC等，并且能够在X86、ARM、ALPHA上加载操作系统。</li>
</ul>
<h3 id="可选配置-灵活性"><a href="#可选配置-灵活性" class="headerlink" title="可选配置(灵活性)"></a>可选配置(灵活性)</h3><ul>
<li>灵活性是指gem5提供了多种CPU模型、系统模型以及存储器模型。<ul>
<li>CPU模型：Atomic、Timing、In-order、<strong>O3（Out of Order）</strong>。<ul>
<li><code>AtomicSimple</code>是最简单规模的模型，一个cycle完成一条指令的执行，memory 模型比较理想化，访存操作为原子性操作。适用于快速功能模拟。</li>
<li><code>TimingSimple</code>模拟器也是无流水线的模拟，但是使用了存储器访问时序模型，用以统计存储器访问延迟。</li>
<li><code>In-Order</code>模型是GEM5模拟的新特性，强调指令时序与仿真精度，流水级为默认五级流水：取值、译码、执行、访存、写回。并且模拟了cache部件、执行部件、分支预测部件等。</li>
<li><code>O3</code>模拟器是流水级模拟，O3模拟器模拟了乱序执行和超标量执行的指令间依赖，以及运行在多CPU上的并发执行的多线程。<ul>
<li>默认7级流水：取值、译码、重命名、发射、执行、写回、提交。</li>
<li>模拟了物理寄存器文件、IO、LSQ、ROB功能部件池等。</li>
<li>主要参数为流水管道间延迟、硬件线程数、IQ&#x2F;LSQ&#x2F;ROB项数、FU延迟、物理寄存器重命名、分支预测、访存依赖预测等。</li>
</ul>
</li>
</ul>
</li>
<li>系统模型：SE（System-call emulation）、FS（Full System）。</li>
<li>存储模型：Classic、Ruby。<ul>
<li>M5的Classic mode存储器是最简单的模型，它提供了简洁快速的可配置性。</li>
<li>GEMS的Ruby模型注重于精确度并且支持不同的cache一致性协议。<ul>
<li>Ruby存储模型支持庞大阵列的互联拓扑，包括两个不同的网络模型：Simple网络与Garnet网络。<ul>
<li>Simple网络对链路、路由延迟与链路带宽进行建模，但并不建模路由资源竞争与流控。</li>
<li>Garnet网络详细建模路由微架构，包括所有相关的资源竞争与流控时序。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="基本模式"><a href="#基本模式" class="headerlink" title="基本模式"></a>基本模式</h3><ul>
<li><strong>System Call Emulation (SE) Mode</strong><ul>
<li>In this mode, one only needs to specify the binary file to be simulated. This binary file can be statically&#x2F;dynamically linked.</li>
</ul>
</li>
<li><strong>full-system mode</strong><ul>
<li>This mode simulates a complete system which provides an operating system based simulation environment.</li>
<li><a target="_blank" rel="noopener" href="https://shaojiemike.notion.site/fs-py-b4574f51316e4ea2841eceec441a78a0">very slow</a>, rendering it impractical for deployment in real-world applications.</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time ./build/ARM/gem5.fast configs/example/se.py --cmd=/home/shaojiemike/test/llvmVSgem5/MV/MV_gem5 -n 32 --cpu-type=O3CPU --l1d_size=64kB --l1i_size=16kB --caches</span><br></pre></td></tr></table></figure>

<ul>
<li>L1d cache是每个核单独64KB（原因见后图）。但其实默认cache结构是L2共享的</li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul>
<li>在源目录下运行<code>scons build/&lt;config&gt;/&lt;binary&gt;</code> 建立模拟器。<ul>
<li><code>&lt;config&gt;</code> gem5的配置文件，如<code>ARM</code>，<code>X86</code>等</li>
<li><code>&lt;binary&gt;</code> 模拟器的类型，有如下<ul>
<li><code>gem5.debug</code> 有关闭了优化，使gdb一类的工具更易于调试；</li>
<li><code>gem5.opt</code>有打开优化，但保留了调试输出和断言；</li>
<li><code>gem5.fast</code>去除了调试工具；</li>
<li><code>gem5.prof</code>用于与gprof共同使用</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scons build/ARM/gem5.fast --debug=presub --verbose -j 32</span><br></pre></td></tr></table></figure>

<h2 id="输入参数"><a href="#输入参数" class="headerlink" title="输入参数"></a>输入参数</h2><h3 id="gem5-安装的默认配置"><a href="#gem5-安装的默认配置" class="headerlink" title="gem5 安装的默认配置"></a>gem5 安装的默认配置</h3><p>可选选项在<code>./build/ARM/gem5.fast configs/example/se.py -h</code>或者 <code>configs/common/Options.py</code> 中查看</p>
<p>常规的配置：</p>
<ul>
<li>多级cache</li>
<li>CPU<ul>
<li>频率，核数</li>
<li>指令发射宽度<ul>
<li>commitWidth, decodeWidth, dispatchWidth, fetchWidth, issueWidth,</li>
<li>renameWidth, squashWidth, wbWidth     ,</li>
</ul>
</li>
<li>端口模型的部件类型以及个数</li>
</ul>
</li>
<li>内存</li>
</ul>
<h3 id="cache設置"><a href="#cache設置" class="headerlink" title="cache設置"></a>cache設置</h3><ul>
<li>只指定大小是沒用的，需要在L1cache 前加上 “–caches”，在l2cache前加上 “–l2cache“。命令結果類似</li>
<li>默认cache是没有开硬件预取HWP的，类型通过<code>--list-hwp-types</code>查看。可以指定L1L2cache的HWP类型，如<code>--l1d-hwp-type=TaggedPrefetcher</code>。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">build/X86/gem5.opt configs/example/se.py </span><br><span class="line">  --caches --l1d_size=32kB --l1i_size=32kB </span><br><span class="line">  --l2cache --l2_size=256kB </span><br><span class="line">  --l3_size=8192kB  <span class="comment"># l3 在 se里是不生效的</span></span><br><span class="line">  -c tests/test-progs/hello/bin/x86/linux/hello </span><br><span class="line"></span><br><span class="line"><span class="comment"># 建议将L3大小并入L2来模拟cycle的下限</span></span><br><span class="line">build/X86/gem5.opt configs/example/se.py </span><br><span class="line">  --caches --l1d_size=32kB --l1i_size=32kB </span><br><span class="line">  --l2cache --l2_size=256kB+8192kB</span><br><span class="line">  -c tests/test-progs/hello/bin/x86/linux/hello</span><br></pre></td></tr></table></figure>

<p>进阶配置：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/wyj7260/article/details/8515245">多核模拟时，配置独占cache</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/wyj7260/article/details/8499088">增加共享L3</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/wyj7260/article/details/8501338">添加共享的L3cache，并将L2cache改为独立的</a></li>
</ol>
<h2 id="输出文件"><a href="#输出文件" class="headerlink" title="输出文件"></a>输出文件</h2><p>运行完SE模式，默认会在指令路径下生成<code>m5out</code>文件夹，其中各文件大致含义如下：</p>
<ul>
<li><code>config.ini</code>或者<code>config.json</code> 运行指令的系统参数<ul>
<li>Contains a list of every SimObject created for the simulation and the values for its parameters.</li>
<li><code>json</code>格式的文件能比较好的理清config的重要设置</li>
<li><code>[system.cpu]</code> 有CPU的具体设置</li>
<li><code>[system.mem_ctrls.dram]</code> 有DRAM读取数据的具体设置</li>
<li><code>[system.membus]</code> BUS的相关设置</li>
</ul>
</li>
<li><code>stats.txt</code>  模拟结果数据(具体的周期数等)<ul>
<li>A text representation of all of the gem5 statistics registered for the simulation.</li>
<li><code>system.clk_domain.clock      1000  # Clock period in ticks (Tick)</code></li>
<li><code>system.cpu_clk_domain.clock  500   # Clock period in ticks (Tick)</code></li>
</ul>
</li>
<li><code>fs/proc/lscpu</code> 模拟系统配置(类似lscpu)</li>
<li><code>config.dot.*</code> 模拟的系统结构<ul>
<li><code>config.dot</code> 是以文字展示</li>
<li><code>config.dot.pdf</code> 和 <code>config.dot.svg</code> 都是以图片表示<img src="https://pic.shaojiemike.top/img/20230503164705.png" alt="aliyuncs1"></li>
<li><code>config.dot.svg</code> 能展示每个部件的细节参数 <img src="https://pic.shaojiemike.top/img/20230503171754.png" alt="aliyuncs2"></li>
</ul>
</li>
</ul>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/ivy_reny/article/details/54312352">博客</a>, 如果<code>se.py</code>無法滿足要求，可以自己<a target="_blank" rel="noopener" href="https://blog.csdn.net/ivy_reny/article/details/54312297">編寫脚本</a></p>
<h2 id="CPU参数解释"><a href="#CPU参数解释" class="headerlink" title="CPU参数解释"></a>CPU参数解释</h2><h3 id="各阶段发射宽度"><a href="#各阶段发射宽度" class="headerlink" title="各阶段发射宽度"></a>各阶段发射宽度</h3><p>commitWidth, decodeWidth, dispatchWidth, fetchWidth, issueWidth, renameWidth, squashWidth, wbWidth</p>
<p>下面是行数占比最大的几个部分</p>
<h3 id="branchPred"><a href="#branchPred" class="headerlink" title="branchPred"></a>branchPred</h3><ul>
<li>BTBEntries</li>
</ul>
<h3 id="decoder"><a href="#decoder" class="headerlink" title="decoder"></a>decoder</h3><h3 id="fuPool"><a href="#fuPool" class="headerlink" title="fuPool"></a>fuPool</h3><ul>
<li>fuction pool 类似乱序执行的端口模型，ARM下的O3模拟的fuPool如下<br><img src="https://pic.shaojiemike.top/img/20230503203337.png" alt="ARM-O3-fuPool"></li>
</ul>
<h2 id="gem5-模拟器误差来源分析"><a href="#gem5-模拟器误差来源分析" class="headerlink" title="gem5 模拟器误差来源分析"></a>gem5 模拟器误差来源分析</h2><h3 id="运行真实周期数"><a href="#运行真实周期数" class="headerlink" title="运行真实周期数"></a>运行真实周期数</h3><ul>
<li>使用<code>perf stat test.exe</code>, 可参考本博客perf文章</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/ivy_reny/category_6666068.html">https://blog.csdn.net/ivy_reny/category_6666068.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wyj7260/category_1301132.html">https://blog.csdn.net/wyj7260/category_1301132.html</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-23T16:00:00.000Z" title="4/23/2023, 4:00:00 PM">2023-04-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.189Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">a minute read (About 129 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/23/OutOfWork/5-VideoEntertainment/5-Synology/">Synology terminal</a></p><div class="content"><h2 id="配置开机启动项"><a href="#配置开机启动项" class="headerlink" title="配置开机启动项"></a>配置开机启动项</h2><p>编写脚本<code>/var/services/homes/shaojiemike/wgReboot.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">ip ro add default via 222.195.90.254 dev eth0 table eth0-table</span><br><span class="line">ip ro a 114.214.233.0/24 via 222.195.90.254 dev eth0  src 222.195.90.2 table main</span><br><span class="line">wg-quick up wg1</span><br><span class="line">ip ro d default via 222.195.90.254 dev eth0  src 222.195.90.2 table main</span><br></pre></td></tr></table></figure>

<ul>
<li>执行权限<code>chmod +x</code></li>
<li>群晖WebUI -&gt; 控制面板 -&gt; 任务计划 -&gt; 新增 -&gt; 触发的任务<ul>
<li>选择Root、开机事件</li>
<li><code>bash /var/services/homes/shaojiemike/wgReboot.sh</code></li>
</ul>
</li>
</ul>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><div id='refer-anchor'></div>
无
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-23T16:00:00.000Z" title="4/23/2023, 4:00:00 PM">2023-04-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-03-02T12:42:27.213Z" title="3/2/2024, 12:42:27 PM">2024-03-02</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">7 minutes read (About 1031 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/04/23/Work/software/linux/rebootTask/">Reboot Task</a></p><div class="content"><h2 id="最简单-etc-rc-lo­cal"><a href="#最简单-etc-rc-lo­cal" class="headerlink" title="最简单&#x2F;etc&#x2F;rc.lo­cal"></a>最简单&#x2F;etc&#x2F;rc.lo­cal</h2><p>默认是不开启的，文件<code>/etc/rc.lo­cal</code>默认也不存在</p>
<h3 id="开启-etc-rc-lo­cal功能"><a href="#开启-etc-rc-lo­cal功能" class="headerlink" title="开启&#x2F;etc&#x2F;rc.lo­cal功能"></a>开启&#x2F;etc&#x2F;rc.lo­cal功能</h3><ul>
<li>ubuntu18.04不再使用initd管理系统，改用systemd</li>
<li>systemd有rc-local的配置文件，只需链接到<code>/etc/systemd/system</code>目录下启动即可<ul>
<li><code>ln -fs /lib/systemd/system/rc-local.service /etc/systemd/system/rc-local.service</code></li>
</ul>
</li>
</ul>
<h3 id="使用-etc-rc-lo­cal功能"><a href="#使用-etc-rc-lo­cal功能" class="headerlink" title="使用&#x2F;etc&#x2F;rc.lo­cal功能"></a>使用&#x2F;etc&#x2F;rc.lo­cal功能</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> /etc/rc.local</span><br><span class="line"><span class="built_in">chmod</span> 755 /etc/rc.local</span><br><span class="line">vim /etc/rc.local</span><br><span class="line">    eg. <span class="comment">#!/bin/bash  echo &quot;test rc &quot; &gt; /var/test.log</span></span><br></pre></td></tr></table></figure>
<h2 id="crontab-reboot"><a href="#crontab-reboot" class="headerlink" title="crontab @reboot"></a>crontab @reboot</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line">@reboot /home/user/test.sh</span><br></pre></td></tr></table></figure>
<h2 id="initd-启动管理系统"><a href="#initd-启动管理系统" class="headerlink" title="initd 启动管理系统"></a>initd 启动管理系统</h2><ul>
<li>init.d目录包含许多系统各种服务的启动和停止脚本。它控制着所有从acpid到x11-common的各种事务。</li>
<li>注意：ubuntu18.04不再使用initd管理系统，改用systemd</li>
</ul>
<h3 id="编写脚本"><a href="#编写脚本" class="headerlink" title="编写脚本"></a>编写脚本</h3><ul>
<li><code>/etc/init.d</code>目录下建立文件<code>test</code><ul>
<li>按照README编写脚本</li>
<li>赋予执行权限<code>sudo chmod +x  /etc/init.d/test</code></li>
</ul>
</li>
</ul>
<h3 id="设置脚本启动"><a href="#设置脚本启动" class="headerlink" title="设置脚本启动"></a>设置脚本启动</h3><p>方法一：使用update-rc.d 命令将脚本放到启动脚本中去（debian中可以使用更新的insserv）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/init.d</span><br><span class="line">$ sudo update-rc.d <span class="built_in">test</span> defaults 95</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：其中数字95是脚本启动的顺序号，按照自己的需要相应修改即可。在你有多个启动脚本，而它们之间又有先后启动的依赖关系时你就知道这个数字的具体作用了。更多说明建议看man update-rc.d。</p>
</blockquote>
<p>方法二：手动在rc*.d中建立软连接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> -s <span class="built_in">test</span> ../rc5.d/S95test</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>rc*.d</code>，*代表启动级别，在不同启动级别启动，<br>K开头的脚本文件代表运行级别加载时需要关闭的，<br>S开头的代表相应级别启动时需要执行，<br>数字代表顺序</p>
</blockquote>
<h3 id="卸载启动脚本的方法："><a href="#卸载启动脚本的方法：" class="headerlink" title="卸载启动脚本的方法："></a>卸载启动脚本的方法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/init.d</span><br><span class="line">$ sudo update-rc.d -f <span class="built_in">test</span> remove</span><br></pre></td></tr></table></figure>

<h3 id="手动调用脚本"><a href="#手动调用脚本" class="headerlink" title="手动调用脚本"></a>手动调用脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/test start</span><br><span class="line">/etc/init.d/test stop</span><br><span class="line">/etc/init.d/test restart</span><br></pre></td></tr></table></figure>





<h2 id="systemd-服务管理系统"><a href="#systemd-服务管理系统" class="headerlink" title="systemd 服务管理系统"></a>systemd 服务管理系统</h2><p>使用sudo systemctl enable xxx</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">systemctl is-enabled servicename.service <span class="comment">#查询服务是否开机启动</span></span><br><span class="line">systemctl <span class="built_in">enable</span> *.service <span class="comment">#开机运行服务</span></span><br><span class="line">systemctl <span class="built_in">disable</span> *.service <span class="comment">#取消开机运行</span></span><br><span class="line">systemctl start *.service <span class="comment">#启动服务</span></span><br><span class="line">systemctl stop *.service <span class="comment">#停止服务</span></span><br><span class="line">systemctl restart *.service <span class="comment">#重启服务</span></span><br><span class="line">systemctl reload *.service <span class="comment">#重新加载服务配置文件</span></span><br><span class="line">systemctl status *.service <span class="comment">#查询服务运行状态</span></span><br><span class="line">systemctl --failed <span class="comment">#显示启动失败的服务</span></span><br></pre></td></tr></table></figure>

<h3 id="systemctl-开机启动原理"><a href="#systemctl-开机启动原理" class="headerlink" title="systemctl 开机启动原理"></a>systemctl 开机启动原理</h3><ul>
<li>Systemd 默认从目录<code>/etc/systemd/system/</code>读取配置文件。</li>
<li>但是，里面存放的大部分文件都是符号链接，指向目录<ul>
<li><code>/usr/lib/systemd/system/</code>，真正的配置文件存放在那个目录。</li>
</ul>
</li>
</ul>
<p><code>systemctl enable</code>命令用于在上面两个目录之间，建立符号链接关系。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ sudo systemctl enable clamd@scan.service</span><br><span class="line"># 等同于</span><br><span class="line">$ sudo ln -s &#x27;/usr/lib/systemd/system/clamd@scan.service&#x27; &#x27;/etc/systemd/system/multi-user.target.wants/clamd@scan.service&#x27;</span><br><span class="line">&gt; </span><br></pre></td></tr></table></figure>
<ul>
<li>如果配置文件里面设置了开机启动，<code>systemctl enable</code>命令相当于激活开机启动。</li>
<li>与之对应的，<code>systemctl disable</code>命令用于在两个目录之间，撤销符号链接关系，相当于撤销开机启动。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ sudo systemctl disable clamd@scan.service</span><br><span class="line">&gt; </span><br></pre></td></tr></table></figure></li>
<li>配置文件的后缀名，就是该 Unit 的种类，比如<code>sshd.socket</code>。<ul>
<li>如果省略，Systemd 默认后缀名为<code>.service</code>，所以<code>sshd</code>会被理解成<code>sshd.service</code>。</li>
</ul>
</li>
</ul>
<h3 id="把程序设置systemctl服务-并开机启动"><a href="#把程序设置systemctl服务-并开机启动" class="headerlink" title="把程序设置systemctl服务,并开机启动"></a>把程序设置systemctl服务,并开机启动</h3><p>进入目录<code>/usr/lib/systemd/system</code>,修改<code>webhook.service</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Webhook receiver for GitHub</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">ExecStart=/usr/local/bin/webhook</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>这里有几个模块:</p>
<ul>
<li>[Unit] 区块：启动顺序与依赖关系。</li>
<li>[Service] 区块：启动行为,如何启动，启动类型。</li>
<li>[Install] 区块，定义如何安装这个配置文件，即怎样做到开机启动。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start nexus.service  #启动服务</span><br><span class="line">systemctl enable nexus.service #设置开机启动</span><br></pre></td></tr></table></figure>
<p><code>Loaded: loaded (/etc/systemd/system/webhook.service; enabled;</code>这个<code>enabled</code>就是开机启动的意思</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://neucrack.com/p/91">https://neucrack.com/p/91</a></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/toLearn/page/3/">Previous</a></div><div class="pagination-next"><a href="/categories/toLearn/page/5/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/toLearn/">1</a></li><li><a class="pagination-link" href="/categories/toLearn/page/2/">2</a></li><li><a class="pagination-link" href="/categories/toLearn/page/3/">3</a></li><li><a class="pagination-link is-current" href="/categories/toLearn/page/4/">4</a></li><li><a class="pagination-link" href="/categories/toLearn/page/5/">5</a></li><li><a class="pagination-link" href="/categories/toLearn/page/6/">6</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="Shaojie Tan"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shaojie Tan</p><p class="is-size-6 is-block">𝘊𝘰𝘮𝘱𝘶𝘵𝘦𝘳 𝘈𝘳𝘤𝘩𝘪𝘵𝘦𝘤𝘵𝘶𝘳𝘦 &amp; 𝘏𝘗𝘊</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Anhui, Hefei, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">389</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">31</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">487</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Kirrito-k423" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Kirrito-k423"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile" href="/categories/Artificial-Intelligence/"><span class="level-start"><span class="level-item">Artificial Intelligence</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Databases/"><span class="level-start"><span class="level-item">Databases</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/HPC/"><span class="level-start"><span class="level-item">HPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math/"><span class="level-start"><span class="level-item">Math</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-system/"><span class="level-start"><span class="level-item">Operating system</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Thinking/"><span class="level-start"><span class="level-item">Thinking</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Treasure/"><span class="level-start"><span class="level-item">Treasure</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorials/"><span class="level-start"><span class="level-item">Tutorials</span></span><span class="level-end"><span class="level-item tag">118</span></span></a></li><li><a class="level is-mobile" href="/categories/Values/"><span class="level-start"><span class="level-item">Values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/diary/"><span class="level-start"><span class="level-item">diary</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/english/"><span class="level-start"><span class="level-item">english</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/hardware/"><span class="level-start"><span class="level-item">hardware</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/operating-system/"><span class="level-start"><span class="level-item">operating system</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/software/"><span class="level-start"><span class="level-item">software</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/thinking/"><span class="level-start"><span class="level-item">thinking</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/thinking/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/toLearn/"><span class="level-start"><span class="level-item">toLearn</span></span><span class="level-end"><span class="level-item tag">52</span></span></a></li><li><a class="level is-mobile" href="/categories/values/"><span class="level-start"><span class="level-item">values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://ibug.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ibugs</span></span><span class="level-right"><span class="level-item tag">ibug.io</span></span></a></li><li><a class="level is-mobile" href="https://jia.je/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jiegec</span></span><span class="level-right"><span class="level-item tag">jia.je</span></span></a></li><li><a class="level is-mobile" href="https://leimao.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">leimao</span></span><span class="level-right"><span class="level-item tag">leimao.github.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-02-14T06:49:13.000Z">2024-02-14</time></p><p class="title"><a href="/2024/02/14/OutOfWork/2.2-japanese/japanese/">Japanese</a></p><p class="categories"><a href="/categories/toLearn/">toLearn</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-29T12:58:53.000Z">2024-01-29</time></p><p class="title"><a href="/2024/01/29/OutOfWork/5-VideoEntertainment/AnimeAutoChineseSubtitle/">Anime Auto add Chinese Subtitle</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-25T03:20:42.000Z">2024-01-25</time></p><p class="title"><a href="/2024/01/25/OutOfWork/5-VideoEntertainment/AnimeSuperResolutionFrame/">Anime Super Resolution to 4K &amp; Interpolation to 120 fps</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-13T14:32:40.000Z">2024-01-13</time></p><p class="title"><a href="/2024/01/13/Thinking/2-courage2move/SocialScience/">Social Science</a></p><p class="categories"><a href="/categories/Thinking/">Thinking</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-13T12:15:22.000Z">2024-01-13</time></p><p class="title"><a href="/2024/01/13/Work/Architecture/FPGA/">FPGA</a></p><p class="categories"><a href="/categories/toLearn/">toLearn</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/"><span class="level-start"><span class="level-item">2024</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">235</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">67</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">72</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/5G/"><span class="tag">5G</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/64bits-vs-32bits/"><span class="tag">64bits vs 32bits</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMAT/"><span class="tag">AMAT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMD/"><span class="tag">AMD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ASPLOS/"><span class="tag">ASPLOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ATI/"><span class="tag">ATI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AVX/"><span class="tag">AVX</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Alpha/"><span class="tag">Alpha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analysis/"><span class="tag">Analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apt/"><span class="tag">Apt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BHive/"><span class="tag">BHive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BT/"><span class="tag">BT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BTL/"><span class="tag">BTL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Baka-Mitai/"><span class="tag">Baka Mitai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Big-Endian/"><span class="tag">Big-Endian</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a><p class="is-size-7"><span>&copy; 2024 Shaojie Tan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>