<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Tag: PyG - SHAOJIE&#039;S BOOK</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="SHAOJIE&#039;S BOOK"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="SHAOJIE&#039;S BOOK"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="SHAOJIE&#039;S BOOK"><meta property="og:url" content="http://icarus.shaojiemike.top/"><meta property="og:site_name" content="SHAOJIE&#039;S BOOK"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://icarus.shaojiemike.top/img/og_image.png"><meta property="article:author" content="Shaojie Tan"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://icarus.shaojiemike.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icarus.shaojiemike.top"},"headline":"SHAOJIE'S BOOK","image":["http://icarus.shaojiemike.top/img/og_image.png"],"author":{"@type":"Person","name":"Shaojie Tan"},"publisher":{"@type":"Organization","name":"SHAOJIE'S BOOK","logo":{"@type":"ImageObject","url":"http://icarus.shaojiemike.top/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">PyG</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-04-13T13:39:29.000Z" title="4/13/2022, 1:39:29 PM">2022-04-13</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-11-27T08:29:27.882Z" title="11/27/2023, 8:29:27 AM">2023-11-27</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">22 minutes read (About 3279 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/04/13/Work/Artificial%20Intelligence/PyTorchGeometric/">PyTorchGeometric</a></p><div class="content"><h2 id="PyTorch-Geometric-Liberty"><a href="#PyTorch-Geometric-Liberty" class="headerlink" title="PyTorch Geometric Liberty"></a>PyTorch Geometric Liberty</h2><p>PyGæ˜¯ä¸€ä¸ªåŸºäºPyTorchçš„ç”¨äºå¤„ç†ä¸è§„åˆ™æ•°æ®ï¼ˆæ¯”å¦‚å›¾ï¼‰çš„åº“ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªç”¨äºåœ¨å›¾ç­‰æ•°æ®ä¸Šå¿«é€Ÿå®ç°è¡¨å¾å­¦ä¹ çš„æ¡†æ¶ã€‚å®ƒçš„è¿è¡Œé€Ÿåº¦å¾ˆå¿«ï¼Œè®­ç»ƒæ¨¡å‹é€Ÿåº¦å¯ä»¥è¾¾åˆ°DGLï¼ˆDeep Graph Library ï¼‰v0.2 çš„40å€ï¼ˆæ•°æ®æ¥è‡ªè®ºæ–‡ï¼‰ã€‚é™¤äº†å‡ºè‰²çš„è¿è¡Œé€Ÿåº¦å¤–ï¼ŒPyGä¸­ä¹Ÿé›†æˆäº†å¾ˆå¤šè®ºæ–‡ä¸­æå‡ºçš„æ–¹æ³•ï¼ˆGCN,SGC,GAT,SAGEç­‰ç­‰ï¼‰å’Œå¸¸ç”¨æ•°æ®é›†ã€‚å› æ­¤å¯¹äºå¤ç°è®ºæ–‡æ¥è¯´ä¹Ÿæ˜¯ç›¸å½“æ–¹ä¾¿ã€‚</p>
<p>ç»å…¸çš„åº“æ‰æœ‰å‡½æ•°å¯ä»¥æ”¯æŒï¼Œè‡ªå·±çš„æ¨¡å‹ï¼Œè‡ªå·±æ ¹æ®è‡ªåŠ¨å¾®åˆ†å®ç°ã€‚è¿˜è¦è‡ªå·±å†™GPUå¹¶è¡Œã€‚</p>
<p>MessagePassing æ˜¯ç½‘ç»œäº¤äº’çš„æ ¸å¿ƒ</p>
<h2 id="æ•°æ®"><a href="#æ•°æ®" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h2><h3 id="æ•°æ®æ€ä¹ˆå­˜å‚¨"><a href="#æ•°æ®æ€ä¹ˆå­˜å‚¨" class="headerlink" title="æ•°æ®æ€ä¹ˆå­˜å‚¨"></a>æ•°æ®æ€ä¹ˆå­˜å‚¨</h3><p>torch_geometric.data.Data (ä¸‹é¢ç®€ç§°Data) ç”¨äºæ„å»ºå›¾</p>
<ol>
<li>æ¯ä¸ªèŠ‚ç‚¹çš„ç‰¹å¾ x<ol>
<li>å½¢çŠ¶æ˜¯[num_nodes, num_node_features]ã€‚</li>
</ol>
</li>
<li>èŠ‚ç‚¹ä¹‹é—´çš„è¾¹ edge_index<ol>
<li>å½¢çŠ¶æ˜¯ [2, num_edges]</li>
</ol>
</li>
<li>èŠ‚ç‚¹çš„æ ‡ç­¾ y<ol>
<li>å‡å¦‚æœ‰ã€‚å½¢çŠ¶æ˜¯[num_nodes, *]</li>
</ol>
</li>
<li>è¾¹çš„ç‰¹å¾ edge_attr<ol>
<li>[num_edges, num_edge_features]</li>
</ol>
</li>
</ol>
<h3 id="æ•°æ®æ”¯æŒè‡ªå®šä¹‰"><a href="#æ•°æ®æ”¯æŒè‡ªå®šä¹‰" class="headerlink" title="æ•°æ®æ”¯æŒè‡ªå®šä¹‰"></a>æ•°æ®æ”¯æŒè‡ªå®šä¹‰</h3><p>é€šè¿‡data.faceæ¥æ‰©å±•Data</p>
<h3 id="è·å–æ•°æ®"><a href="#è·å–æ•°æ®" class="headerlink" title="è·å–æ•°æ®"></a>è·å–æ•°æ®</h3><p>åœ¨ PyG ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„ä¸æ˜¯è¿™ç§å†™æ³•ï¼Œè€Œæ˜¯åœ¨get()å‡½æ•°ä¸­æ ¹æ® index è¿”å›torch_geometric.data.Dataç±»å‹çš„æ•°æ®ï¼Œåœ¨Dataé‡ŒåŒ…å«äº†æ•°æ®å’Œ labelã€‚</p>
<h3 id="æ•°æ®å¤„ç†çš„ä¾‹å­"><a href="#æ•°æ®å¤„ç†çš„ä¾‹å­" class="headerlink" title="æ•°æ®å¤„ç†çš„ä¾‹å­"></a>æ•°æ®å¤„ç†çš„ä¾‹å­</h3><p><img src="https://pic.shaojiemike.top/img/20220413165624.png"><br>ç”±äºæ˜¯æ— å‘å›¾ï¼Œå› æ­¤æœ‰ 4 æ¡è¾¹ï¼š(0 -&gt; 1), (1 -&gt; 0), (1 -&gt; 2), (2 -&gt; 1)ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰è‡ªå·±çš„ç‰¹å¾ã€‚ä¸Šé¢è¿™ä¸ªå›¾å¯ä»¥ä½¿ç”¨ <code>torch_geometric.data.Data</code>æ¥è¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import torch</span><br><span class="line">from torch_geometric.data import Data</span><br><span class="line"># ç”±äºæ˜¯æ— å‘å›¾ï¼Œå› æ­¤æœ‰ 4 æ¡è¾¹ï¼š(0 -&gt; 1), (1 -&gt; 0), (1 -&gt; 2), (2 -&gt; 1)</span><br><span class="line">edge_index = torch.tensor([[0, 1, 1, 2],</span><br><span class="line">                           [1, 0, 2, 1]], dtype=torch.long)</span><br><span class="line"># èŠ‚ç‚¹çš„ç‰¹å¾                         </span><br><span class="line">x = torch.tensor([[-1], [0], [1]], dtype=torch.float)</span><br><span class="line"></span><br><span class="line">data = Data(x=x, edge_index=edge_index)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„edge_indexä¸­è¾¹çš„å­˜å‚¨æ–¹å¼ï¼Œæœ‰ä¸¤ä¸ªlistï¼Œç¬¬ 1 ä¸ªlistæ˜¯è¾¹çš„èµ·å§‹ç‚¹ï¼Œç¬¬ 2 ä¸ªlistæ˜¯è¾¹çš„ç›®æ ‡èŠ‚ç‚¹ã€‚æ³¨æ„ä¸ä¸‹é¢çš„å­˜å‚¨æ–¹å¼çš„åŒºåˆ«ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import torch</span><br><span class="line">from torch_geometric.data import Data</span><br><span class="line"></span><br><span class="line">edge_index = torch.tensor([[0, 1],</span><br><span class="line">                           [1, 0],</span><br><span class="line">                           [1, 2],</span><br><span class="line">                           [2, 1]], dtype=torch.long)</span><br><span class="line">x = torch.tensor([[-1], [0], [1]], dtype=torch.float)</span><br><span class="line"></span><br><span class="line">data = Data(x=x, edge_index=edge_index.t().contiguous())</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æƒ…å†µedge_indexéœ€è¦å…ˆè½¬ç½®ç„¶åä½¿ç”¨contiguous()æ–¹æ³•ã€‚å…³äºcontiguous()å‡½æ•°çš„ä½œç”¨ï¼ŒæŸ¥çœ‹ PyTorchä¸­çš„contiguousã€‚</p>
<h2 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><h3 id="Dataset"><a href="#Dataset" class="headerlink" title="Dataset"></a>Dataset</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch_geometric.data <span class="keyword">import</span> InMemoryDataset</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyOwnDataset</span>(<span class="title class_ inherited__">InMemoryDataset</span>): <span class="comment"># or (Dataset)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, root, transform=<span class="literal">None</span>, pre_transform=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyOwnDataset, self).__init__(root, transform, pre_transform)</span><br><span class="line">        self.data, self.slices = torch.load(self.processed_paths[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿”å›ä¸€ä¸ªåŒ…å«æ²¡æœ‰å¤„ç†çš„æ•°æ®çš„åå­—çš„listã€‚å¦‚æœä½ åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆå®ƒè¿”å›çš„listå°†åªåŒ…å«ä¸€ä¸ªå…ƒç´ ã€‚äº‹å®ä¸Šï¼Œä½ å¯ä»¥è¿”å›ä¸€ä¸ªç©ºlistï¼Œç„¶åç¡®å®šä½ çš„æ–‡ä»¶åœ¨åé¢çš„å‡½æ•°process()ä¸­ã€‚</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">raw_file_names</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&#x27;some_file_1&#x27;</span>, <span class="string">&#x27;some_file_2&#x27;</span>, ...]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¾ˆåƒä¸Šä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¤„ç†è¿‡çš„æ•°æ®çš„listã€‚åœ¨è°ƒç”¨process()è¿™ä¸ªå‡½æ•°åï¼Œé€šå¸¸è¿”å›çš„liståªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå®ƒåªä¿å­˜å·²ç»å¤„ç†è¿‡çš„æ•°æ®çš„åå­—ã€‚</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">processed_file_names</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&#x27;data.pt&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">download</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">        <span class="comment"># Download to `self.raw_dir`. or just pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ•´åˆä½ çš„æ•°æ®æˆä¸€ä¸ªåŒ…å«dataçš„listã€‚ç„¶åè°ƒç”¨ self.collate()å»è®¡ç®—å°†ç”¨DataLodadrçš„ç‰‡æ®µã€‚</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># Read data into huge `Data` list.</span></span><br><span class="line">        data_list = [...]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.pre_filter <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            data_list [data <span class="keyword">for</span> data <span class="keyword">in</span> data_list <span class="keyword">if</span> self.pre_filter(data)]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.pre_transform <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            data_list = [self.pre_transform(data) <span class="keyword">for</span> data <span class="keyword">in</span> data_list]</span><br><span class="line"></span><br><span class="line">        data, slices = self.collate(data_list)</span><br><span class="line">        torch.save((data, slices), self.processed_paths[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<h3 id="DataLoader"><a href="#DataLoader" class="headerlink" title="DataLoader"></a>DataLoader</h3><p>DataLoader è¿™ä¸ªç±»å…è®¸ä½ é€šè¿‡batchçš„æ–¹å¼feedæ•°æ®ã€‚åˆ›å»ºä¸€ä¸ªDotaLoaderå®ä¾‹ï¼Œå¯ä»¥ç®€å•çš„æŒ‡å®šæ•°æ®é›†å’Œä½ æœŸæœ›çš„batch sizeã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">loader = DataLoader(dataset, batch_size=512, shuffle=True)</span><br></pre></td></tr></table></figure>

<p>DataLoaderçš„æ¯ä¸€æ¬¡è¿­ä»£éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªBatchå¯¹è±¡ã€‚å®ƒéå¸¸åƒDataå¯¹è±¡ã€‚ä½†æ˜¯å¸¦æœ‰ä¸€ä¸ªâ€˜batchâ€™å±æ€§ã€‚å®ƒæŒ‡æ˜äº†äº†å¯¹åº”å›¾ä¸Šçš„èŠ‚ç‚¹è¿æ¥å…³ç³»ã€‚å› ä¸ºDataLoaderèšåˆæ¥è‡ªä¸åŒå›¾çš„çš„batchçš„x,y å’Œedge_indexï¼Œæ‰€ä»¥GNNæ¨¡å‹éœ€è¦batchä¿¡æ¯å»çŸ¥é“é‚£ä¸ªèŠ‚ç‚¹å±äºå“ªä¸€å›¾ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for batch in loader:</span><br><span class="line">    batch</span><br><span class="line">    &gt;&gt;&gt; Batch(x=[1024, 21], edge_index=[2, 1568], y=[512], batch=[1024])</span><br></pre></td></tr></table></figure>

<h2 id="MessagePassing-æ ¸å¿ƒ"><a href="#MessagePassing-æ ¸å¿ƒ" class="headerlink" title="MessagePassing(æ ¸å¿ƒ)"></a>MessagePassing(æ ¸å¿ƒ)</h2><p><img src="https://pic.shaojiemike.top/img/20220413214848.png"><br>å…¶ä¸­ï¼Œx è¡¨ç¤ºè¡¨æ ¼èŠ‚ç‚¹çš„ embeddingï¼Œe è¡¨ç¤ºè¾¹çš„ç‰¹å¾ï¼ŒÏ• è¡¨ç¤º message å‡½æ•°ï¼Œâ–¡ è¡¨ç¤ºèšåˆ aggregation å‡½æ•°ï¼ŒÎ³ è¡¨ç¤º update å‡½æ•°ã€‚ä¸Šæ ‡è¡¨ç¤ºå±‚çš„ indexï¼Œæ¯”å¦‚è¯´ï¼Œå½“ k &#x3D; 1 æ—¶ï¼Œx åˆ™è¡¨ç¤ºæ‰€æœ‰è¾“å…¥ç½‘ç»œçš„å›¾ç»“æ„çš„æ•°æ®ã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸ªï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ï¼š</p>
<ol>
<li>message<ol>
<li>å®šä¹‰äº†å¯¹äºæ¯ä¸ªèŠ‚ç‚¹å¯¹ (xi,xj)ï¼Œæ€æ ·ç”Ÿæˆä¿¡æ¯ï¼ˆmessageï¼‰ã€‚</li>
</ol>
</li>
<li>update</li>
<li>aggregation scheme</li>
<li>propagate(edge_index, size&#x3D;None, **kwargs)<ol>
<li>è¿™ä¸ªå‡½æ•°æœ€ç»ˆä¼šæŒ‰åºè°ƒç”¨ messageã€aggregate å’Œ update å‡½æ•°ã€‚</li>
</ol>
</li>
<li>update(aggr_out, **kwargs)<ol>
<li>è¿™ä¸ªå‡½æ•°åˆ©ç”¨èšåˆå¥½çš„ä¿¡æ¯ï¼ˆmessageï¼‰æ›´æ–°æ¯ä¸ªèŠ‚ç‚¹çš„ embeddingã€‚</li>
</ol>
</li>
</ol>
<h3 id="propagate-edge-index-Union-torch-Tensor-torch-sparse-tensor-SparseTensor-size-Optional-Tuple-int-int-None-kwargs"><a href="#propagate-edge-index-Union-torch-Tensor-torch-sparse-tensor-SparseTensor-size-Optional-Tuple-int-int-None-kwargs" class="headerlink" title="propagate(edge_index: Union[torch.Tensor, torch_sparse.tensor.SparseTensor], size: Optional[Tuple[int, int]] &#x3D; None, **kwargs)"></a>propagate(edge_index: Union[torch.Tensor, torch_sparse.tensor.SparseTensor], size: Optional[Tuple[int, int]] &#x3D; None, **kwargs)</h3><ol>
<li>edge_index (Tensor or SparseTensor)<ol>
<li>è¾“å…¥çš„è¾¹çš„ä¿¡æ¯ï¼Œå®šä¹‰åº•å±‚å›¾å½¢è¿æ¥&#x2F;æ¶ˆæ¯ä¼ é€’æµã€‚</li>
<li>torch.LongTensorç±»å‹<ol>
<li>its shape must be defined as <code>[2, num_messages]</code>, where messages from nodes in <code>edge_index[0]</code> are sent to nodes in <code>edge_index[1]</code></li>
</ol>
</li>
<li>torch_sparse.SparseTensorç±»å‹<ol>
<li>its sparse indices (row, col) should relate to row &#x3D; edge_index[1] and col &#x3D; edge_index[0].</li>
</ol>
</li>
</ol>
</li>
<li>ä¹Ÿä¸ä¸€å®šæ˜¯æ–¹å½¢èŠ‚ç‚¹çŸ©é˜µã€‚x&#x3D;(x_N, x_M).</li>
</ol>
<h3 id="MessagePassing-message-â€¦"><a href="#MessagePassing-message-â€¦" class="headerlink" title="MessagePassing.message(â€¦)"></a>MessagePassing.message(â€¦)</h3><p>ä¼šæ ¹æ® flow&#x3D;â€œsource_to_targetâ€å’Œif flow&#x3D;â€œtarget_to_sourceâ€æˆ–è€…x_i,x_j,æ¥åŒºåˆ†å¤„ç†çš„è¾¹ã€‚</p>
<p>x_jè¡¨ç¤ºæå‡å¼ é‡ï¼Œå®ƒåŒ…å«æ¯ä¸ªè¾¹çš„æºèŠ‚ç‚¹ç‰¹å¾ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹çš„é‚»å±…ã€‚é€šè¿‡åœ¨å˜é‡ååæ·»åŠ _iæˆ–_jï¼Œå¯ä»¥è‡ªåŠ¨æå‡èŠ‚ç‚¹ç‰¹å¾ã€‚äº‹å®ä¸Šï¼Œä»»ä½•å¼ é‡éƒ½å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼è½¬æ¢ï¼Œåªè¦å®ƒä»¬åŒ…å«æºèŠ‚ç‚¹æˆ–ç›®æ ‡èŠ‚ç‚¹ç‰¹å¾ã€‚</p>
<p>_jè¡¨ç¤ºæ¯æ¡è¾¹çš„èµ·ç‚¹ï¼Œ_iè¡¨ç¤ºæ¯æ¡è¾¹çš„ç»ˆç‚¹ã€‚x_jè¡¨ç¤ºçš„å°±æ˜¯æ¯æ¡è¾¹èµ·ç‚¹çš„xå€¼ï¼ˆä¹Ÿå°±æ˜¯Featureï¼‰ã€‚å¦‚æœä½ æ‰‹åŠ¨åŠ äº†åˆ«çš„å†…å®¹ï¼Œé‚£ä¹ˆå®ƒçš„_j, _iä¹Ÿä¼šè‡ªåŠ¨è¿›è¡Œå¤„ç†ï¼Œè¿™ä¸ªè‡ªå·±ç¨å¾®å•æ­¥æ‰§è¡Œä¸€ä¸‹å°±çŸ¥é“äº†</p>
<p>åœ¨å®ç°messageçš„æ—¶å€™ï¼ŒèŠ‚ç‚¹ç‰¹å¾ä¼šè‡ªåŠ¨mapåˆ°å„è‡ªçš„source and target nodesã€‚</p>
<h3 id="aggregate-inputs-torch-Tensor-index-torch-Tensor-ptr-Optional-torch-Tensor-None-dim-size-Optional-int-None-aggr-Optional-str-None-â†’-torch-Tensor"><a href="#aggregate-inputs-torch-Tensor-index-torch-Tensor-ptr-Optional-torch-Tensor-None-dim-size-Optional-int-None-aggr-Optional-str-None-â†’-torch-Tensor" class="headerlink" title="aggregate(inputs: torch.Tensor, index: torch.Tensor, ptr: Optional[torch.Tensor] &#x3D; None, dim_size: Optional[int] &#x3D; None, aggr: Optional[str] &#x3D; None) â†’ torch.Tensor"></a>aggregate(inputs: torch.Tensor, index: torch.Tensor, ptr: Optional[torch.Tensor] &#x3D; None, dim_size: Optional[int] &#x3D; None, aggr: Optional[str] &#x3D; None) â†’ torch.Tensor</h3><p>aggregation scheme åªéœ€è¦è®¾ç½®å‚æ•°å°±å¥½ï¼Œâ€œaddâ€, â€œmeanâ€, â€œminâ€, â€œmaxâ€ and â€œmulâ€ operations</p>
<h3 id="MessagePassing-update-aggr-out-â€¦"><a href="#MessagePassing-update-aggr-out-â€¦" class="headerlink" title="MessagePassing.update(aggr_out, â€¦)"></a>MessagePassing.update(aggr_out, â€¦)</h3><p>aggregation è¾“å‡ºä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåé¢çš„å‚æ•°æ˜¯ propagate()çš„</p>
<h3 id="å®ç°GCN-ä¾‹å­"><a href="#å®ç°GCN-ä¾‹å­" class="headerlink" title="å®ç°GCN ä¾‹å­"></a>å®ç°GCN ä¾‹å­</h3><p>$$<br>\mathbf{x}<em>i^{(k)} &#x3D; \sum</em>{j \in \mathcal{N}(i) \cup { i }} \frac{1}{\sqrt{\deg(i)} \cdot \sqrt{\deg(j)}} \cdot \left( \mathbf{\Theta}^{\top} \cdot \mathbf{x}_j^{(k-1)} \right)<br>$$</p>
<p>è¯¥å¼å­å…ˆå°†å‘¨å›´çš„èŠ‚ç‚¹ä¸æƒé‡çŸ©é˜µ\thetaç›¸ä¹˜, ç„¶åé€šè¿‡èŠ‚ç‚¹çš„åº¦degreeæ­£åˆ™åŒ–ï¼Œæœ€åç›¸åŠ </p>
<p>æ­¥éª¤å¯ä»¥æ‹†åˆ†å¦‚ä¸‹</p>
<ol>
<li>æ·»åŠ self-loop åˆ°é‚»æ¥çŸ©é˜µï¼ˆAdjacency Matrixï¼‰ã€‚</li>
<li>èŠ‚ç‚¹ç‰¹å¾çš„çº¿æ€§å˜æ¢ã€‚</li>
<li>è®¡ç®—å½’ä¸€åŒ–ç³»æ•°</li>
<li>Normalize èŠ‚ç‚¹ç‰¹å¾ã€‚</li>
<li>sumç›¸é‚»èŠ‚ç‚¹çš„featureï¼ˆâ€œaddâ€èšåˆï¼‰ã€‚</li>
</ol>
<p>æ­¥éª¤1 å’Œ 2 éœ€è¦åœ¨message passing å‰è¢«è®¡ç®—å¥½ã€‚ 3 - 5 å¯ä»¥torch_geometric.nn.MessagePassing ç±»ã€‚</p>
<p>æ·»åŠ self-loopçš„ç›®çš„æ˜¯è®©featrueåœ¨èšåˆçš„è¿‡ç¨‹ä¸­åŠ å…¥å½“å‰èŠ‚ç‚¹è‡ªå·±çš„featureï¼Œæ²¡æœ‰self-loopèšåˆçš„å°±åªæœ‰é‚»å±…èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch_geometric.nn <span class="keyword">import</span> MessagePassing</span><br><span class="line"><span class="keyword">from</span> torch_geometric.utils <span class="keyword">import</span> add_self_loops, degree</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GCNConv</span>(<span class="title class_ inherited__">MessagePassing</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, in_channels, out_channels</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(aggr=<span class="string">&#x27;add&#x27;</span>)  <span class="comment"># &quot;Add&quot; aggregation (Step 5).</span></span><br><span class="line">        self.lin = torch.nn.Linear(in_channels, out_channels)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x, edge_index</span>):</span><br><span class="line">        <span class="comment"># x has shape [N, in_channels]</span></span><br><span class="line">        <span class="comment"># edge_index has shape [2, E]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Step 1: Add self-loops to the adjacency matrix.</span></span><br><span class="line">        edge_index, _ = add_self_loops(edge_index, num_nodes=x.size(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Step 2: Linearly transform node feature matrix.</span></span><br><span class="line">        x = self.lin(x)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Step 3: Compute normalization.</span></span><br><span class="line">        row, col = edge_index</span><br><span class="line">        deg = degree(col, x.size(<span class="number">0</span>), dtype=x.dtype)</span><br><span class="line">        deg_inv_sqrt = deg.<span class="built_in">pow</span>(-<span class="number">0.5</span>)</span><br><span class="line">        deg_inv_sqrt[deg_inv_sqrt == <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)] = <span class="number">0</span></span><br><span class="line">        norm = deg_inv_sqrt[row] * deg_inv_sqrt[col]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Step 4-5: Start propagating messages.</span></span><br><span class="line">        <span class="keyword">return</span> self.propagate(edge_index, x=x, norm=norm)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">message</span>(<span class="params">self, x_j, norm</span>):</span><br><span class="line">        <span class="comment"># x_j has shape [E, out_channels]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Step 4: Normalize node features.</span></span><br><span class="line">        <span class="keyword">return</span> norm.view(-<span class="number">1</span>, <span class="number">1</span>) * x_j</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰çš„é€»è¾‘ä»£ç éƒ½åœ¨forward()é‡Œé¢ï¼Œå½“æˆ‘ä»¬è°ƒç”¨propagate()å‡½æ•°ä¹‹åï¼Œå®ƒå°†ä¼šåœ¨å†…éƒ¨è°ƒç”¨message()å’Œupdate()ã€‚</p>
<h3 id="ä½¿ç”¨-GCN-çš„ä¾‹å­"><a href="#ä½¿ç”¨-GCN-çš„ä¾‹å­" class="headerlink" title="ä½¿ç”¨ GCN çš„ä¾‹å­"></a>ä½¿ç”¨ GCN çš„ä¾‹å­</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conv = GCNConv(16, 32)</span><br><span class="line">x = conv(x, edge_index)</span><br></pre></td></tr></table></figure>

<h3 id="SAGEçš„ä¾‹å­"><a href="#SAGEçš„ä¾‹å­" class="headerlink" title="SAGEçš„ä¾‹å­"></a>SAGEçš„ä¾‹å­</h3><p><img src="https://pic.shaojiemike.top/img/20220413232648.png"><br>èšåˆå‡½æ•°ï¼ˆaggregationï¼‰æˆ‘ä»¬ç”¨æœ€å¤§æ± åŒ–ï¼ˆmax poolingï¼‰ï¼Œè¿™æ ·ä¸Šè¿°å…¬ç¤ºä¸­çš„ AGGREGATE å¯ä»¥å†™ä¸ºï¼š<br><img src="https://pic.shaojiemike.top/img/20220413232702.png"><br>ä¸Šè¿°å…¬å¼ä¸­ï¼Œå¯¹äºæ¯ä¸ªé‚»å±…èŠ‚ç‚¹ï¼Œéƒ½å’Œä¸€ä¸ª weighted matrix ç›¸ä¹˜ï¼Œå¹¶ä¸”åŠ ä¸Šä¸€ä¸ª biasï¼Œä¼ ç»™ä¸€ä¸ªæ¿€æ´»å‡½æ•°ã€‚ç›¸å…³ä»£ç å¦‚ä¸‹(å¯¹åº”ç¬¬äºŒä¸ªå›¾)ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SAGEConv</span>(<span class="title class_ inherited__">MessagePassing</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, in_channels, out_channels</span>):</span><br><span class="line">        <span class="built_in">super</span>(SAGEConv, self).__init__(aggr=<span class="string">&#x27;max&#x27;</span>)</span><br><span class="line">        self.lin = torch.nn.Linear(in_channels, out_channels)</span><br><span class="line">        self.act = torch.nn.ReLU()</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">message</span>(<span class="params">self, x_j</span>):</span><br><span class="line">        <span class="comment"># x_j has shape [E, in_channels]</span></span><br><span class="line"> </span><br><span class="line">        x_j = self.lin(x_j)</span><br><span class="line">        x_j = self.act(x_j)</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> x_j</span><br></pre></td></tr></table></figure>

<p>å¯¹äº update æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦èšåˆæ›´æ–°æ¯ä¸ªèŠ‚ç‚¹çš„ embeddingï¼Œç„¶ååŠ ä¸Šæƒé‡çŸ©é˜µå’Œåç½®(å¯¹åº”ç¬¬ä¸€ä¸ªå›¾ç¬¬äºŒè¡Œ)ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SAGEConv</span>(<span class="title class_ inherited__">MessagePassing</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, in_channels, out_channels</span>):</span><br><span class="line">        self.update_lin = torch.nn.Linear(in_channels + out_channels, in_channels, bias=<span class="literal">False</span>)</span><br><span class="line">        self.update_act = torch.nn.ReLU()</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self, aggr_out, x</span>):</span><br><span class="line">        <span class="comment"># aggr_out has shape [N, out_channels]</span></span><br><span class="line">      </span><br><span class="line">        new_embedding = torch.cat([aggr_out, x], dim=<span class="number">1</span>)</span><br><span class="line">        new_embedding = self.update_lin(new_embedding)</span><br><span class="line">        new_embedding = torch.update_act(new_embedding)</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">return</span> new_embedding</span><br></pre></td></tr></table></figure>

<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒSageConv å±‚çš„å®šäºæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Sequential <span class="keyword">as</span> Seq, Linear, ReLU</span><br><span class="line"><span class="keyword">from</span> torch_geometric.nn <span class="keyword">import</span> MessagePassing</span><br><span class="line"><span class="keyword">from</span> torch_geometric.utils <span class="keyword">import</span> remove_self_loops, add_self_loops</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SAGEConv</span>(<span class="title class_ inherited__">MessagePassing</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, in_channels, out_channels</span>):</span><br><span class="line">        <span class="built_in">super</span>(SAGEConv, self).__init__(aggr=<span class="string">&#x27;max&#x27;</span>) <span class="comment">#  &quot;Max&quot; aggregation.</span></span><br><span class="line">        self.lin = torch.nn.Linear(in_channels, out_channels)</span><br><span class="line">        self.act = torch.nn.ReLU()</span><br><span class="line">        self.update_lin = torch.nn.Linear(in_channels + out_channels, in_channels, bias=<span class="literal">False</span>)</span><br><span class="line">        self.update_act = torch.nn.ReLU()</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x, edge_index</span>):</span><br><span class="line">        <span class="comment"># x has shape [N, in_channels]</span></span><br><span class="line">        <span class="comment"># edge_index has shape [2, E]</span></span><br><span class="line">      </span><br><span class="line">        <span class="comment"># Removes every self-loop in the graph given by edge_index, so that (i,i)âˆ‰E for every i âˆˆ V.</span></span><br><span class="line">        edge_index, _ = remove_self_loops(edge_index)</span><br><span class="line">        <span class="comment"># Adds a self-loop (i,i)âˆˆ E to every node i âˆˆ V in the graph given by edge_index</span></span><br><span class="line">        edge_index, _ = add_self_loops(edge_index, num_nodes=x.size(<span class="number">0</span>))</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">        <span class="keyword">return</span> self.propagate(edge_index, size=(x.size(<span class="number">0</span>), x.size(<span class="number">0</span>)), x=x)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">message</span>(<span class="params">self, x_j</span>):</span><br><span class="line">        <span class="comment"># x_j has shape [E, in_channels]</span></span><br><span class="line"> </span><br><span class="line">        x_j = self.lin(x_j)</span><br><span class="line">        x_j = self.act(x_j)</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">return</span> x_j</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self, aggr_out, x</span>):</span><br><span class="line">        <span class="comment"># aggr_out has shape [N, out_channels]</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">        new_embedding = torch.cat([aggr_out, x], dim=<span class="number">1</span>)</span><br><span class="line">      </span><br><span class="line">        new_embedding = self.update_lin(new_embedding)</span><br><span class="line">        new_embedding = self.update_act(new_embedding)</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">return</span> new_embedding</span><br></pre></td></tr></table></figure>

<h2 id="batchçš„å®ç°"><a href="#batchçš„å®ç°" class="headerlink" title="batchçš„å®ç°"></a>batchçš„å®ç°</h2><p>GNNçš„batchå®ç°å’Œä¼ ç»Ÿçš„æœ‰åŒºåˆ«ã€‚</p>
<h3 id="zzqçš„è§‚ç‚¹"><a href="#zzqçš„è§‚ç‚¹" class="headerlink" title="zzqçš„è§‚ç‚¹"></a>zzqçš„è§‚ç‚¹</h3><p>å°†ç½‘ç»œå¤åˆ¶batchæ¬¡ï¼ŒbatchSizeçš„æ•°æ®äº§ç”ŸbatchSizeä¸ªLossã€‚é€šè¿‡Sumæˆ–è€…Maxå¤„ç†Lossï¼Œæ•´ä½“åŒæ—¶æ›´æ–°æ‰€æœ‰çš„ç½‘ç»œå‚æ•°ã€‚è‡³äºç½‘ç»œä¸­å¾ªç¯è¾“å…¥å’Œè¾“å‡ºçš„H^(t-1)å’ŒH^tã€‚ï¼ˆæ„Ÿè§‰ç›´æ¥å¹³å‡å°±è¡Œäº†ã€‚</p>
<p>æœ‰å‡ ä¸ªå¯èƒ½çš„é—®é¢˜</p>
<ol>
<li>ç½‘ç»œä¸­å‚æ•°ä¸æ˜¯çº¿æ€§å±‚ï¼ŒCNNè¿™ç§çš„ç½‘ç»œã€‚pytorchä¼šè‡ªåŠ¨å¹¶è¡Œå—ï¼Ÿè¿˜éœ€è¦æ‰‹åŠ¨</li>
<li>è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœä½ è¿˜æƒ³ç”¨PyGçš„Xå’Œedgeã€‚å¹¶ä¸èƒ½é¢å¤–æ‹“å±•ç»´åº¦ã€‚</li>
</ol>
<h3 id="å›¾åƒå’Œè¯­è¨€å¤„ç†é¢†åŸŸçš„ä¼ ç»ŸåŸºæœ¬æ€è·¯ï¼š"><a href="#å›¾åƒå’Œè¯­è¨€å¤„ç†é¢†åŸŸçš„ä¼ ç»ŸåŸºæœ¬æ€è·¯ï¼š" class="headerlink" title="å›¾åƒå’Œè¯­è¨€å¤„ç†é¢†åŸŸçš„ä¼ ç»ŸåŸºæœ¬æ€è·¯ï¼š"></a>å›¾åƒå’Œè¯­è¨€å¤„ç†é¢†åŸŸçš„ä¼ ç»ŸåŸºæœ¬æ€è·¯ï¼š</h3><p>é€šè¿‡ rescaling or padding(å¡«å……) å°†ç›¸åŒå¤§å°çš„ç½‘ç»œå¤åˆ¶ï¼Œæ¥å®ç°æ–°æ·»åŠ ç»´åº¦ã€‚è€Œæ–°æ·»åŠ ç»´åº¦çš„å¤§å°å°±æ˜¯batch_sizeã€‚</p>
<p>ä½†æ˜¯ç”±äºå›¾ç¥ç»ç½‘ç»œçš„ç‰¹æ®Šæ€§ï¼šè¾¹å’ŒèŠ‚ç‚¹çš„è¡¨ç¤ºã€‚ä¼ ç»Ÿçš„æ–¹æ³•è¦ä¹ˆä¸å¯è¡Œï¼Œè¦ä¹ˆä¼šæœ‰æ•°æ®çš„é‡å¤è¡¨ç¤ºäº§ç”Ÿçš„å¤§é‡å†…å­˜æ¶ˆè€—ã€‚</p>
<h2 id="ADVANCED-MINI-BATCHING-in-PyG"><a href="#ADVANCED-MINI-BATCHING-in-PyG" class="headerlink" title="ADVANCED MINI-BATCHING in PyG"></a>ADVANCED MINI-BATCHING in PyG</h2><p>ä¸ºæ­¤å¼•å…¥äº†ADVANCED MINI-BATCHINGæ¥å®ç°å¯¹å¤§é‡æ•°æ®çš„å¹¶è¡Œã€‚</p>
<p><a target="_blank" rel="noopener" href="https://pytorch-geometric.readthedocs.io/en/latest/notes/batching.html">https://pytorch-geometric.readthedocs.io/en/latest/notes/batching.html</a></p>
<h3 id="å®ç°ï¼š"><a href="#å®ç°ï¼š" class="headerlink" title="å®ç°ï¼š"></a>å®ç°ï¼š</h3><ol>
<li>é‚»æ¥çŸ©é˜µä»¥å¯¹è§’çº¿çš„æ–¹å¼å †å (åˆ›å»ºåŒ…å«å¤šä¸ªå­¤ç«‹å­å›¾çš„å·¨å¤§å›¾)</li>
<li>èŠ‚ç‚¹å’Œç›®æ ‡ç‰¹å¾åªæ˜¯åœ¨èŠ‚ç‚¹ç»´åº¦ä¸­ä¸²è”???<br><img src="https://pic.shaojiemike.top/img/20220417155734.png"></li>
</ol>
<h3 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h3><ol>
<li>ä¾èµ–message passing æ–¹æ¡ˆçš„GNN operatorsä¸éœ€è¦ä¿®æ”¹ï¼Œå› ä¸ºæ¶ˆæ¯ä»ç„¶ä¸èƒ½åœ¨å±äºä¸åŒå›¾çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´äº¤æ¢ã€‚</li>
<li>æ²¡æœ‰è®¡ç®—æˆ–å†…å­˜å¼€é”€ã€‚ä¾‹å¦‚ï¼Œæ­¤batching è¿‡ç¨‹å®Œå…¨å¯ä»¥åœ¨ä¸å¡«å……èŠ‚ç‚¹æˆ–è¾¹ç‰¹å¾çš„æƒ…å†µä¸‹å·¥ä½œã€‚è¯·æ³¨æ„ï¼Œé‚»æ¥çŸ©é˜µæ²¡æœ‰é¢å¤–çš„å†…å­˜å¼€é”€ï¼Œå› ä¸ºå®ƒä»¬ä»¥ç¨€ç–æ–¹å¼ä¿å­˜ï¼Œåªä¿å­˜éé›¶é¡¹ï¼Œå³è¾¹ã€‚</li>
</ol>
<h3 id="torch-geometric-loader-DataLoader"><a href="#torch-geometric-loader-DataLoader" class="headerlink" title="torch_geometric.loader.DataLoader"></a>torch_geometric.loader.DataLoader</h3><p>å¯ä»¥å®ç°å°†å¤šä¸ªå›¾batchæˆä¸€ä¸ªå¤§å›¾ã€‚ é€šè¿‡é‡å†™collate()æ¥å®ç°ï¼Œå¹¶ç»§æ‰¿äº†pytorchçš„æ‰€æœ‰å‚æ•°ï¼Œæ¯”å¦‚num_workers.</p>
<p>åœ¨åˆå¹¶çš„æ—¶å€™ï¼Œé™¤å¼€edge_index [2, num_edges]é€šè¿‡å¢åŠ ç¬¬äºŒç»´åº¦ã€‚å…¶ä½™ï¼ˆèŠ‚ç‚¹ï¼‰éƒ½æ˜¯å¢åŠ ç¬¬ä¸€ç»´åº¦çš„ä¸ªæ•°ã€‚</p>
<h3 id="æœ€é‡è¦çš„ä½œç”¨"><a href="#æœ€é‡è¦çš„ä½œç”¨" class="headerlink" title="æœ€é‡è¦çš„ä½œç”¨"></a>æœ€é‡è¦çš„ä½œç”¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># åŸæœ¬æ˜¯[2*4]</span><br><span class="line"># è‡ªå·±å®ç°çš„è¯ï¼Œæ˜¯ç›´æ¥è¿æ¥</span><br><span class="line"> &gt;&gt;&gt; tensor([[0, 0, 1, 1, 0, 0, 1, 1],</span><br><span class="line">             [0, 1, 1, 2, 0, 1, 1, 2]])</span><br><span class="line"># ä¼šä¿®æ”¹æˆæ–°çš„è¾¹</span><br><span class="line"> print(batch.edge_index)</span><br><span class="line"> &gt;&gt;&gt; tensor([[0, 0, 1, 1, 2, 2, 3, 3],</span><br><span class="line">             [0, 1, 1, 2, 3, 4, 4, 5]])</span><br></pre></td></tr></table></figure>

<h3 id="torch-geometric-loader-DataLoader-ä¾‹å­1"><a href="#torch-geometric-loader-DataLoader-ä¾‹å­1" class="headerlink" title="torch_geometric.loader.DataLoader ä¾‹å­1"></a>torch_geometric.loader.DataLoader ä¾‹å­1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from torch_geometric.data import Data</span><br><span class="line">from torch_geometric.loader import DataLoader</span><br><span class="line"></span><br><span class="line">data_list = [Data(...), ..., Data(...)]</span><br><span class="line">loader = DataLoader(data_list, batch_size=32)</span><br></pre></td></tr></table></figure>
<h3 id="torch-geometric-loader-DataLoader-ä¾‹å­2"><a href="#torch-geometric-loader-DataLoader-ä¾‹å­2" class="headerlink" title="torch_geometric.loader.DataLoader ä¾‹å­2"></a>torch_geometric.loader.DataLoader ä¾‹å­2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from torch_geometric.datasets import TUDataset</span><br><span class="line">from torch_geometric.loader import DataLoader</span><br><span class="line"></span><br><span class="line">dataset = TUDataset(root=&#x27;/tmp/ENZYMES&#x27;, name=&#x27;ENZYMES&#x27;, use_node_attr=True)</span><br><span class="line">loader = DataLoader(dataset, batch_size=32, shuffle=True)</span><br><span class="line"></span><br><span class="line">for batch in loader:</span><br><span class="line">    batch</span><br><span class="line">    &gt;&gt;&gt; DataBatch(batch=[1082], edge_index=[2, 4066], x=[1082, 21], y=[32])</span><br><span class="line"></span><br><span class="line">    batch.num_graphs</span><br><span class="line">    &gt;&gt;&gt; 32</span><br></pre></td></tr></table></figure>
<h2 id="éœ€è¦è¿›ä¸€æ­¥çš„ç ”ç©¶å­¦ä¹ "><a href="#éœ€è¦è¿›ä¸€æ­¥çš„ç ”ç©¶å­¦ä¹ " class="headerlink" title="éœ€è¦è¿›ä¸€æ­¥çš„ç ”ç©¶å­¦ä¹ "></a>éœ€è¦è¿›ä¸€æ­¥çš„ç ”ç©¶å­¦ä¹ </h2><p>æš‚æ— </p>
<h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><p>æš‚æ— </p>
<h2 id="å¼€é¢˜ç¼˜ç”±ã€æ€»ç»“ã€åæ€ã€åæ§½"><a href="#å¼€é¢˜ç¼˜ç”±ã€æ€»ç»“ã€åæ€ã€åæ§½" class="headerlink" title="å¼€é¢˜ç¼˜ç”±ã€æ€»ç»“ã€åæ€ã€åæ§½~~"></a>å¼€é¢˜ç¼˜ç”±ã€æ€»ç»“ã€åæ€ã€åæ§½~~</h2><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><div id='refer-anchor'></div>
æ— 
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="Shaojie Tan"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shaojie Tan</p><p class="is-size-6 is-block">ğ˜Šğ˜°ğ˜®ğ˜±ğ˜¶ğ˜µğ˜¦ğ˜³ ğ˜ˆğ˜³ğ˜¤ğ˜©ğ˜ªğ˜µğ˜¦ğ˜¤ğ˜µğ˜¶ğ˜³ğ˜¦ &amp; ğ˜ğ˜—ğ˜Š</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Anhui, Hefei, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">351</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">29</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">473</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Kirrito-k423" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Kirrito-k423"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile" href="/categories/Artificial-Intelligence/"><span class="level-start"><span class="level-item">Artificial Intelligence</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Databases/"><span class="level-start"><span class="level-item">Databases</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/HPC/"><span class="level-start"><span class="level-item">HPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-system/"><span class="level-start"><span class="level-item">Operating system</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Treasure/"><span class="level-start"><span class="level-item">Treasure</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorials/"><span class="level-start"><span class="level-item">Tutorials</span></span><span class="level-end"><span class="level-item tag">118</span></span></a></li><li><a class="level is-mobile" href="/categories/Values/"><span class="level-start"><span class="level-item">Values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/diary/"><span class="level-start"><span class="level-item">diary</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/english/"><span class="level-start"><span class="level-item">english</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/hardware/"><span class="level-start"><span class="level-item">hardware</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/operating-system/"><span class="level-start"><span class="level-item">operating system</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/software/"><span class="level-start"><span class="level-item">software</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/thinking/"><span class="level-start"><span class="level-item">thinking</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/thinking/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/toLearn/"><span class="level-start"><span class="level-item">toLearn</span></span><span class="level-end"><span class="level-item tag">49</span></span></a></li><li><a class="level is-mobile" href="/categories/values/"><span class="level-start"><span class="level-item">values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://ibug.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ibugs</span></span><span class="level-right"><span class="level-item tag">ibug.io</span></span></a></li><li><a class="level is-mobile" href="https://jia.je/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jiegec</span></span><span class="level-right"><span class="level-item tag">jia.je</span></span></a></li><li><a class="level is-mobile" href="https://leimao.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">leimao</span></span><span class="level-right"><span class="level-item tag">leimao.github.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-27T07:44:46.000Z">2023-11-27</time></p><p class="title"><a href="/2023/11/27/OutOfWork/3-homepage/deployment/howSSGGetWork/">How SSG Get Work?</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-26T02:45:00.000Z">2023-11-26</time></p><p class="title"><a href="/2023/11/26/OutOfWork/1-lifeAndCareer/salaryTaxInsurance/">Salary &amp; Tax &amp; Insurance</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-24T10:33:09.000Z">2023-11-24</time></p><p class="title"><a href="/2023/11/24/OutOfWork/3-homepage/team/When4teampage/">When &amp; How 4 team presentation page &amp; knowledge database pool</a></p><p class="categories"><a href="/categories/thinking/">thinking</a> / <a href="/categories/thinking/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-22T08:12:35.000Z">2023-11-22</time></p><p class="title"><a href="/2023/11/22/Work/hardware/dataLink/">Data Link</a></p><p class="categories"><a href="/categories/hardware/">hardware</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-19T10:15:31.000Z">2023-11-19</time></p><p class="title"><a href="/2023/11/19/Work/network/example/wireguardServer2Server/">Wireguard Server 2 Server in OpenWRT</a></p><p class="categories"><a href="/categories/network/">network</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">212</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">67</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">72</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/5G/"><span class="tag">5G</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/64bits-vs-32bits/"><span class="tag">64bits vs 32bits</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMAT/"><span class="tag">AMAT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMD/"><span class="tag">AMD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ASPLOS/"><span class="tag">ASPLOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ATI/"><span class="tag">ATI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AVX/"><span class="tag">AVX</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Alpha/"><span class="tag">Alpha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analysis/"><span class="tag">Analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apt/"><span class="tag">Apt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BHive/"><span class="tag">BHive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BT/"><span class="tag">BT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BTL/"><span class="tag">BTL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Baka-Mitai/"><span class="tag">Baka Mitai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Big-Endian/"><span class="tag">Big-Endian</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a><p class="is-size-7"><span>&copy; 2023 Shaojie Tan</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">Â© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>