<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Tag: python - SHAOJIE&#039;S BOOK</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="SHAOJIE&#039;S BOOK"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="SHAOJIE&#039;S BOOK"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="SHAOJIE&#039;S BOOK"><meta property="og:url" content="http://icarus.shaojiemike.top/"><meta property="og:site_name" content="SHAOJIE&#039;S BOOK"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://icarus.shaojiemike.top/img/og_image.png"><meta property="article:author" content="Shaojie Tan"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://icarus.shaojiemike.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icarus.shaojiemike.top"},"headline":"SHAOJIE'S BOOK","image":["http://icarus.shaojiemike.top/img/og_image.png"],"author":{"@type":"Person","name":"Shaojie Tan"},"publisher":{"@type":"Organization","name":"SHAOJIE'S BOOK","logo":{"@type":"ImageObject","url":"http://icarus.shaojiemike.top/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">python</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-10-15T16:00:00.000Z" title="10/15/2023, 4:00:00 PM">2023-10-15</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-10T03:45:27.955Z" title="12/10/2023, 3:45:27 AM">2023-12-10</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">16 minutes read (About 2389 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/15/Work/software/visualization/pythonGraph/">Python Graph &amp; Visualization</a></p><div class="content"><h2 id="数据科学"><a href="#数据科学" class="headerlink" title="数据科学"></a>数据科学</h2><h3 id="基于任务的图表推荐"><a href="#基于任务的图表推荐" class="headerlink" title="基于任务的图表推荐"></a>基于任务的图表推荐</h3><ul>
<li>根据不同的任务选择最合适的图表分析</li>
<li>十种基础可视分析任务：<ul>
<li>找异常；找聚类；</li>
<li>找相关性；计算数值；</li>
<li>查看数据分布；找极值；</li>
<li>排序；获取数值；</li>
<li>过滤；决定数据范围。</li>
</ul>
</li>
<li>五种可视化形式在十种任务上的表现，<ul>
<li>散点图，表格数据，柱状图，折线图，饼状图</li>
</ul>
</li>
<li>其中的表现区分了准确率、时间和用户体验。<ul>
<li>其中左侧的图表优于右侧，上方的图表优于下方，</li>
<li>而箭头方向代表source A显著得优于target B。</li>
</ul>
</li>
</ul>
<p><img src="https://pic.shaojiemike.top/img/20230705225206.png"></p>
<h2 id="matplotlib"><a href="#matplotlib" class="headerlink" title="matplotlib"></a>matplotlib</h2><h3 id="基础语法与概念"><a href="#基础语法与概念" class="headerlink" title="基础语法与概念"></a>基础语法与概念</h3><h2 id="plotly"><a href="#plotly" class="headerlink" title="plotly"></a>plotly</h2><h2 id="matplotlib-VS-plotly"><a href="#matplotlib-VS-plotly" class="headerlink" title="matplotlib VS plotly"></a>matplotlib VS plotly</h2><ol>
<li>matplotlib can use custom color and line style</li>
<li>plotly is more easily to quickly built up.</li>
</ol>
<h2 id="基础语法与概念-1"><a href="#基础语法与概念-1" class="headerlink" title="基础语法与概念"></a>基础语法与概念</h2><h3 id="线性颜色柱的选择"><a href="#线性颜色柱的选择" class="headerlink" title="线性颜色柱的选择"></a>线性颜色柱的选择</h3><p><a target="_blank" rel="noopener" href="https://plotly.com/python/builtin-colorscales/">https://plotly.com/python/builtin-colorscales/</a></p>
<p>same in <a target="_blank" rel="noopener" href="https://matplotlib.org/stable/tutorials/colors/colormaps.html#sequential">matplotlib</a></p>
<p><img src="https://pic.shaojiemike.top/img/20230710182038.png"></p>
<h2 id="plt-show-转发图像到本地"><a href="#plt-show-转发图像到本地" class="headerlink" title="plt.show 转发图像到本地"></a>plt.show 转发图像到本地</h2><p>使用<a target="_blank" rel="noopener" href="https://dash.plotly.com/layout">Dash: A web application framework for your data.</a>, 默认部署在<code>localhost:8050</code>端口</p>
<p>本地机器打通ssh隧道</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -L 8050:127.0.0.1:8050 -vN -f -l shaojiemike 202.38.72.23</span><br></pre></td></tr></table></figure>

<h2 id="科研画图"><a href="#科研画图" class="headerlink" title="科研画图"></a>科研画图</h2><p>In scientific research plotting, it’s always bar charts instead of line charts.</p>
<p>Possible reasons:</p>
<ol>
<li>The visual footprint of point lines is relatively small compared to bar</li>
<li>Line charts are aggregated together when there is a meaningful comparison of data along the y-axis.</li>
</ol>
<h3 id="global-setting"><a href="#global-setting" class="headerlink" title="global setting"></a>global setting</h3><p>font things, Attention, global settings have higher priority to get work</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">matplotlib.rcParams.update(&#123;</span><br><span class="line">    <span class="string">&quot;pgf.texsystem&quot;</span>: <span class="string">&quot;pdflatex&quot;</span>,</span><br><span class="line">    <span class="string">&#x27;font.family&#x27;</span>: <span class="string">&#x27;serif&#x27;</span>,</span><br><span class="line">    <span class="comment"># &#x27;text.usetex&#x27;: True, # comment to support bold font in legend, and font will be bolder</span></span><br><span class="line">    <span class="comment"># &#x27;pgf.rcfonts&#x27;: False,</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h3><ol>
<li>picture size</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>figure size (adjust x,y tick distance)</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl</span></span><br><span class="line">fig.set_size_inches(w= <span class="number">0.5</span> * x_count * (group_count+<span class="number">1.5</span>), h=<span class="number">5.75</span> * <span class="number">0.8</span>) <span class="comment">#(8, 6.5)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly</span></span><br><span class="line">fig.update_layout(height=<span class="number">350</span>, width=<span class="number">50</span> * graph_data.size(),</span><br><span class="line">                  margin=<span class="built_in">dict</span>(b=<span class="number">10</span>, t=<span class="number">10</span>, l=<span class="number">20</span>, r=<span class="number">5</span>),</span><br><span class="line">                  bargap=<span class="number">0.2</span> <span class="comment"># x tick distance, 1 is the normalize-distance of adjacent bars</span></span><br><span class="line">                  )</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>relative position</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: Adjust the left margin to make room for the legend, left &amp; right chart vertical line position from [0,1]</span></span><br><span class="line">plt.subplots_adjust(left=<span class="number">0.1</span>, right=<span class="number">0.8</span>)</span><br></pre></td></tr></table></figure>

<h3 id="set-x-axis"><a href="#set-x-axis" class="headerlink" title="set x axis"></a>set x axis</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl:</span></span><br><span class="line">x = np.arange(<span class="built_in">len</span>(graph_data.x))  <span class="comment"># the label locations, [0, 1, 2, 3, 4, 5, 6, 7]</span></span><br><span class="line"><span class="comment"># set the bar move to arg1 with name arg2</span></span><br><span class="line">ax.set_xticks(x + (group_count-<span class="number">1</span>)*<span class="number">0.5</span>*width, graph_data.x)</span><br><span class="line">plt.xticks(fontsize=graph_data.fontsize+<span class="number">4</span>)</span><br><span class="line"><span class="comment"># Adjust x-axis limits to narrow the gap</span></span><br><span class="line">plt.xlim(-(<span class="number">0.5</span>+gap_count)*width, </span><br><span class="line">        x_count - <span class="number">1</span> + (group_count-<span class="number">1</span>)*width + (<span class="number">0.5</span>+gap_count)*width)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="set-y-axis"><a href="#set-y-axis" class="headerlink" title="set y axis"></a>set y axis</h3><ol>
<li>vertical grid line</li>
<li>dick size</li>
<li>and range size</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl</span></span><br><span class="line">ax.set_ylabel(yaxis_title, </span><br><span class="line">              fontsize=graph_data.fontsize,</span><br><span class="line">              fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line">plt.grid(<span class="literal">True</span>, which=<span class="string">&#x27;major&#x27;</span>,axis=<span class="string">&#x27;y&#x27;</span>, zorder=-<span class="number">1.0</span>) <span class="comment"># line and bar seems need to set zorder=10 to cover it</span></span><br><span class="line">plt.yticks(np.arange(<span class="number">0</span>, max_y ,<span class="number">10</span>), fontsize=graph_data.fontsize) <span class="comment"># step 10</span></span><br><span class="line">plt.yscale(<span class="string">&#x27;log&#x27;</span>,base=<span class="number">10</span>) <span class="comment"># or plt.yscale(&#x27;linear&#x27;)</span></span><br><span class="line">ax.set_ylim(<span class="number">0.1</span>, max_y)</span><br><span class="line"><span class="comment">## highlight selected y-label: https://stackoverflow.com/questions/73597796/make-one-y-axis-label-bold-in-matplotlib</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly</span></span><br><span class="line">fig.update_layout(</span><br><span class="line">      yaxis_range=[<span class="number">0</span>,maxY],                   </span><br><span class="line">      yaxis=<span class="built_in">dict</span>(</span><br><span class="line">          rangemode=<span class="string">&#x27;tozero&#x27;</span>,  <span class="comment"># Set the y-axis rangemode to &#x27;tozero&#x27;</span></span><br><span class="line">          dtick=maxY/<span class="number">10</span>,</span><br><span class="line">          gridcolor=<span class="string">&#x27;rgb(196, 196, 196)&#x27;</span>, <span class="comment"># grey</span></span><br><span class="line">          gridwidth=<span class="number">1</span>,</span><br><span class="line">      ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Bolden-Contour-Lines"><a href="#Bolden-Contour-Lines" class="headerlink" title="Bolden Contour Lines"></a>Bolden Contour Lines</h3><ol>
<li>Entire Figure</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl ?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly: Add a rectangle shape to cover the entire subplot area</span></span><br><span class="line">fig.add_shape(<span class="built_in">type</span>=<span class="string">&quot;rect&quot;</span>,</span><br><span class="line">            xref=<span class="string">&quot;paper&quot;</span>, yref=<span class="string">&quot;paper&quot;</span>,</span><br><span class="line">            x0=<span class="number">0</span>, y0=<span class="number">0</span>,</span><br><span class="line">            x1=<span class="number">1</span>, y1=<span class="number">1</span>,</span><br><span class="line">            line=<span class="built_in">dict</span>(color=<span class="string">&quot;black&quot;</span>, width=<span class="number">0.7</span>))</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>and Each Bar Within</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: Create a bar chart with bold outlines</span></span><br><span class="line">plt.bar(categories, values, edgecolor=<span class="string">&#x27;black&#x27;</span>, linewidth=2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly: ?</span></span><br></pre></td></tr></table></figure>

<h3 id="legend-box"><a href="#legend-box" class="headerlink" title="legend box"></a>legend box</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: </span></span><br><span class="line">ax.legend(loc=<span class="string">&#x27;upper left&#x27;</span>, ncols=<span class="number">3</span>, fontsize=graph_data.fontsize)</span><br><span class="line"><span class="comment"># legend out-of-figure, (1.02, 1) means anchor is upper right corner</span></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper left&#x27;</span>, bbox_to_anchor=(<span class="number">1.02</span>, <span class="number">1</span>), borderaxespad=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Calculate the legend width based on the figure width</span></span><br><span class="line">fig_size = plt.gcf().get_size_inches()</span><br><span class="line">fig_width = fig_size[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># Move the legend to the center above the ceiling line</span></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper center&#x27;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">1.1</span>), </span><br><span class="line">  ncol=<span class="number">2</span>,  <span class="comment"># ncol=2 to have labels in one line</span></span><br><span class="line">  frameon=<span class="literal">False</span>,  <span class="comment"># frameon=False removes the legend box outline</span></span><br><span class="line">  columnspacing=fig_width, <span class="comment"># distance between each label</span></span><br><span class="line">  handlelength=<span class="number">1.0</span>, <span class="comment"># label-box width (unit is text fontsize)</span></span><br><span class="line">  handleheight=<span class="number">1.0</span>, <span class="comment"># label-box heigh (unit is text fontsize)</span></span><br><span class="line">  prop=&#123;<span class="string">&#x27;size&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="string">&#x27;bold&#x27;</span>&#125; <span class="comment"># text fontsize          </span></span><br><span class="line">) </span><br></pre></td></tr></table></figure>

<h3 id="bar"><a href="#bar" class="headerlink" title="bar"></a>bar</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: white hugo hatch with black bar edge.</span></span><br><span class="line"><span class="comment"># Problem: because the bug of mpl. hatch color follow the edge color</span></span><br><span class="line"><span class="comment"># Solved: draw bar twice, first the white hugo hatch with white bar edge. Second empty figure with black bar edge.</span></span><br><span class="line"><span class="comment"># white doubel ref: https://stackoverflow.com/questions/38168948/how-to-decouple-hatch-and-edge-color-in-matplotlib</span></span><br><span class="line"><span class="comment"># ref2: https://stackoverflow.com/questions/71424924/how-to-change-the-edge-color-of-markers-patches-in-matplotlib-legend</span></span><br><span class="line">color_palette = [<span class="string">&#x27;black&#x27;</span>, (<span class="number">193</span>/<span class="number">255</span>, <span class="number">1</span>/<span class="number">255</span>, <span class="number">1</span>/<span class="number">255</span>), <span class="string">&#x27;w&#x27;</span>, (<span class="number">127</span>/<span class="number">255</span>, <span class="number">126</span>/<span class="number">255</span>, <span class="number">127</span>/<span class="number">255</span>), <span class="string">&#x27;blue&#x27;</span>]</span><br><span class="line">pattern_list = [<span class="string">&quot;&quot;</span>, <span class="string">&quot;/&quot;</span>, <span class="string">&quot;+&quot;</span>, <span class="string">&quot;\\&quot;</span>, <span class="string">&quot;x&quot;</span>]</span><br><span class="line">edgecolor_list = [<span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, (<span class="number">0</span>/<span class="number">255</span>, <span class="number">176</span>/<span class="number">255</span>, <span class="number">80</span>/<span class="number">255</span>), <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;w&#x27;</span>]</span><br><span class="line">    </span><br><span class="line">ax.bar(x + offset, measurement, width, label=species_name,</span><br><span class="line">                       color=color_palette[idx],</span><br><span class="line">                        hatch = pattern_list[idx],</span><br><span class="line">                        edgecolor=edgecolor_list[idx],</span><br><span class="line">                        linewidth=<span class="number">1</span>,</span><br><span class="line">                     )</span><br><span class="line">ax.bar(x + offset, measurement, width, label=species_name,</span><br><span class="line">            color = <span class="string">&quot;none&quot;</span>,</span><br><span class="line">            edgecolor=<span class="string">&#x27;black&#x27;</span>, linewidth=<span class="number">1</span>,</span><br><span class="line">              )</span><br><span class="line"><span class="comment"># related legend: https://stackoverflow.com/questions/71424924/how-to-change-the-edge-color-of-markers-patches-in-matplotlib-legend</span></span><br><span class="line">handles1, labels1 = ax.get_legend_handles_labels()</span><br><span class="line">plt.legend([handles1[<span class="number">2</span>*idx]+handles1[<span class="number">2</span>*idx+<span class="number">1</span>] <span class="keyword">for</span> idx <span class="keyword">in</span> <span class="built_in">range</span>(group_count)], </span><br><span class="line">            [labels1[<span class="number">2</span>*idx] <span class="keyword">for</span> idx <span class="keyword">in</span> <span class="built_in">range</span>(group_count)],  </span><br><span class="line">            loc=<span class="string">&#x27;upper center&#x27;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">1.12</span>), </span><br><span class="line">            ncol=group_count,  <span class="comment"># have labels in one line</span></span><br><span class="line">            frameon=<span class="literal">False</span>,</span><br><span class="line">            <span class="comment"># bbox_transform=plt.gcf().transFigure,</span></span><br><span class="line">            columnspacing=legend_width, </span><br><span class="line">            <span class="comment"># handlelength=1.0, </span></span><br><span class="line">            handleheight=<span class="number">1.2</span>, </span><br><span class="line">            prop=&#123;<span class="string">&#x27;size&#x27;</span>: graph_data.fontsize,</span><br><span class="line">                <span class="string">&#x27;weight&#x27;</span>: <span class="string">&#x27;heavy&#x27;</span>&#125;</span><br><span class="line">) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly: find the overflow</span></span><br><span class="line">overflow_pattern = [<span class="string">&quot;/&quot;</span> <span class="keyword">if</span> y &gt; maxY  <span class="keyword">else</span> <span class="string">&quot;&quot;</span> <span class="keyword">for</span> y <span class="keyword">in</span> entry[<span class="number">1</span>]]</span><br><span class="line">fig.add_bar(x=x,y=yList, </span><br><span class="line">    name=barName, </span><br><span class="line">    marker=<span class="built_in">dict</span>(</span><br><span class="line">        color=color_list[i],</span><br><span class="line">        pattern_shape = overflow_pattern,</span><br><span class="line">        line=<span class="built_in">dict</span>(color=<span class="string">&#x27;black&#x27;</span>, width=<span class="number">2</span>)</span><br><span class="line">        ),</span><br><span class="line">    textfont=<span class="built_in">dict</span>(size=graph_data.fontsize),</span><br><span class="line">)</span><br><span class="line"><span class="comment"># legend </span></span><br><span class="line">legend_num = <span class="built_in">len</span>( barDict.items())</span><br><span class="line">fig.update_layout(barmode=<span class="string">&quot;relative&quot;</span>, </span><br><span class="line"></span><br><span class="line">        <span class="comment"># legend_title=&quot;Legend Title&quot;,</span></span><br><span class="line">        legend = <span class="built_in">dict</span>(</span><br><span class="line">          entrywidthmode=<span class="string">&#x27;fraction&#x27;</span>, <span class="comment"># https://plotly.com/python/legend/</span></span><br><span class="line">          entrywidth= <span class="number">0.2</span>,</span><br><span class="line">          x=<span class="number">0.5</span> - <span class="number">0.5</span> * legend_num * <span class="number">0.2</span>,        <span class="comment"># Set x to 0.5 for the center</span></span><br><span class="line">          y=<span class="number">1.2</span>,       <span class="comment"># Set y to a value greater than 1 to move it above the plot</span></span><br><span class="line">          orientation=<span class="string">&quot;h&quot;</span>,  <span class="comment"># Display legend items in a single line</span></span><br><span class="line">        ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Out-box-text"><a href="#Out-box-text" class="headerlink" title="Out-box text"></a>Out-box text</h3><p>To draw symmetry chart, we need to special highlight the overflow bar number.</p>
<p>If the ancher point locate in the plot box, it’s easy to show text above the ceil line using <code>textposition=&quot;bottom&quot;</code> like option. In the opposite scenario, plotly and mathplotlib all will hide the out-box text.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># plotly</span></span><br><span class="line">fig.add_annotation(</span><br><span class="line">            x=[x[0][i],x[1][i]],  <span class="comment"># 注释的 x 坐标为 &quot;bc&quot;</span></span><br><span class="line">            y=min(maxY,entry),  <span class="comment"># 注释的 y 坐标为该列的最大值</span></span><br><span class="line">            text=f<span class="string">&quot;&#123;entry:.2f&#125;&quot;</span>,  <span class="comment"># 注释的文本内容</span></span><br><span class="line">            <span class="comment"># valign = &quot;bottom&quot;, # text position in text box(default invisible)</span></span><br><span class="line">            yanchor = <span class="string">&quot;bottom&quot;</span>, <span class="comment"># text box position relative to anchor</span></span><br><span class="line">            showarrow=False,  <span class="comment"># 显示箭头</span></span><br><span class="line">            <span class="comment"># bgcolor=&quot;rgba(255, 255, 255, 0.8)&quot;,  # 注释框背景颜色</span></span><br><span class="line">            font=dict(size=graph_data.fontsize+2)  <span class="comment"># 注释文本字体大小</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"><span class="comment"># mathplotlib</span></span><br><span class="line"><span class="comment"># Create labels for overflowed values</span></span><br><span class="line"><span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate(values):</span><br><span class="line">    <span class="keyword">if</span> value &gt; maxY:</span><br><span class="line">        ax.annotate(f<span class="string">&#x27;Overflow: &#123;value:.2f&#125;&#x27;</span>, (i, maxY), ha=<span class="string">&#x27;center&#x27;</span>, va=<span class="string">&#x27;bottom&#x27;</span>, fontsize=12)</span><br></pre></td></tr></table></figure>

<p>But mlb can write text out box.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ax.text(<span class="number">1</span>, -<span class="number">1.6</span>, <span class="string">&#x27;Increasing&#x27;</span>, ha=<span class="string">&quot;center&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># first parameter is text, xy is the anchor point, xytext is the text, </span></span><br><span class="line"><span class="comment"># xytext 2 xy is a relative distance</span></span><br><span class="line">ax.annotate(<span class="string">&#x27;yahaha&#x27;</span>, xy=(<span class="number">0</span>, -<span class="number">0.1</span>), xycoords=<span class="string">&#x27;axes fraction&#x27;</span>, xytext=(<span class="number">1</span>, -<span class="number">0.1</span>))</span><br></pre></td></tr></table></figure>

<h3 id="out-box-line"><a href="#out-box-line" class="headerlink" title="out-box line"></a>out-box line</h3><p>mathplotlib(mpl) can achieve this using <a target="_blank" rel="noopener" href="https://www.tutorialspoint.com/how-to-draw-a-line-outside-of-an-axis-in-matplotlib">ref</a>, but there are few blogs about plotly.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: from 1*1 size full-graph (0.5,0.2) to point (1,0.8)</span></span><br><span class="line"><span class="comment"># transform=gcf().transFigure : gcf() stands for &quot;get current figure,&quot; and .transFigure indicates that the coordinates provided in [0.5, 0.5], [0, 1] are in figure-relative coordinates. This means that the line&#x27;s position is defined relative to the entire figure, not just the axes</span></span><br><span class="line"><span class="comment"># clip_on=False : This setting means that the line is not clipped at the edges of the axes. It allows the line to extend beyond the axes&#x27; boundaries.</span></span><br><span class="line"><span class="keyword">from</span> pylab <span class="keyword">import</span> *  </span><br><span class="line">plot([<span class="number">0.5</span>, <span class="number">1</span>], [<span class="number">0.2</span>, <span class="number">0.8</span>], color=<span class="string">&#x27;lightgreen&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, lw=<span class="number">1</span> ,transform=gcf().transFigure, clip_on=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># mpl: arrow from xy 2 xytext</span></span><br><span class="line"><span class="comment"># xycoords=&#x27;figure fraction&#x27; to Add annotation to the figure (full graph)</span></span><br><span class="line">ax.annotate(<span class="string">&#x27;&#x27;</span>, xy=(<span class="number">0</span>, -<span class="number">0.1</span>), xycoords=<span class="string">&#x27;axes fraction&#x27;</span>, xytext=(<span class="number">1</span>, -<span class="number">0.1</span>),\</span><br><span class="line">arrowprops=<span class="built_in">dict</span>(arrowstyle=<span class="string">&quot;-&gt;&quot;</span>, color=<span class="string">&#x27;violet&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="in-box-line"><a href="#in-box-line" class="headerlink" title="in-box line"></a>in-box line</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl:</span></span><br><span class="line">ax.axhline(y=<span class="number">12</span>, color=<span class="string">&#x27;red&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, label=<span class="string">&#x27;Horizontal Line at y=12&#x27;</span>)</span><br><span class="line">ax.axvline(x=<span class="number">3</span>, color=<span class="string">&#x27;green&#x27;</span>, linestyle=<span class="string">&#x27;-.&#x27;</span>, label=<span class="string">&#x27;Vertical Line at x=3&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly ref: https://plotly.com/python/horizontal-vertical-shapes/</span></span><br><span class="line">fig.add_vline(x=<span class="number">2.5</span>, line_width=<span class="number">3</span>, line_dash=<span class="string">&quot;dash&quot;</span>, line_color=<span class="string">&quot;green&quot;</span>) <span class="comment"># dot</span></span><br><span class="line">fig.add_hline(y=<span class="number">0.9</span>)</span><br></pre></td></tr></table></figure>

<h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><h3 id="气泡图"><a href="#气泡图" class="headerlink" title="气泡图"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/367038620">气泡图</a></h3><p><img src="https://pic.shaojiemike.top/img/20230710182119.png"></p>
<h3 id="二维无向图"><a href="#二维无向图" class="headerlink" title="二维无向图"></a>二维无向图</h3><p><a target="_blank" rel="noopener" href="https://plotly.com/python/network-graphs/?_ga=2.8340402.1688533481.1690427514-134975445.1688699347#create-network-graph">教程</a></p>
<h3 id="3D图"><a href="#3D图" class="headerlink" title="3D图"></a>3D图</h3><p><a target="_blank" rel="noopener" href="https://dash.plotly.com/layout">dash</a> + <a target="_blank" rel="noopener" href="https://towardsdatascience.com/how-to-create-dynamic-3d-scatter-plots-with-plotly-6371adafd14">plotly</a></p>
<p>如果防火墙是关闭的，你可以直接部署在external address上。使用<a target="_blank" rel="noopener" href="https://community.plotly.com/t/how-to-run-dash-on-a-public-ip/4796">docker也是可行的办法</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.run_server(debug=<span class="literal">True</span>, host=<span class="string">&#x27;202.38.72.23&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="3D-散点图，拟合曲面与网格图"><a href="#3D-散点图，拟合曲面与网格图" class="headerlink" title="3D 散点图，拟合曲面与网格图"></a>3D 散点图，拟合曲面与网格图</h3><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/sniper-pim/blob/main/src/manualTuning.py">实际案例</a></p>
<p><img src="https://pic.shaojiemike.top/img/20230710182814.png"></p>
<h3 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">X = [<span class="built_in">str</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> metricValue]</span><br><span class="line">Y = accuracyResult</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图片大小</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">10</span>, <span class="number">6</span>))  <span class="comment"># 指定宽度为10英寸，高度为6英寸</span></span><br><span class="line"></span><br><span class="line">plt.plot(X, Y, marker=<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Threshold Percentage(%)&#x27;</span>, fontsize=<span class="number">12</span>)  <span class="comment"># 设置x轴标签字体大小为12</span></span><br><span class="line">plt.ylabel(<span class="string">&#x27;Average Execution Time of Static Method&#x27;</span>, fontsize=<span class="number">12</span>)  <span class="comment"># 设置y轴标签字体大小为12</span></span><br><span class="line">plt.title(<span class="string">&#x27;Tuning load store pressure&#x27;</span>, fontsize=<span class="number">14</span>)  <span class="comment"># 设置标题字体大小为14</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(X)):</span><br><span class="line">    plt.text(X[i], Y[i], Y[i], </span><br><span class="line">        fontsize=<span class="number">10</span>, <span class="comment"># 设置文本字体大小为10</span></span><br><span class="line">        ha=<span class="string">&#x27;center&#x27;</span>, <span class="comment"># 设置水平对齐方式</span></span><br><span class="line">        va=<span class="string">&#x27;bottom&#x27;</span>)  <span class="comment"># 设置垂直对齐方式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存图片</span></span><br><span class="line">plt.savefig(glv._get(<span class="string">&quot;resultPath&quot;</span>) + <span class="string">f&quot;tuning/<span class="subst">&#123;tuningLabel&#125;</span>/loadStorePressure.png&quot;</span>, dpi=<span class="number">300</span>)  <span class="comment"># 设置dpi为300，可调整保存图片的分辨率</span></span><br><span class="line"></span><br><span class="line">plt.show()  <span class="comment"># 显示图片</span></span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>

<h3 id="Heatmap"><a href="#Heatmap" class="headerlink" title="Heatmap"></a>Heatmap</h3><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/BHive-Prediction-Compare/blob/main/src/heatmap.py">实例</a></p>
<h3 id="Stacked-Bar-grouped-compare-bar"><a href="#Stacked-Bar-grouped-compare-bar" class="headerlink" title="Stacked Bar &amp; grouped compare bar"></a>Stacked Bar &amp; grouped compare bar</h3><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/sniper-pim/blob/main/src/graph.py">Example</a></p>
<p><img src="https://pic.shaojiemike.top/img/20230710182255.png"></p>
<h3 id="Error-Bars"><a href="#Error-Bars" class="headerlink" title="Error Bars"></a>Error Bars</h3><p>在柱状图中，用于表示上下浮动的元素通常被称为<a target="_blank" rel="noopener" href="https://plotly.com/python/error-bars/#bar-chart-with-error-bars">“误差条”（Error Bars）</a>。误差条是用于显示数据点或柱状图中的不确定性或误差范围的线条或线段。它们在柱状图中以垂直方向延伸，可以显示上下浮动的范围，提供了一种可视化的方式来表示数据的变化或不确定性。误差条通常通过标准差、标准误差、<a target="_blank" rel="noopener" href="https://plotly.com/python/error-bars/#asymmetric-error-bars">置信区间</a>或其他统计指标来计算和表示数据的浮动范围。</p>
<p><a target="_blank" rel="noopener" href="https://community.plotly.com/t/unilateral-error-bars-in-stacked-bar-chart/76380">Errorbars + StackedBars</a> stacked 的过程中由于向上的error线的会被后面的Bar遮盖，然后下面的error线由于<code>arrayminus=[i-j for i,j in zip(sumList,down_error)]</code>导致大部分时间说负值，也不会显示。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">fig = go.Figure()</span><br><span class="line"></span><br><span class="line"> <span class="comment"># color from https://stackoverflow.com/questions/68596628/change-colors-in-100-stacked-barchart-plotly-python</span></span><br><span class="line"> color_list = [<span class="string">&#x27;rgb(29, 105, 150)&#x27;</span>, \</span><br><span class="line">             <span class="string">&#x27;rgb(56, 166, 165)&#x27;</span>, \</span><br><span class="line">    <span class="string">&#x27;rgb(15, 133, 84)&#x27;</span>,\</span><br><span class="line">          <span class="string">&#x27;rgb(95, 70, 144)&#x27;</span>]</span><br><span class="line"> sumList = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x[<span class="number">0</span>]))]</span><br><span class="line"> <span class="keyword">for</span> i, entry <span class="keyword">in</span> <span class="built_in">enumerate</span>( barDict.items()):</span><br><span class="line">  barName=entry[<span class="number">0</span>]</span><br><span class="line">  yList = entry[<span class="number">1</span>]</span><br><span class="line">  ic(sumList,yList)</span><br><span class="line">  sumList = [x + y <span class="keyword">for</span> x, y <span class="keyword">in</span> <span class="built_in">zip</span>(yList, sumList)]</span><br><span class="line">  fig.add_bar(x=x,y=yList, </span><br><span class="line">              name=barName, </span><br><span class="line">              text =[<span class="string">f&#x27;<span class="subst">&#123;val:<span class="number">.2</span>f&#125;</span>&#x27;</span> <span class="keyword">for</span> val <span class="keyword">in</span> yList], </span><br><span class="line">              textposition=<span class="string">&#x27;inside&#x27;</span>,</span><br><span class="line">              marker=<span class="built_in">dict</span>(color=color_list[i]),</span><br><span class="line">              error_y=<span class="built_in">dict</span>(</span><br><span class="line">    <span class="built_in">type</span>=<span class="string">&#x27;data&#x27;</span>,</span><br><span class="line">    symmetric=<span class="literal">False</span>,</span><br><span class="line">    color=<span class="string">&#x27;purple&#x27;</span>,</span><br><span class="line">    array=[i-j <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">zip</span>(up_error,sumList)],</span><br><span class="line">    arrayminus=[i-j <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">zip</span>(sumList,down_error)],</span><br><span class="line">       thickness=<span class="number">2</span>, width=<span class="number">10</span>),</span><br><span class="line">              textfont=<span class="built_in">dict</span>(size=<span class="number">8</span>)</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>

<h3 id="Candlestick"><a href="#Candlestick" class="headerlink" title="Candlestick"></a>Candlestick</h3><p>类似股票上下跳动的浮标被称为”Candlestick”（蜡烛图）或”OHLC”（开盘-最高-最低-收盘）图表。</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>上面回答部分<strong>来自ChatGPT-3.5</strong>，暂时没有校验其可靠性(看上去貌似说得通)。</p>
<p>[1] Saket, B., Endert, A. and Demiralp, Ç., 2018. <a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=8354901&tag=1">Task-based effectiveness of basic visualizations.IEEE transactions on visualization and computer graphics</a>,25(7), pp.2505-2512.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-10-07T16:00:00.000Z" title="10/7/2023, 4:00:00 PM">2023-10-07</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-10T03:45:27.939Z" title="12/10/2023, 3:45:27 AM">2023-12-10</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">15 minutes read (About 2323 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/07/Work/Programming/2-languageGrammar/python/python/">Python</a></p><div class="content"><h2 id="装饰器-decorator"><a href="#装饰器-decorator" class="headerlink" title="装饰器 decorator"></a>装饰器 decorator</h2><p><code>@</code>能在最小改变函数的情况下，包装新的功能。<a href="%5Bpython-decorator%5D(https://foofish.net/python-decorator.html)">^1</a></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">use_logging</span>(<span class="params">func</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>():</span><br><span class="line">        logging.warn(<span class="string">&quot;%s is running&quot;</span> % func.__name__)</span><br><span class="line">        <span class="keyword">return</span> func()</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@use_logging</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;i am foo&quot;</span>)</span><br><span class="line"></span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>

<h2 id="Programming-Specification"><a href="#Programming-Specification" class="headerlink" title="Programming Specification"></a>Programming Specification</h2><ol>
<li>命名空间（namespace）可以基本理解成每个文件是一个，通过<code>import</code>来使用</li>
</ol>
<h2 id="if-name-“main“"><a href="#if-name-“main“" class="headerlink" title="if name &#x3D;&#x3D; “main“"></a>if <strong>name</strong> &#x3D;&#x3D; “<strong>main</strong>“</h2><p>在Python中,<code>if __name__ == &quot;__main__&quot;</code>这种写法通常出现在模块中,它的作用是控制模块的执行流程。</p>
<p>当一个模块被导入时,Python解释器会自动将这个模块的__name__属性设置为模块名称。但是如果模块是被直接运行的,则__name__属性会被设置为字符串__main__。</p>
<p>所以if name &#x3D;&#x3D; “main”可以用来区分模块是被导入运行还是被直接运行:</p>
<p>如果模块是被导入的,if语句不会执行。因为模块的__name__不等于__main__。<br>如果模块是被直接运行的,if语句会执行。因为模块的__name__等于__main__。</p>
<h2 id="单下划线、双下划线、头尾双下划线说明："><a href="#单下划线、双下划线、头尾双下划线说明：" class="headerlink" title="单下划线、双下划线、头尾双下划线说明："></a>单下划线、双下划线、头尾双下划线说明：</h2><p><code>__foo__</code>: 定义的是特殊方法，一般是系统定义名字 ，类似 <strong>init</strong>() 之类的。</p>
<p><code>_foo</code>: 以单下划线开头的表示的是 protected 类型的变量，即保护类型只能允许其本身与子类进行访问，不能用于 from module import *</p>
<p><code>__foo</code>: 双下划线的表示的是私有类型(private)的变量, 只能是允许这个类本身进行访问了。</p>
<h2 id="数据快速写入和读取文件"><a href="#数据快速写入和读取文件" class="headerlink" title="数据快速写入和读取文件"></a>数据快速写入和读取文件</h2><p>任意变量使用pickle</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用二进制</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;my_dict.json&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f: </span><br><span class="line">    pickle.dump(my_dict, f)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;my_dict.json&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    loaded_dict = pickle.load(f)</span><br></pre></td></tr></table></figure>

<p>可以序列化的使用json</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment"># 将 dict 保存为 JSON 格式</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;my_dict.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(my_dict, f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载 dict</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;my_dict.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    loaded_dict = json.load(f)</span><br></pre></td></tr></table></figure>

<p>多个变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将多个变量组织成字典或列表</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;scaAvgTime&quot;</span>: scaAvgTime,</span><br><span class="line">    <span class="string">&quot;var2&quot;</span>: var2,</span><br><span class="line">    <span class="string">&quot;var3&quot;</span>: var3</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">result_file = <span class="string">&quot;result.json&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将数据写入JSON文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(result_file, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data, f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取JSON文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(result_file, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取保存的变量值</span></span><br><span class="line">scaAvgTime = data[<span class="string">&quot;scaAvgTime&quot;</span>]</span><br><span class="line">var2 = data[<span class="string">&quot;var2&quot;</span>]</span><br><span class="line">var3 = data[<span class="string">&quot;var3&quot;</span>]</span><br></pre></td></tr></table></figure>

<h2 id="python优化-可视化"><a href="#python优化-可视化" class="headerlink" title="python优化 可视化"></a>python优化 可视化</h2><p>cProfile + snakeviz + gprof2dot</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gprof2dot.py -f pstats Diff.status | dot -Tpng -o ./output/Diff.png</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/plasma-umass/scalene">https://github.com/plasma-umass/scalene</a></p>
<h3 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h3><p><a target="_blank" rel="noopener" href="https://github.com/jrfonseca/gprof2dot">https://github.com/jrfonseca/gprof2dot</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/58535923">https://zhuanlan.zhihu.com/p/58535923</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/oloroso/p/6548189.html">https://www.cnblogs.com/oloroso/p/6548189.html</a></p>
<h2 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h2><p>icecream for debug</p>
<ul>
<li>优雅打印对象：函数名，结构体</li>
<li>打印行号和栈（没用输入时</li>
<li>允许嵌套（会将输入传递到输出</li>
<li>允许带颜色<code>ic.format(*args)</code>获得ic打印的文本</li>
<li>debug <code>ic.disable()</code>and <code>ic.enable()</code></li>
<li>允许统一前缀 <code>ic.configureOutput(prefix=&#39;Debug | &#39;)</code></li>
<li>不用每个文件import</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> icecream <span class="keyword">import</span> ic</span><br><span class="line">ic(STH)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> icecream <span class="keyword">import</span> install</span><br><span class="line">install()</span><br><span class="line"></span><br><span class="line">ic.configureOutput(prefix=<span class="string">&#x27;Debug -&gt; &#x27;</span>, outputFunction=yellowPrint)</span><br></pre></td></tr></table></figure>

<h2 id="虚拟环境venv"><a href="#虚拟环境venv" class="headerlink" title="虚拟环境venv"></a>虚拟环境venv</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python3 -m venv name</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">在Windows上，运行:</span></span><br><span class="line">name\Scripts\activate.bat # poweshell运行activate.ps1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">在Unix或MacOS上，运行:</span></span><br><span class="line">source name/bin/activate</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">（这个脚本是为bash shell编写的。如果你使用 csh 或 fish shell，你应该改用 activate.csh 或 activate.fish 脚本。）</span></span><br><span class="line">python3 setup.py install</span><br></pre></td></tr></table></figure>

<h3 id="各种依赖"><a href="#各种依赖" class="headerlink" title="各种依赖"></a>各种依赖</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt;requirements.txt //导出</span><br><span class="line">pip install -r requirements.txt //安装</span><br></pre></td></tr></table></figure>

<h2 id="pip换源"><a href="#pip换源" class="headerlink" title="pip换源"></a>pip换源</h2><p>有时候开代理会出现Retry</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.pip/pip.conf </span><br><span class="line">[global]</span><br><span class="line">index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"></span><br><span class="line">pip config set global.trusted-host pypi.mirrors.ustc.edu.cn  </span><br><span class="line">pip install --trusted-host mirrors.bfsu.edu.cn icecream  </span><br></pre></td></tr></table></figure>

<h2 id="python的实现过的各种功能模块"><a href="#python的实现过的各种功能模块" class="headerlink" title="python的实现过的各种功能模块"></a>python的实现过的各种功能模块</h2><h3 id="并行调用shell命令，超时kill"><a href="#并行调用shell命令，超时kill" class="headerlink" title="并行调用shell命令，超时kill"></a>并行调用shell命令，超时kill</h3><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/BHive-Prediction-Compare/blob/main/pythonTest/0326_newBar_qcjiang.py">https://github.com/Kirrito-k423/BHive-Prediction-Compare/blob/main/pythonTest/0326_newBar_qcjiang.py</a></p>
<h3 id="基于Pipe的自定义多进程进度条"><a href="#基于Pipe的自定义多进程进度条" class="headerlink" title="基于Pipe的自定义多进程进度条"></a>基于Pipe的自定义多进程进度条</h3><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/BHive-Prediction-Compare/blob/main/pythonTest/0326_newBar_qcjiang.py">https://github.com/Kirrito-k423/BHive-Prediction-Compare/blob/main/pythonTest/0326_newBar_qcjiang.py</a></p>
<h2 id="为什么c语言运行比python快"><a href="#为什么c语言运行比python快" class="headerlink" title="为什么c语言运行比python快"></a>为什么c语言运行比python快</h2><h3 id="运行流程区别"><a href="#运行流程区别" class="headerlink" title="运行流程区别"></a>运行流程区别</h3><p>python的传统运行执行模式：录入的源代码转换为字节码，之后字节码在python虚拟机中运行。代码自动被编译，之后再解释成机器码在CPU中执行。</p>
<p>c编译器直接把c源代码编译成机器码。过程比python执行过程少了字节码生成和虚拟机执行字节码过程。所以自然比python快。</p>
<p><img src="https://pic.shaojiemike.top/img/Inkedv2-7fe336301f57ef2f850e8f01597b556e_1440w_LI.jpg"></p>
<h3 id="解释性语言"><a href="#解释性语言" class="headerlink" title="解释性语言"></a>解释性语言</h3><p>解释型语言没有严格编译汇编过程，由解释器将代码块按需要变运行边翻译给机器执行。因此解释型语言一度存在运行效率底，重复解释的问题。但是通过对解释器的优化!可以提高解释型语言的运行效率。</p>
<h2 id="Python-字节码"><a href="#Python-字节码" class="headerlink" title="Python 字节码"></a>Python 字节码</h2><p>Python 以 .pyc 结尾的 “ 字节码(bytecode)” 文件(二进制文件)，一般位于__pycache__ 的子目录中，可以避免每次运行 Python 时去重新解析源代码。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m py_compile file.py  <span class="comment"># 生成单个pyc文件</span></span><br></pre></td></tr></table></figure>

<h3 id="python程序运行中的-Python-字节码-是什么时候产生的，我修改py文件，其对应的字节码文件会在何时更新"><a href="#python程序运行中的-Python-字节码-是什么时候产生的，我修改py文件，其对应的字节码文件会在何时更新" class="headerlink" title="python程序运行中的 Python 字节码 是什么时候产生的，我修改py文件，其对应的字节码文件会在何时更新"></a>python程序运行中的 Python 字节码 是什么时候产生的，我修改py文件，其对应的字节码文件会在何时更新</h3><p>gpt3.5: Python字节码是由Python解释器在执行Python源代码之前生成的中间表示形式。它是将源代码翻译为机器可以理解的指令序列的一种形式。字节码文件的扩展名通常为.pyc（Python 3）或.pyo（Python 2）。</p>
<p>当你运行Python程序时，如果存在对应的字节码文件（.pyc或.pyo），解释器会首先检查字节码文件的时间戳。如果字节码文件的时间戳比源代码文件的时间戳更晚，且没有进行代码的修改，解释器会直接加载和执行字节码，跳过源代码的编译过程。</p>
<p>当你修改了Python源代码文件时，字节码文件不会立即更新。Python解释器会在下一次运行程序时，检测到源代码文件的修改，并重新编译生成新的字节码文件。这样，更新后的字节码文件将反映源代码的更改，并用于后续的执行。</p>
<h3 id="访问和理解-Python-字节码"><a href="#访问和理解-Python-字节码" class="headerlink" title="访问和理解 Python 字节码"></a>访问和理解 Python 字节码</h3><p>经过编译的python文件可以提高程序的运行速度，一定程度上也对源代码起到了保护作用。然而如果我们只有编译过的python字节码文件，就给我们审查源码造成了一定的困难，这就引出了python字节码反编译的需求。</p>
<p>如果你想玩转字节码，那么，Python 标准库中的 dis 模块将对你有非常大的帮助；<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/dis.html">dis 模块</a>为 Python 字节码提供了一个 “反汇编”，它可以让你更容易地得到一个人类可读的版本，以及查找各种字节码指令。</p>
<p>知道如何去访问和阅读 Python 字节码将让你很容易回答为什么某些结构比其它结构运行的更快这样的问题（比如，为什么 {} 比 dict() 快）（尝试对比一下： dis.dis(“{}”) 与 dis.dis(“dict()”) 就会明白）。</p>
<h2 id="pyo优化文件"><a href="#pyo优化文件" class="headerlink" title="pyo优化文件"></a>pyo优化文件</h2><p>pyo文件是源代码文件经过优化编译后生成的文件，是pyc文件的优化版本。编译时需要使用-O和-OO选项来生成pyo文件。在Python3.5之后，不再使用.pyo文件名，而是生成文件名类似“test.opt-n.pyc的文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -O -m py_compile test.py</span><br></pre></td></tr></table></figure>

<h2 id="Python-虚拟机"><a href="#Python-虚拟机" class="headerlink" title="Python 虚拟机"></a>Python 虚拟机</h2><p>CPython 使用一个基于栈的虚拟机。（你可以 “推入” 一个东西到栈 “顶”，或者，从栈 “顶” 上 “弹出” 一个东西来）。</p>
<p>CPython 使用三种类型的栈：</p>
<ol>
<li>调用栈(call stack)。这是运行 Python 程序的主要结构。它为每个当前活动的<strong>函数</strong>调用使用了一个东西 —— “ 帧(frame)”</li>
<li>在每个帧中，有一个 **计算栈(evaluation stack)**（也称为 数据栈(data stack)）。这个栈就是 Python 函数运行的地方，运行的 Python 代码大多数是由推入到这个栈中的东西组成的，操作它们，然后在返回后销毁它们。</li>
<li>在每个帧中，还有一个**块栈(block stack)**。它被 Python 用于去跟踪某些类型的控制结构：循环、try &#x2F; except 块、以及 with 块，全部推入到块栈中，当你退出这些控制结构时，块栈被销毁。</li>
</ol>
<h3 id="Python-如何工作"><a href="#Python-如何工作" class="headerlink" title="Python 如何工作"></a>Python 如何工作</h3><p>Python 与大多数解释型语言一样，确实是将源代码编译为一组虚拟机指令，并且 Python 解释器是针对相应的虚拟机实现的。这种中间格式被称为 “字节码”。</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>在了解c语言编译流程的时候，联想到了python有什么不同。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/39259061">https://zhuanlan.zhihu.com/p/39259061</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-08-27T16:00:00.000Z" title="8/27/2023, 4:00:00 PM">2023-08-27</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-10T03:45:27.939Z" title="12/10/2023, 3:45:27 AM">2023-12-10</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">20 minutes read (About 2993 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/27/Work/Programming/2-languageGrammar/python/pythonDataStructure/">Python: DataStructure</a></p><div class="content"><h2 id="check-if-it-is-empty"><a href="#check-if-it-is-empty" class="headerlink" title="check if it is empty?"></a>check if it is empty?</h2><p>strings, lists, tuples</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Correct:</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> seq:</span><br><span class="line"><span class="keyword">if</span> seq:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Wrong:</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(seq):</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">len</span>(seq):</span><br></pre></td></tr></table></figure>

<h2 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># sth</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    pprint.pprint(<span class="built_in">list</span>)</span><br><span class="line">    <span class="keyword">raise</span> e</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    un_set()</span><br></pre></td></tr></table></figure>

<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><h3 id="step"><a href="#step" class="headerlink" title="step"></a>step</h3><p>调参需要测试间隔值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">101</span>, <span class="number">3</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<h3 id="遍历修改值"><a href="#遍历修改值" class="headerlink" title="遍历修改值"></a>遍历修改值</h3><ul>
<li>使用 <code>enumerate</code> 函数结合 <code>for</code> 循环遍历 list，以修改 list 中的元素。</li>
<li><code>enumerate</code> 函数返回一个包含元组的迭代器，其中每个元组包含当前遍历元素的索引和值。在 for 循环中，我们通过索引 <code>i</code> 修改了列表中的元素。</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对于 二维list appDataDict</span></span><br><span class="line">baseline = appDataDict[<span class="number">0</span>][<span class="number">0</span>] <span class="comment"># CPU Total</span></span><br><span class="line"><span class="keyword">for</span> i, line <span class="keyword">in</span> <span class="built_in">enumerate</span>(appDataDict):</span><br><span class="line">    <span class="keyword">for</span> j, entry <span class="keyword">in</span> <span class="built_in">enumerate</span>(line):</span><br><span class="line">        appDataDict[i][j] = <span class="built_in">round</span>(entry/baseline, <span class="number">7</span>)</span><br></pre></td></tr></table></figure>

<h2 id="itertools"><a href="#itertools" class="headerlink" title="itertools"></a>itertools</h2><p><a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/library/itertools.html">itertools</a> — 为高效循环而创建迭代器的函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> a,b,c <span class="keyword">in</span> permutations((a,b,c)):</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="String-字符串"><a href="#String-字符串" class="headerlink" title="String 字符串"></a><a target="_blank" rel="noopener" href="https://www.runoob.com/python/python-strings.html">String 字符串</a></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">%c  格式化字符及其ASCII码</span><br><span class="line">%s  格式化字符串</span><br><span class="line">%d  格式化整数</span><br><span class="line">%u  格式化无符号整型</span><br><span class="line">%o  格式化无符号八进制数</span><br><span class="line">%x  格式化无符号十六进制数</span><br><span class="line">%X  格式化无符号十六进制数（大写）</span><br><span class="line">%f  格式化浮点数字，可指定小数点后的精度</span><br><span class="line">%e  用科学计数法格式化浮点数</span><br><span class="line">%E  作用同%e，用科学计数法格式化浮点数</span><br><span class="line">%g  %f和%e的简写</span><br><span class="line">%G  %F 和 %E 的简写</span><br><span class="line">%p  用十六进制数格式化变量的地址</span><br></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;My name is %s and weight is %d kg!&quot;</span> % (<span class="string">&#x27;Zara&#x27;</span>, <span class="number">21</span>))</span><br></pre></td></tr></table></figure>

<h3 id="string-list"><a href="#string-list" class="headerlink" title="string &lt;-&gt; list"></a>string &lt;-&gt; list</h3><p><code>&#39; &#39;.join(pass_list)</code> and <code>pass_list.split(&quot; &quot;)</code></p>
<p>对齐<code>&quot;\n&quot;.join([&quot;%-10s&quot; % item for item in List_A])</code></p>
<h3 id="字符串开头判断"><a href="#字符串开头判断" class="headerlink" title="字符串开头判断"></a>字符串开头判断</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> text.startswith(<span class="string">&quot;Hello&quot;</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The string starts with &#x27;Hello&#x27;&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The string does not start with &#x27;Hello&#x27;&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="format-格式化函数"><a href="#format-格式化函数" class="headerlink" title="format 格式化函数"></a>format 格式化函数</h3><p>Python2.6 开始，<a target="_blank" rel="noopener" href="https://www.runoob.com/python/att-string-format.html">通过 <code>&#123;&#125;</code> 和 <code>:</code> 来代替以前的 <code>%</code></a></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)    <span class="comment"># 不设置指定位置，按默认顺序</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;&#123;1&#125; &#123;0&#125; &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)  <span class="comment"># 设置指定位置</span></span><br><span class="line"><span class="string">&#x27;world hello world&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串补齐100位，&lt;表示左对齐</span></span><br><span class="line">variable = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">padded_variable = <span class="string">&quot;&#123;:&lt;100&#125;&quot;</span>.<span class="built_in">format</span>(variable)</span><br></pre></td></tr></table></figure>

<p>数字处理</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">3.1415926</span>)) <span class="comment"># 保留小数点后两位</span></span><br><span class="line"></span><br><span class="line">&#123;:&gt;10d&#125; 右对齐 (默认, 宽度为<span class="number">10</span>)</span><br><span class="line">&#123;:^10d&#125; 中间对齐 (宽度为<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h2 id="小数位"><a href="#小数位" class="headerlink" title="小数位"></a>小数位</h2><p><code>x = round(x,3)</code># 保留小数点后三位</p>
<h2 id="容器：List"><a href="#容器：List" class="headerlink" title="容器：List"></a>容器：List</h2><p><a target="_blank" rel="noopener" href="https://www.runoob.com/python/python-lists.html">https://www.runoob.com/python/python-lists.html</a></p>
<h3 id="初始化以及访问"><a href="#初始化以及访问" class="headerlink" title="初始化以及访问"></a>初始化以及访问</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = [<span class="string">&#x27;physics&#x27;</span>, <span class="string">&#x27;chemistry&#x27;</span>, <span class="number">1997</span>, <span class="number">2000</span>]</span><br><span class="line"><span class="built_in">list</span> = []          <span class="comment">## 空列表</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><p>格式：<code>[start_index:end_index:step]</code></p>
<p>不包括<code>end_index</code>的元素</p>
<h3 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">list_three = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line"></span><br><span class="line">//numpy 创建连续的，可自动向量化，线程并行</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 创建一个 3x4 的数组且所有值全为 0</span></span><br><span class="line">x3 = np.zeros((<span class="number">3</span>, <span class="number">4</span>), dtype=<span class="built_in">int</span>)</span><br><span class="line"><span class="comment"># 创建一个 3x4 的数组，然后将所有元素的值填充为 2</span></span><br><span class="line">x5 = np.full((<span class="number">3</span>, <span class="number">4</span>), <span class="number">2</span>, dtype=<span class="built_in">int</span>)</span><br></pre></td></tr></table></figure>

<h3 id="size-大小"><a href="#size-大小" class="headerlink" title="size 大小"></a>size 大小</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>(day)</span><br></pre></td></tr></table></figure>

<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># take second element for sort</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">takeSecond</span>(<span class="params">elem</span>):</span><br><span class="line">    <span class="keyword">return</span> elem[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">LCData.sort(key=takeSecond)</span><br><span class="line"></span><br><span class="line"><span class="comment"># [1740, &#x27;黄业琦&#x27;, 392, &#x27;第 196 场周赛&#x27;],</span></span><br><span class="line"><span class="comment"># [1565, &#x27;林坤贤&#x27;, 458, &#x27;第 229 场周赛&#x27;],</span></span><br><span class="line"><span class="comment"># [1740, &#x27;黄业琦&#x27;, 458, &#x27;第 229 场周赛&#x27;],</span></span><br><span class="line"><span class="comment"># [1509, &#x27;林坤贤&#x27;, 460, &#x27;第 230 场周赛&#x27;],</span></span><br><span class="line"><span class="comment"># [1740, &#x27;黄业琦&#x27;, 460, &#x27;第 230 场周赛&#x27;],</span></span><br><span class="line"><span class="comment"># [1779, &#x27;黄业琦&#x27;, 558, &#x27;第 279 场周赛&#x27;],</span></span><br></pre></td></tr></table></figure>

<h3 id="对应元素相加到一个变量"><a href="#对应元素相加到一个变量" class="headerlink" title="对应元素相加到一个变量"></a>对应元素相加到一个变量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tmp_list = [[],[],[],[]]</span><br><span class="line"><span class="comment"># 注意不需要右值赋值</span></span><br><span class="line">[x.append(copy.deepcopy(entry)) <span class="keyword">for</span> x,entry <span class="keyword">in</span> <span class="built_in">zip</span>(tmp_list, to_add)]</span><br></pre></td></tr></table></figure>

<h3 id="两个list对应元素相加"><a href="#两个list对应元素相加" class="headerlink" title="两个list对应元素相加"></a>两个list对应元素相加</h3><p>对于等长的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">list2 = [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line">result = [x + y <span class="keyword">for</span> x, y <span class="keyword">in</span> <span class="built_in">zip</span>(list1, list2)]</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>

<p>如果两个列表的长度不同，你可以使用zip_longest()函数来处理它们。zip_longest()函数可以处理不等长的列表，并使用指定的填充值填充缺失的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> zip_longest</span><br><span class="line"></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">list2 = [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br><span class="line"></span><br><span class="line">result = [x + y <span class="keyword">for</span> x, y <span class="keyword">in</span> zip_longest(list1, list2, fillvalue=<span class="number">0</span>)]</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>

<p>如果是二维list</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">list1 = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">         [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">         [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">list2 = [[<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>],</span><br><span class="line">         [<span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]]</span><br><span class="line"></span><br><span class="line">rows = <span class="built_in">max</span>(<span class="built_in">len</span>(list1), <span class="built_in">len</span>(list2))</span><br><span class="line">cols = <span class="built_in">max</span>(<span class="built_in">len</span>(row) <span class="keyword">for</span> row <span class="keyword">in</span> list1 + list2)</span><br><span class="line"></span><br><span class="line">result = [[<span class="number">0</span>] * cols <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">        <span class="keyword">if</span> i &lt; <span class="built_in">len</span>(list1) <span class="keyword">and</span> j &lt; <span class="built_in">len</span>(list1[i]):</span><br><span class="line">            result[i][j] += list1[i][j]</span><br><span class="line">        <span class="keyword">if</span> i &lt; <span class="built_in">len</span>(list2) <span class="keyword">and</span> j &lt; <span class="built_in">len</span>(list2[i]):</span><br><span class="line">            result[i][j] += list2[i][j]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将一个二维列表的所有元素除以一个数A</span></span><br><span class="line">result = [[element / A <span class="keyword">for</span> element <span class="keyword">in</span> row] <span class="keyword">for</span> row <span class="keyword">in</span> list1]</span><br></pre></td></tr></table></figure>

<h2 id="直接赋值、浅拷贝和深度拷贝"><a href="#直接赋值、浅拷贝和深度拷贝" class="headerlink" title="直接赋值、浅拷贝和深度拷贝"></a>直接赋值、浅拷贝和深度拷贝</h2><p><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/python-append-deepcopy.html">Python append() 与深拷贝、浅拷贝</a></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/python-understanding-dict-copy-shallow-or-deep.html">python赋值只是引用，别名</a></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>.append(<span class="string">&#x27;Google&#x27;</span>)   <span class="comment">## 使用 append() 添加元素</span></span><br><span class="line">alist.append( num ) <span class="comment"># 浅拷贝 ，之后修改num 会影响alist内的值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">alist.append( copy.deepcopy( num ) ) <span class="comment"># 深拷贝</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># delete</span></span><br><span class="line"><span class="keyword">del</span> <span class="built_in">list</span>[<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<h3 id="for循环迭代的元素-也是-引用"><a href="#for循环迭代的元素-也是-引用" class="headerlink" title="for循环迭代的元素 也是 引用"></a>for循环迭代的元素 也是 引用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">original_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> original_list:</span><br><span class="line">    item *= <span class="number">2</span> <span class="comment"># 每个元素是不可变的</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(original_list) </span><br><span class="line"></span><br><span class="line">original_list = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">2</span>], [<span class="number">3</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> original_list:</span><br><span class="line">    item.append(<span class="string">&quot;xxx&quot;</span>) <span class="comment"># 每个元素是可变的</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(original_list) </span><br><span class="line"></span><br><span class="line"><span class="comment"># [1, 2, 3]</span></span><br><span class="line"><span class="comment"># [[1, 2, 3, &#x27;xxx&#x27;], [2, &#x27;xxx&#x27;], [3, &#x27;xxx&#x27;]]</span></span><br></pre></td></tr></table></figure>

<h3 id="函数传参是引用，但是能通过切片来得到类似指针"><a href="#函数传参是引用，但是能通过切片来得到类似指针" class="headerlink" title="函数传参是引用，但是能通过切片来得到类似指针"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/skying_li/article/details/52398114">函数传参是引用，但是能通过切片来得到类似指针</a></h3><p>参数的传递<br>函数声明时的形参，使用时，等同于函数体内的局部变量。由于Python中一切皆为对象。因此，参数传递时直接传递对象的地址，但具体使用分两种类型：<br>1.传递不可变对象的引用（起到其他语言值传递的效果） 数字，字符串，元组，function等<br>2.传递可变对象的引用（起到其他语言引用传递的效果） 字典，列表，集合，自定义的对象等</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun0</span>(<span class="params">a</span>):</span><br><span class="line">    a = [<span class="number">0</span>,<span class="number">0</span>] <span class="comment"># a在修改后，指向的地址发生改变，相当于新建了一个值为[0,0]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">a</span>):</span><br><span class="line">    a[<span class="number">0</span>] = [<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun2</span>(<span class="params">a</span>):</span><br><span class="line">    a[:] = [<span class="number">10</span>,<span class="number">20</span>]</span><br><span class="line">    </span><br><span class="line">b = [<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">fun0(b)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line">fun(b)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line">fun2(b)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># [3, 4]</span></span><br><span class="line"><span class="comment"># [[1, 2], 4]</span></span><br><span class="line"><span class="comment"># [10, 20]</span></span><br></pre></td></tr></table></figure>

<h3 id="return-返回值"><a href="#return-返回值" class="headerlink" title="return 返回值"></a>return 返回值</h3><p>可变的也是引用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>(<span class="params">l</span>):</span><br><span class="line">    l.append(<span class="string">&quot;0&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> l </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun2</span>(<span class="params">l</span>):</span><br><span class="line">    <span class="keyword">return</span> l</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">    rel2 = fun2(l)</span><br><span class="line">    <span class="built_in">print</span>(rel2)   </span><br><span class="line">    rel1 = fun1(l)</span><br><span class="line">    <span class="built_in">print</span>(rel1)   </span><br><span class="line">    <span class="built_in">print</span>(rel2)   </span><br><span class="line">    l.append(<span class="string">&quot;xxx&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(rel1)   </span><br><span class="line">    <span class="built_in">print</span>(rel2)   </span><br><span class="line">    <span class="keyword">del</span> rel1[<span class="number">2</span>]</span><br><span class="line">    <span class="built_in">print</span>(rel1)   </span><br><span class="line">    <span class="built_in">print</span>(rel2)  </span><br><span class="line"></span><br><span class="line"><span class="comment"># [1, 2, 3, 4, 5]</span></span><br><span class="line"><span class="comment"># [1, 2, 3, 4, 5, &#x27;0&#x27;]</span></span><br><span class="line"><span class="comment"># [1, 2, 3, 4, 5, &#x27;0&#x27;]</span></span><br><span class="line"><span class="comment"># [1, 2, 3, 4, 5, &#x27;0&#x27;, &#x27;xxx&#x27;]</span></span><br><span class="line"><span class="comment"># [1, 2, 3, 4, 5, &#x27;0&#x27;, &#x27;xxx&#x27;]</span></span><br><span class="line"><span class="comment"># [1, 2, 4, 5, &#x27;0&#x27;, &#x27;xxx&#x27;]</span></span><br><span class="line"><span class="comment"># [1, 2, 4, 5, &#x27;0&#x27;, &#x27;xxx&#x27;]</span></span><br></pre></td></tr></table></figure>

<h2 id="容器：元组Tuple"><a href="#容器：元组Tuple" class="headerlink" title="容器：元组Tuple"></a>容器：元组Tuple</h2><ul>
<li>元组和列表类似，但是不同的是元组<strong>不能修改</strong>，但可以对元组进行连接组合，元组使用小括号。</li>
<li>元组中只包含一个元素时，需要在元素后面<strong>添加逗号</strong>，否则括号会被当作运算符使用。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建元组</span></span><br><span class="line">tup = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">tup1 = (<span class="number">23</span>, <span class="number">78</span>);</span><br><span class="line">tup2 = (<span class="string">&#x27;ab&#x27;</span>, <span class="string">&#x27;cd&#x27;</span>)</span><br><span class="line">tup3 = tup1 + tup2</span><br></pre></td></tr></table></figure>

<h2 id="容器：Dict"><a href="#容器：Dict" class="headerlink" title="容器：Dict"></a>容器：Dict</h2><h3 id="empty-dict"><a href="#empty-dict" class="headerlink" title="empty dict"></a>empty dict</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a= &#123;&#125;</span><br><span class="line">a=<span class="built_in">dict</span>()</span><br></pre></td></tr></table></figure>

<h3 id="key-支持tuple元组"><a href="#key-支持tuple元组" class="headerlink" title="key 支持tuple元组"></a>key 支持tuple元组</h3><p>类似c++ 的 <code>pair&lt;int,int&gt;</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bblHashDict[(tmpHigherHash,tmpLowerHash)]=tmpBBL</span><br></pre></td></tr></table></figure>

<p>但是这样就不支持json.dump， <code>json.dump()</code> 无法序列化 Python 中元组(tuple)作为字典的 key，这会导致 <code>json.dump()</code> 函数在写入此类字典数据时会进入死循环或陷入卡住状态</p>
<h3 id="初始化以及访问-1"><a href="#初始化以及访问-1" class="headerlink" title="初始化以及访问"></a>初始化以及访问</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>tinydict = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;b&#x27;</span>: <span class="string">&#x27;3&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tinydict[<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="string">&#x27;3&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a_dict = &#123;<span class="string">&#x27;color&#x27;</span>: <span class="string">&#x27;blue&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> a_dict:</span><br><span class="line"> <span class="built_in">print</span>(key)</span><br><span class="line"><span class="comment"># color</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> a_dict:</span><br><span class="line">    <span class="built_in">print</span>(key, <span class="string">&#x27;-&gt;&#x27;</span>, a_dict[key])</span><br><span class="line"><span class="comment"># color -&gt; blue</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> a_dict.items():</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line"><span class="comment"># (&#x27;color&#x27;, &#x27;blue&#x27;)</span></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> a_dict.items():</span><br><span class="line"> <span class="built_in">print</span>(key, <span class="string">&#x27;-&gt;&#x27;</span>, value)</span><br><span class="line"><span class="comment"># color -&gt; blue</span></span><br></pre></td></tr></table></figure>

<h3 id="判断key-是否存在"><a href="#判断key-是否存在" class="headerlink" title="判断key 是否存在"></a>判断key 是否存在</h3><p>以下是两种常用的方法：</p>
<p>方法一：使用in操作符: in操作符返回一个布尔值，True表示存在，False表示不存在。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Copy code</span><br><span class="line">my_dict = &#123;<span class="string">&quot;key1&quot;</span>: <span class="string">&quot;value1&quot;</span>, <span class="string">&quot;key2&quot;</span>: <span class="string">&quot;value2&quot;</span>, <span class="string">&quot;key3&quot;</span>: <span class="string">&quot;value3&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断是否存在指定的键</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;key2&quot;</span> <span class="keyword">in</span> my_dict:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Key &#x27;key2&#x27; exists in the dictionary.&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Key &#x27;key2&#x27; does not exist in the dictionary.&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>方法二：使用dict.get()方法: dict.get()方法在键存在时返回对应的值，不存在时返回None。根据需要选择适合的方法进行判断。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Copy code</span><br><span class="line">my_dict = &#123;<span class="string">&quot;key1&quot;</span>: <span class="string">&quot;value1&quot;</span>, <span class="string">&quot;key2&quot;</span>: <span class="string">&quot;value2&quot;</span>, <span class="string">&quot;key3&quot;</span>: <span class="string">&quot;value3&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断是否存在指定的键</span></span><br><span class="line"><span class="keyword">if</span> my_dict.get(<span class="string">&quot;key2&quot;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Key &#x27;key2&#x27; exists in the dictionary.&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Key &#x27;key2&#x27; does not exist in the dictionary.&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>这两种方法都可以用来判断字典中是否存在指定的键。</p>
<h3 id="size-大小-1"><a href="#size-大小-1" class="headerlink" title="size 大小"></a>size 大小</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>(day)</span><br></pre></td></tr></table></figure>

<h3 id="修改以及添加"><a href="#修改以及添加" class="headerlink" title="修改以及添加"></a>修改以及添加</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tinydict = &#123;<span class="string">&#x27;Name&#x27;</span>: <span class="string">&#x27;Zara&#x27;</span>, <span class="string">&#x27;Age&#x27;</span>: <span class="number">7</span>, <span class="string">&#x27;Class&#x27;</span>: <span class="string">&#x27;First&#x27;</span>&#125;</span><br><span class="line"> </span><br><span class="line">tinydict[<span class="string">&#x27;Age&#x27;</span>] = <span class="number">8</span> <span class="comment"># 更新</span></span><br><span class="line">tinydict[<span class="string">&#x27;School&#x27;</span>] = <span class="string">&quot;RUNOOB&quot;</span> <span class="comment"># 添加</span></span><br></pre></td></tr></table></figure>

<h3 id="合并"><a href="#合并" class="headerlink" title="合并"></a>合并</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">10</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">8</span>&#125; </span><br><span class="line">dict2 = &#123;<span class="string">&#x27;d&#x27;</span>: <span class="number">6</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">4</span>&#125; </span><br><span class="line">  </span><br><span class="line"><span class="comment"># dict2保留了合并的结果</span></span><br><span class="line">dict2.update(dict1)</span><br><span class="line"><span class="built_in">print</span>(dict2)</span><br><span class="line">&#123;<span class="string">&#x27;d&#x27;</span>: <span class="number">6</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;a&#x27;</span>: <span class="number">10</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">8</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> tinydict[<span class="string">&#x27;Name&#x27;</span>]  <span class="comment"># 删除键是&#x27;Name&#x27;的条目</span></span><br><span class="line">tinydict.clear()      <span class="comment"># 清空字典所有条目</span></span><br><span class="line"><span class="keyword">del</span> tinydict          <span class="comment"># 删除字典</span></span><br></pre></td></tr></table></figure>

<h3 id="print-by-key"><a href="#print-by-key" class="headerlink" title="print by key"></a>print by key</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line">pprint</span><br></pre></td></tr></table></figure>

<h2 id="容器：set"><a href="#容器：set" class="headerlink" title="容器：set"></a>容器：set</h2><p>无序不重复序列</p>
<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=  <span class="built_in">set</span>() <span class="comment"># 空set</span></span><br><span class="line"></span><br><span class="line">thisset = <span class="built_in">set</span>((<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Runoob&quot;</span>, <span class="string">&quot;Taobao&quot;</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>basket = &#123;<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;pear&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(basket)                      <span class="comment"># 这里演示的是去重功能</span></span><br></pre></td></tr></table></figure>

<h3 id="list2set"><a href="#list2set" class="headerlink" title="list2set"></a>list2set</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setL=<span class="built_in">set</span>(listV)</span><br></pre></td></tr></table></figure>

<h3 id="set2list"><a href="#set2list" class="headerlink" title="set2list"></a>set2list</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">my_set = &#123;<span class="string">&#x27;Geeks&#x27;</span>, <span class="string">&#x27;for&#x27;</span>, <span class="string">&#x27;geeks&#x27;</span>&#125;</span><br><span class="line">  </span><br><span class="line">s = <span class="built_in">list</span>(my_set)</span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"><span class="comment"># [&#x27;Geeks&#x27;, &#x27;for&#x27;, &#x27;geeks&#x27;]</span></span><br></pre></td></tr></table></figure>

<h3 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">thisset.add(<span class="string">&quot;Facebook&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="合并-1"><a href="#合并-1" class="headerlink" title="合并"></a>合并</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = &#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>&#125;</span><br><span class="line">y = &#123;<span class="string">&quot;google&quot;</span>, <span class="string">&quot;runoob&quot;</span>, <span class="string">&quot;apple&quot;</span>&#125;</span><br><span class="line"> </span><br><span class="line">z = x.union(y) </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(z)</span><br><span class="line"><span class="comment"># &#123;&#x27;cherry&#x27;, &#x27;runoob&#x27;, &#x27;google&#x27;, &#x27;banana&#x27;, &#x27;apple&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="删除与清空"><a href="#删除与清空" class="headerlink" title="删除与清空"></a>删除与清空</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s.remove( x )</span><br><span class="line">a.clear()</span><br></pre></td></tr></table></figure>

<h2 id="修改原本的值"><a href="#修改原本的值" class="headerlink" title="修改原本的值"></a>修改原本的值</h2><h3 id="修改传入参数"><a href="#修改传入参数" class="headerlink" title="修改传入参数"></a>修改传入参数</h3><p>在Python中,函数的参数是按值传递的,也就是说在函数内部修改参数不会影响到函数外部的变量。</p>
<p>但是有几种方法可以实现类似修改参数的效果:</p>
<ol>
<li>返回修改后的值,在函数外部重新赋值</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x</span>):</span><br><span class="line">    x = x + <span class="number">1</span> </span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span></span><br><span class="line">a = func(a) </span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment"># 11</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用可变对象作为参数,修改可变对象的内部值</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">lst</span>):</span><br><span class="line">    lst.append(<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">lst = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">func(lst)</span><br><span class="line"><span class="built_in">print</span>(lst) <span class="comment"># [1,2,3,1]</span></span><br></pre></td></tr></table></figure>

<p>这里lst是列表,在func内部修改了lst,由于lst是可变的,所以函数外部的lst也被修改了。</p>
<ol start="3">
<li>使用全局变量</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="keyword">global</span> count</span><br><span class="line">    count += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">func()</span><br><span class="line"><span class="built_in">print</span>(count) <span class="comment"># 1</span></span><br></pre></td></tr></table></figure>

<p>通过global关键字声明count为全局变量,这样就可以在函数内部修改全局变量count了。</p>
<p>所以要修改传入参数的值,主要的方法是:</p>
<ol>
<li>返回修改后的值并重新赋值</li>
<li>传入一个可变对象并修改可变对象内部的值</li>
<li>使用全局变量</li>
</ol>
<p>这些技巧可以实现模拟修改参数的效果。</p>
<h3 id="修改for循环对象"><a href="#修改for循环对象" class="headerlink" title="修改for循环对象"></a>修改for循环对象</h3><p>在Python中,for循环遍历的是一个迭代器,每次循环会将迭代器的下一个元素赋值给循环变量。</p>
<p>如果想在for循环内部修改迭代器中的元素,可以使用以下方法:</p>
<ol>
<li>将迭代器转换成列表,然后修改列表中的元素:</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">all_for_one = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> app_info <span class="keyword">in</span> <span class="built_in">list</span>(all_for_one):</span><br><span class="line">    <span class="keyword">if</span> app_info == <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">        all_for_one[<span class="number">1</span>] = <span class="string">&#x27;x&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(all_for_one) <span class="comment"># [&#x27;a&#x27;, &#x27;x&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>这里通过list()将迭代器转成列表,然后修改列表的元素。</p>
<ol start="2">
<li>使用循环的索引而不是直接使用元素:</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">all_for_one = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(all_for_one)):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">        all_for_one[i] = <span class="string">&#x27;x&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(all_for_one) <span class="comment"># [&#x27;a&#x27;, &#x27;x&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>通过索引 i 来访问并修改元素。</p>
<ol start="3">
<li>使用enumerate()在循环中获取索引:</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">all_for_one = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, app_info <span class="keyword">in</span> <span class="built_in">enumerate</span>(all_for_one):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">        all_for_one[i] = <span class="string">&#x27;x&#x27;</span></span><br><span class="line">        </span><br><span class="line"><span class="built_in">print</span>(all_for_one) <span class="comment"># [&#x27;a&#x27;, &#x27;x&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>enumerate()可以同时迭代索引和元素。</p>
<p>所以主要思路就是不直接修改循环变量,而是通过索引或临时列表来修改迭代器中的原始元素。</p>
<h3 id="修改for循环的对象-set"><a href="#修改for循环的对象-set" class="headerlink" title="修改for循环的对象 set"></a>修改for循环的对象 set</h3><p>对于 set 这样的不可变对象,不能直接通过索引或者 enumerate 来修改,因为 set 对象不支持索引和切片操作。</p>
<p>对于 set,可以使用以下方法在循环内部进行修改:</p>
<ol>
<li>将 set 转换成 list,修改后再转换回 set</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">s = &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">list</span>(s):</span><br><span class="line">    <span class="keyword">if</span> item == <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">        s = <span class="built_in">list</span>(s)</span><br><span class="line">        s[<span class="number">1</span>] = <span class="string">&#x27;x&#x27;</span></span><br><span class="line">        s = <span class="built_in">set</span>(s)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s) <span class="comment"># &#123;&#x27;a&#x27;, &#x27;x&#x27;, &#x27;c&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建一个新的 set,在循环中添加修改后的元素</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">s = &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line">new_s = <span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> s:</span><br><span class="line">    <span class="keyword">if</span> item == <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">        new_s.add(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        new_s.add(item)</span><br><span class="line">        </span><br><span class="line">s = new_s</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s) <span class="comment"># &#123;&#x27;a&#x27;, &#x27;x&#x27;, &#x27;c&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>使用 set 的discard()和add()方法在循环中修改</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s = &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> s:</span><br><span class="line">    <span class="keyword">if</span> item == <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">        s.discard(item)</span><br><span class="line">        s.add(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s) <span class="comment"># &#123;&#x27;a&#x27;, &#x27;x&#x27;, &#x27;c&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<p>上面这些方法的关键思路都是:</p>
<ol>
<li>将不可变对象设置转换成可变类型</li>
<li>在循环中针对可变类型进行修改</li>
<li>再转换回不可变 Set 对象</li>
</ol>
<p>这样就可以实现循环中修改 Set 的效果。</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_63719049/article/details/125680242">https://blog.csdn.net/weixin_63719049/article/details/125680242</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-07-27T16:00:00.000Z" title="7/27/2023, 4:00:00 PM">2023-07-27</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-10T03:45:27.939Z" title="12/10/2023, 3:45:27 AM">2023-12-10</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">6 minutes read (About 864 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/07/27/Work/Programming/2-languageGrammar/python/pythonRegex/">PythonRegex</a></p><div class="content"><h2 id="pattern"><a href="#pattern" class="headerlink" title="pattern"></a>pattern</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">^	匹配字符串的开头</span><br><span class="line">$	匹配字符串的末尾。</span><br><span class="line">.	匹配任意字符，除了换行符</span><br><span class="line">a| b	匹配a或b</span><br><span class="line">[a-zA-Z0-9]	匹配任何字母及数字</span><br><span class="line">[aeiou]	匹配中括号内的任意一个字母</span><br><span class="line">[^aeiou]	除了aeiou字母以外的所有字符</span><br><span class="line">\w	匹配包括下划线的任何单词字符。等价于<span class="string">&#x27;[A-Za-z0-9_]&#x27;</span>。</span><br><span class="line">(\s*) 或者 ([\t ]*)     来匹配任意TAB和空格的混合字符</span><br><span class="line"></span><br><span class="line">\s	匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。</span><br><span class="line">\S	匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。</span><br><span class="line">\b	匹配一个单词边界，也就是指单词和空格间的位置。例如， <span class="string">&#x27;er\b&#x27;</span> 可以匹配<span class="string">&quot;never&quot;</span> 中的 <span class="string">&#x27;er&#x27;</span>，但不能匹配 <span class="string">&quot;verb&quot;</span> 中的 <span class="string">&#x27;er&#x27;</span>。</span><br><span class="line">\B	匹配非单词边界。<span class="string">&#x27;er\B&#x27;</span> 能匹配 <span class="string">&quot;verb&quot;</span> 中的 <span class="string">&#x27;er&#x27;</span>，但不能匹配 <span class="string">&quot;never&quot;</span> 中的 <span class="string">&#x27;er&#x27;</span>。</span><br></pre></td></tr></table></figure>

<h3 id="重复"><a href="#重复" class="headerlink" title="重复"></a>重复</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">re*	匹配0个或多个的表达式。</span><br><span class="line">re+	匹配1个或多个的表达式。</span><br><span class="line">re?	匹配0个或1个由前面的正则表达式定义的片段，非贪婪方式</span><br><span class="line">re&#123; n&#125;	精确匹配 n 个前面表达式。</span><br><span class="line">        例如， o&#123;2&#125; 不能匹配 &quot;Bob&quot; 中的 &quot;o&quot;，</span><br><span class="line">        但是能匹配 &quot;food&quot; 中的两个 o。</span><br><span class="line">re&#123; n,&#125;	匹配 n 个前面表达式。</span><br><span class="line">        例如， o&#123;2,&#125; 不能匹配&quot;Bob&quot;中的&quot;o&quot;，</span><br><span class="line">        但能匹配 &quot;foooood&quot;中的所有 o。</span><br><span class="line">        &quot;o&#123;1,&#125;&quot; 等价于 &quot;o+&quot;。</span><br><span class="line">        &quot;o&#123;0,&#125;&quot; 则等价于 &quot;o*&quot;。</span><br><span class="line">re&#123; n, m&#125;	匹配 n 到 m 次由前面的正则表达式定义的片段，贪婪方式</span><br></pre></td></tr></table></figure>

<h3 id="match-exactlly-str"><a href="#match-exactlly-str" class="headerlink" title="match exactlly str"></a>match exactlly str</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># find should use \ to represent the (6|12|3)</span></span><br><span class="line">$ find ~/github/gapbs/ -<span class="built_in">type</span> f -regex <span class="string">&#x27;.*/kron-\(6\|12\|3\).*&#x27;</span></span><br><span class="line">/staff/shaojiemike/github/gapbs/kron-12.wsg</span><br><span class="line">/staff/shaojiemike/github/gapbs/kron-3.sg</span><br><span class="line">/staff/shaojiemike/github/gapbs/kron-3.wsg</span><br><span class="line">/staff/shaojiemike/github/gapbs/kron-6.sg</span><br><span class="line">/staff/shaojiemike/github/gapbs/kron-6.wsg</span><br></pre></td></tr></table></figure>

<h2 id="re-match与re-search的区别"><a href="#re-match与re-search的区别" class="headerlink" title="re.match与re.search的区别"></a>re.match与re.search的区别</h2><p>re.match只匹配字符串的<strong>开始</strong>，如果字符串<strong>开始不符合</strong>正则表达式，则匹配失败，函数返回None；</p>
<p>而re.search匹配<strong>整个字符串</strong>，直到找到<strong>一个</strong>匹配。</p>
<h2 id="re-match函数"><a href="#re-match函数" class="headerlink" title="re.match函数"></a>re.match函数</h2><p>从字符串的起始位置匹配</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.match(pattern, string, flags=0)</span><br></pre></td></tr></table></figure>
<h3 id="flags"><a href="#flags" class="headerlink" title="flags"></a>flags</h3><p>多个标志可以通过按位 <code>OR(|)</code> 它们来指定。如 <code>re.I | re.M</code>被设置成 I 和 M 标志：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">re.I	使匹配对大小写不敏感</span><br><span class="line">re.M	多行匹配，影响 ^ 和 $</span><br><span class="line">re.S	使 . 匹配包括换行在内的所有字符</span><br></pre></td></tr></table></figure>
<h3 id="group"><a href="#group" class="headerlink" title="group"></a>group</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">matchObj = re.<span class="keyword">match</span>( <span class="string">r&#x27;(.*) are (.*?) .*&#x27;</span>, line, re.M|re.I)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> matchObj:</span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;matchObj.group() : &quot;</span>, matchObj.group()</span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;matchObj.group(1) : &quot;</span>, matchObj.group(<span class="number">1</span>)</span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;matchObj.group(2) : &quot;</span>, matchObj.group(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;No match!!&quot;</span></span><br></pre></td></tr></table></figure>

<p>打印部分内容</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">matchObj.group() :  Cats are smarter than dogs</span><br><span class="line">matchObj.group(<span class="number">1</span>) :  Cats</span><br><span class="line">matchObj.group(<span class="number">2</span>) :  smarter</span><br></pre></td></tr></table></figure>

<h2 id="re-sub-替换"><a href="#re-sub-替换" class="headerlink" title="re.sub 替换"></a>re.sub 替换</h2><h2 id="findall"><a href="#findall" class="headerlink" title="findall"></a>findall</h2><p>返回元组，可以指定开始，与结束位置。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = re.findall(<span class="string">r&#x27;(\w+)=(\d+)&#x27;</span>, <span class="string">&#x27;set width=20 and height=10&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment"># [(&#x27;width&#x27;, &#x27;20&#x27;), (&#x27;height&#x27;, &#x27;10&#x27;)]</span></span><br></pre></td></tr></table></figure>
<h3 id="实例：objdump结果只提取汇编的命令"><a href="#实例：objdump结果只提取汇编的命令" class="headerlink" title="实例：objdump结果只提取汇编的命令"></a>实例：objdump结果只提取汇编的命令</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> re      </span><br><span class="line"><span class="comment"># 打开x86汇编代码文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(assembly) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="comment"># 读取文件内容</span></span><br><span class="line">        content = f.read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用正则表达式匹配所有汇编指令，</span></span><br><span class="line">pattern = <span class="string">r&#x27;\b([a-zA-Z]&#123;3,6&#125;)\b.*&#x27;</span></span><br><span class="line"><span class="comment"># 匹配pattern，但是只将()内结果保存在matches中</span></span><br><span class="line">matches = re.findall(pattern, content)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出匹配结果</span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">match</span> <span class="keyword">in</span> matches:</span><br><span class="line">        <span class="built_in">print</span>(<span class="keyword">match</span>)</span><br></pre></td></tr></table></figure>

<h2 id="re-split"><a href="#re-split" class="headerlink" title="re.split"></a>re.split</h2><h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39594191/article/details/111611346">https://blog.csdn.net/weixin_39594191/article/details/111611346</a></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/python/python-reg-expressions.html">https://www.runoob.com/python/python-reg-expressions.html</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-07-23T16:00:00.000Z" title="7/23/2023, 4:00:00 PM">2023-07-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-10T03:45:27.939Z" title="12/10/2023, 3:45:27 AM">2023-12-10</time></span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">11 minutes read (About 1621 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/07/23/Work/Programming/2-languageGrammar/python/pythonClass/">Python Class</a></p><div class="content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Python从设计之初就已经是一门面向对象的语言，正因为如此，在Python中创建一个类和对象是很容易的。</p>
<h2 id="面向对象技术简介"><a href="#面向对象技术简介" class="headerlink" title="面向对象技术简介"></a>面向对象技术简介</h2><ul>
<li><p>类(Class): 用来描述具有相同的属性和方法的对象的集合。它定义了该集合中每个对象所共有的属性和方法。对象是类的实例。</p>
</li>
<li><p>实例化：创建一个类的实例，类的具体对象。</p>
</li>
<li><p>方法：类中定义的函数。</p>
<ul>
<li>方法重写：如果从父类继承的方法不能满足子类的需求，可以对其进行改写，这个过程叫方法的覆盖（override），也称为方法的重写。</li>
<li>继承：即一个派生类（derived class）继承基类（base class）的字段和方法。继承也允许把一个派生类的对象作为一个基类对象对待。例如，有这样一个设计：一个Dog类型的对象派生自Animal类，这是模拟”是一个（is-a）”关系（例图，Dog是一个Animal）。</li>
</ul>
</li>
<li><p>对象：通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。</p>
<ul>
<li>类变量：类变量在整个实例化的对象中是公用的。类变量定义在类中且在函数体之外。类变量通常不作为实例变量使用。</li>
<li>实例变量：在类的声明中，属性是用变量来表示的。这种变量就称为实例变量，是在类声明的内部但是在类的其他成员方法之外声明的。</li>
</ul>
</li>
</ul>
<h3 id="何时使用类"><a href="#何时使用类" class="headerlink" title="何时使用类"></a>何时使用类</h3><ol>
<li>数据与操作紧密相关</li>
<li>对象有许多状态需要维护,可以使用类中的属性来保存状态。</li>
<li>需要生成多个仅在部分属性不同的实例,可以使用类作为模板。</li>
<li>不同对象存在公共parent-child的层次关系,可以使用继承来复用代码。</li>
<li>隐藏对象的实现细节,只对外公开接口。</li>
</ol>
<h3 id="类变量-与-实例变量"><a href="#类变量-与-实例变量" class="headerlink" title="类变量 与 实例变量"></a>类变量 与 实例变量</h3><p>在Python中,类变量和实例变量是两个不同的概念:</p>
<ol>
<li>类变量(Class Variable)</li>
</ol>
<ul>
<li>定义在类内部,但不在任何方法之内</li>
<li>被该类的所有实例对象所<strong>共享</strong></li>
<li>可以通过类名或实例对象访问</li>
<li>用于定义与这个类相关的特征或属性</li>
</ul>
<ol start="2">
<li>实例变量(Instance Variable)</li>
</ol>
<ul>
<li>定义在类内部的方法之内</li>
<li>每个实例对象拥有<strong>属于自己的变量副本</strong></li>
<li>只能通过实例对象访问</li>
<li>用于定义实例对象的个性化特征或状态</li>
</ul>
<p>例如:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line"></span><br><span class="line">    species = <span class="string">&#x27;Human&#x27;</span> <span class="comment"># 类变量</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name <span class="comment"># 实例变量</span></span><br><span class="line"></span><br><span class="line">p1 = Person(<span class="string">&#x27;John&#x27;</span>)</span><br><span class="line">p2 = Person(<span class="string">&#x27;Mary&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(p1.species) <span class="comment"># Human</span></span><br><span class="line"><span class="built_in">print</span>(p2.species) <span class="comment"># Human </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(p1.name) <span class="comment"># John </span></span><br><span class="line"><span class="built_in">print</span>(p2.name) <span class="comment"># Mary</span></span><br></pre></td></tr></table></figure>

<p>综上,类变量用于定义类的通用属性,实例变量用于定义实例的独特属性。区分二者是理解Python面向对象的关键。</p>
<h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>:</span><br><span class="line">   <span class="string">&#x27;所有员工的基类&#x27;</span></span><br><span class="line">   empCount = <span class="number">0</span> <span class="comment"># 类变量</span></span><br><span class="line"> </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, salary</span>):</span><br><span class="line">      self.name = name</span><br><span class="line">      self.salary = salary</span><br><span class="line">      Employee.empCount += <span class="number">1</span></span><br><span class="line">   </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">displayCount</span>(<span class="params">self</span>):</span><br><span class="line">     <span class="built_in">print</span> <span class="string">&quot;Total Employee %d&quot;</span> % Employee.empCount</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">displayEmployee</span>(<span class="params">self</span>):</span><br><span class="line">      <span class="built_in">print</span> <span class="string">&quot;Name : &quot;</span>, self.name,  <span class="string">&quot;, Salary: &quot;</span>, self.salary</span><br></pre></td></tr></table></figure>

<h3 id="类函数必有参数-‘self’"><a href="#类函数必有参数-‘self’" class="headerlink" title="类函数必有参数 ‘self’"></a>类函数必有参数 ‘self’</h3><p>必须有一个额外的第一个参数名称, 按照惯例它的名称是 self，self 不是 python 关键字，换成其他词语也行。</p>
<h2 id="创建实例对象与访问"><a href="#创建实例对象与访问" class="headerlink" title="创建实例对象与访问"></a>创建实例对象与访问</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">emp1 = Employee(<span class="string">&quot;Zara&quot;</span>, <span class="number">2000</span>)</span><br><span class="line">emp1.displayEmployee()</span><br></pre></td></tr></table></figure>

<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>通过继承创建的新类称为子类或派生类，被继承的类称为基类、父类或超类。</p>
<p>继承语法 <code>class 派生类名(基类名)</code></p>
<h3 id="调用基类"><a href="#调用基类" class="headerlink" title="调用基类"></a>调用基类</h3><p>调用基类的方法时，需要加上基类的类名前缀，且需要带上 self 参数变量。区别在于类中调用普通函数时并不需要带上 self 参数<br>,这点在代码上的区别如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">base_method</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base method&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">derived_method</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 调用基类方法要加类名前缀</span></span><br><span class="line">        Base.base_method(self)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 调用普通函数</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Hello&quot;</span>)  </span><br><span class="line">        </span><br><span class="line">d = Derived()</span><br><span class="line">d.derived_method()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line">Base method  </span><br><span class="line">Hello</span><br></pre></td></tr></table></figure>

<p>在Derived类中:</p>
<ul>
<li><p>调用Base基类的方法base_method(),需要写成Base.base_method(self)</p>
</li>
<li><p>调用普通函数print(),直接写函数名即可</p>
</li>
</ul>
<p>区别在于:</p>
<ul>
<li>调用基类方法需要指明方法所属的基类</li>
<li>基类方法需要传入self,指代实例自己</li>
</ul>
<p>而对于普通函数,只需要直接调用即可,不需要self参数。</p>
<p>这与Python的名称空间和面向对象实现有关,是理解Python类继承的关键点。</p>
<h2 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">__init__ : 构造函数，在生成对象时调用</span><br><span class="line">__del__ : 析构函数，释放对象时使用</span><br><span class="line">__repr__ : 打印，转换</span><br><span class="line">__setitem__ : 按照索引赋值</span><br><span class="line">__getitem__: 按照索引获取值</span><br><span class="line">__len__: 获得长度</span><br><span class="line">__cmp__: 比较运算</span><br><span class="line">__call__: 函数调用</span><br><span class="line">__add__: 加运算</span><br><span class="line">__sub__: 减运算</span><br><span class="line">__mul__: 乘运算</span><br><span class="line">__truediv__: 除运算</span><br><span class="line">__mod__: 求余运算</span><br><span class="line">__pow__: 乘方</span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title="+&#x3D;"></a>+&#x3D;</h3><p>在Python中可以通过特殊方法__iadd__来对+&#x3D;符号进行重载。</p>
<p>__iadd__需要定义在类中,用于指定+&#x3D;操作时的具体行为。例如:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Vector</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, x, y</span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iadd__</span>(<span class="params">self, other</span>):</span><br><span class="line">        self.x += other.x</span><br><span class="line">        self.y += other.y</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">v1 = Vector(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">v2 = Vector(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">v1 += v2</span><br><span class="line"><span class="built_in">print</span>(v1.x, v1.y) <span class="comment"># 4, 6</span></span><br></pre></td></tr></table></figure>

<p>这里我们定义了__iadd__方法,用于实现两个Vector对象使用+&#x3D;时的相加操作。</p>
<p>__iadd__方法的参数是另一个要相加的对象,在方法内部我们实现了两个向量的分量相加,并返回self作为结果。这样就实现了+&#x3D;的运算符重载。</p>
<p>此外,Python还提供了__add__特殊方法用于重载+符号,但是__iadd__和__add__有以下区别:</p>
<ul>
<li>__add__返回一个新的对象,不改变原有对象。</li>
<li>__iadd__在原有对象的基础上进行操作,并返回对原对象的引用。</li>
</ul>
<p>所以对可变对象进行+&#x3D;操作时,通常需要实现__iadd__方法。</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>上面回答部分<strong>来自ChatGPT-3.5</strong>，没有进行正确性的交叉校验。</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/python/python-object.html">https://www.runoob.com/python/python-object.html</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-03-29T16:00:00.000Z" title="3/29/2022, 4:00:00 PM">2022-03-29</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-10T03:45:27.943Z" title="12/10/2023, 3:45:27 AM">2023-12-10</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">8 minutes read (About 1152 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/29/Work/Programming/2.2-parallel/pythonMPI/">Python MPI</a></p><div class="content"><h2 id="全局解释器锁（GIL-Global-Interpreter-Lock"><a href="#全局解释器锁（GIL-Global-Interpreter-Lock" class="headerlink" title="全局解释器锁（GIL,Global Interpreter Lock)"></a>全局解释器锁（GIL,Global Interpreter Lock)</h2><p>Python代码的执行由Python虚拟机（解释器）来控制。</p>
<p>对Python虚拟机的访问由全局解释器锁（GIL）来控制，正是这个锁能保证同时只有一个线程在运行。所以就会出现尽管你设置了多线程的任务，但是只能跑一个的情况。</p>
<p>但是I&#x2F;O密集的程序(爬虫)相对好一点，因为I&#x2F;O操作会调用内建的操作系统C代码，所以这时会释放GIL锁，达到部分多线程的效果。</p>
<p>通常我们用的解释器是官方实现的CPython，要真正利用多核，除非重写一个不带GIL的解释器。</p>
<h2 id="Python-鸡肋的多线程"><a href="#Python-鸡肋的多线程" class="headerlink" title="Python 鸡肋的多线程"></a>Python 鸡肋的多线程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from threading import Thread</span><br></pre></td></tr></table></figure>
<h2 id="Python-多进程正常实现"><a href="#Python-多进程正常实现" class="headerlink" title="Python 多进程正常实现"></a>Python 多进程正常实现</h2><p>通过多进程实现多核任务。多个Python进程有各自独立的GIL锁，互不影响。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from multiprocessing import Process</span><br></pre></td></tr></table></figure>

<h3 id="子进程调用实例"><a href="#子进程调用实例" class="headerlink" title="子进程调用实例"></a>子进程调用实例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">def TIMEOUT_COMMAND(command, timeout=10):</span><br><span class="line">    &quot;&quot;&quot;call shell-command and either return its output or kill it</span><br><span class="line">    if it doesn&#x27;t normally exit within timeout seconds and return None&quot;&quot;&quot;</span><br><span class="line">    import subprocess, datetime, os, time, signal</span><br><span class="line">    cmd = command.split(&quot; &quot;)</span><br><span class="line">    start = datetime.datetime.now()</span><br><span class="line">    process = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE,encoding=&quot;utf-8&quot;,preexec_fn=os.setsid) #让 Popen 成立自己的进程组</span><br><span class="line">    # https://www.cnblogs.com/gracefulb/p/6893166.html</span><br><span class="line">    # 因此利用这个特性，就可以通过 preexec_fn 参数让 Popen 成立自己的进程组， 然后再向进程组发送 SIGTERM 或 SIGKILL，中止 subprocess.Popen 所启动进程的子子孙孙。当然，前提是这些子子孙孙中没有进程再调用 setsid 分裂自立门户。</span><br><span class="line">    ic(&quot;BHive-noUseOSACA-before&quot;,process.pid,process.poll())</span><br><span class="line">    while process.poll() != 208: # poll()(好像BHive208是正常结束)返回0 正常结束， 1 sleep， 2 子进程不存在，-15 kill，None 在运行</span><br><span class="line">        ic(&quot;BHive-noUseOSACA-During&quot;,process.pid,process.poll())</span><br><span class="line">        time.sleep(0.2)</span><br><span class="line">        now = datetime.datetime.now()</span><br><span class="line">        if (now - start).seconds&gt; timeout:</span><br><span class="line">            # BHive有子进程，需要杀死进程组。但是需要新生成进程组，不然会把自己kill掉</span><br><span class="line">            os.killpg(os.getpgid(process.pid), signal.SIGKILL)</span><br><span class="line">            # os.killpg(process.pid, signal.SIGTERM) SIGTERM不一定会kill，可能会被忽略，要看代码实现</span><br><span class="line">            # https://blog.csdn.net/zhupenghui176/article/details/109097737</span><br><span class="line">            # os.waitpid(-1, os.WNOHANG)</span><br><span class="line">            (killPid,killSig) = os.waitpid(process.pid, 0)</span><br><span class="line">            if killPid != process.pid or killSig!=9:</span><br><span class="line">                errorPrint(&quot;TIMEOUT_COMMAND kill failed! killPid %d process.pid %d killSig %d&quot; % (killPid, process.pid, killSig))</span><br><span class="line">            ic(&quot;Killed&quot;,process.pid,process.poll())</span><br><span class="line">            return None</span><br><span class="line">    ic(&quot;BHive-noUseOSACA-Finished&quot;,process.pid,process.poll())</span><br><span class="line">    return process.stdout.readlines()</span><br></pre></td></tr></table></figure>
<h3 id="使用Queue或者Pipe通讯"><a href="#使用Queue或者Pipe通讯" class="headerlink" title="使用Queue或者Pipe通讯"></a>使用Queue或者Pipe通讯</h3><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/BHive-Prediction-Compare/blob/main/pythonTest/0326_newBar_qcjiang.py">https://github.com/Kirrito-k423/BHive-Prediction-Compare/blob/main/pythonTest/0326_newBar_qcjiang.py</a></p>
<h2 id="多核的解决方法：调用C语言的链接库"><a href="#多核的解决方法：调用C语言的链接库" class="headerlink" title="多核的解决方法：调用C语言的链接库"></a>多核的解决方法：调用C语言的链接库</h2><p>把一些计算密集型任务用C语言编写，然后把.so链接库内容加载到Python中，因为执行C代码，GIL锁会释放，这样一来，就可以做到每个核都跑一个线程的目的！</p>
<h2 id="进程池"><a href="#进程池" class="headerlink" title="进程池"></a>进程池</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from mpi4py import MPI</span><br></pre></td></tr></table></figure>

<h2 id="子进程实例"><a href="#子进程实例" class="headerlink" title="子进程实例"></a>子进程实例</h2><summary>python的子程序实现有问题，运行中，会有bhive-reg遗留下来（多达20个，需要按照下面手动kill，这也是核数建议为总核数的1/3的原因</summary>
<details>

<h3 id="check-process-create-time"><a href="#check-process-create-time" class="headerlink" title="check process create time"></a>check process create time</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -eo pid,lstart,cmd |grep bhive</span><br><span class="line">date</span><br></pre></td></tr></table></figure>
<h3 id="kill-all-process-by-name"><a href="#kill-all-process-by-name" class="headerlink" title="kill all process by name"></a>kill all process by name</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ps -ef | grep &#x27;bhive-re&#x27; | grep -v grep | awk &#x27;&#123;print $2&#125;&#x27; | sudo xargs -r kill -9</span><br></pre></td></tr></table></figure>

<h3 id="以为的原因"><a href="#以为的原因" class="headerlink" title="以为的原因"></a>以为的原因</h3><p>subProcess.pool 返回程序状态的时候，除了运行和结束状态，还有休眠等其他状态。也就是程序在发射之后并不是直接进入运行状态的。判断程序是否超时不能通过判断是否运行，因为一开始while循环进不去</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">while process.poll() is None:</span><br></pre></td></tr></table></figure>
<p>而应该是判断是否正常结束(208是BHive结束返回值，不同程序不同)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">while process.poll() != 208:</span><br></pre></td></tr></table></figure>
<h3 id="继续分析"><a href="#继续分析" class="headerlink" title="继续分析"></a>继续分析</h3><p>实际debug还是有<br><img src="https://pic.shaojiemike.top/img/20220625173740.png"></p>
<p>在debug输出里没有这些pid</p>
<p>check了，输出的个数是符合的。</p>
<p>不懂了，我都没调用，这僵尸进程哪里来的？除非是BHive产生的。</p>
<h3 id="实际原因"><a href="#实际原因" class="headerlink" title="实际原因"></a>实际原因</h3><p>调用的Bhive会产生子进程，原本的python实现不能杀死子进程的子进程。需要改用杀死进程组的实现</p>
<h3 id="杀死进程组"><a href="#杀死进程组" class="headerlink" title="杀死进程组"></a>杀死进程组</h3><p><img src="https://pic.shaojiemike.top/img/20220625185611.png"></p>
<p>可能设定是timeout是20秒，但是htop程序运行了2分钟也没有kill。这是正常的，因为主程序挤占资源导致挂起了，导致无法及时判断和kill</p>
</details>

<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>无</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-10-10T13:51:07.000Z" title="10/10/2021, 1:51:07 PM">2021-10-10</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-10T03:45:27.931Z" title="12/10/2023, 3:45:27 AM">2023-12-10</time></span><span class="level-item"><a class="link-muted" href="/categories/Artificial-Intelligence/">Artificial Intelligence</a></span><span class="level-item">3 minutes read (About 499 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/10/10/Work/Artificial%20Intelligence/Latent_Dirichlet_Allocation/">Latent Dirichlet Allocation (2003)</a></p><div class="content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>该篇论文于2003年发表在“Journal of Machine Learning Research”期刊上，迄今引用次数已超过15000次，可见该论文对后来相关研究工作的影响之大。</p>
<p>首次正式将主题以隐变量的形式引入，形成一个三层贝叶斯模型，并且相比于之前和它最接近的pLSI文本模型，LDA的主题选取不再受训练集文本内容的束缚，是一个完全非监督且依据多个主题进行聚类的机器学习、数据挖掘领域的算法。</p>
<h3 id="现实意义"><a href="#现实意义" class="headerlink" title="现实意义"></a>现实意义</h3><p>在推荐系统的研究中，利用<strong>评论文本信息</strong>来提升推荐性能是近3-4年的一个热门研究领域，LDA及其改良的文本模型则是用来挖掘评论文本的主要方式。</p>
<h2 id="早期文本模型"><a href="#早期文本模型" class="headerlink" title="早期文本模型"></a>早期文本模型</h2><ol>
<li>TF-IDF文本模型(矩阵表示)</li>
<li>LSI文本模型<img src="https://pic.shaojiemike.top/img/20211011201316.png"><ol>
<li>第一个子矩阵代表了词与主题的关系，第二个子矩阵代表了主题本身，第三个子矩阵代表了主题与文档之间的关系。</li>
</ol>
</li>
<li></li>
</ol>
<h2 id="LDA的建模介绍"><a href="#LDA的建模介绍" class="headerlink" title="LDA的建模介绍"></a>LDA的建模介绍</h2><ol>
<li>用来训练文档的是基本块</li>
<li>每条指令说word</li>
<li>柏松分布</li>
</ol>
<h2 id="用变分推理求解LDA模型的参数"><a href="#用变分推理求解LDA模型的参数" class="headerlink" title="用变分推理求解LDA模型的参数"></a>用变分推理求解LDA模型的参数</h2><p>最重要的是LDA模型的两个参数，确定了后能在未知的文本里提取主题</p>
<h2 id="Gensim简介、LDA编程实现、LDA主题提取效果图展示"><a href="#Gensim简介、LDA编程实现、LDA主题提取效果图展示" class="headerlink" title="Gensim简介、LDA编程实现、LDA主题提取效果图展示"></a>Gensim简介、LDA编程实现、LDA主题提取效果图展示</h2><ol>
<li>统计词语出现的频率</li>
<li>为什么例子里的没有迭代次数呢？</li>
<li>调研为什么要pytorch tenceflow</li>
</ol>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/28777266">https://zhuanlan.zhihu.com/p/28777266</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/fish0058/article/details/25075591">https://blog.csdn.net/fish0058/article/details/25075591</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/anqiu4023/article/details/102275607">https://blog.csdn.net/anqiu4023/article/details/102275607</a></p>
<p><a target="_blank" rel="noopener" href="https://pypi.python.org/pypi/lda">https://pypi.python.org/pypi/lda</a></p>
<p><a target="_blank" rel="noopener" href="http://scikit-learn.org/dev/modules/generated/sklearn.decomposition.LatentDirichletAllocation.html#sklearn.decomposition.LatentDirichletAllocation">http://scikit-learn.org/dev/modules/generated/sklearn.decomposition.LatentDirichletAllocation.html#sklearn.decomposition.LatentDirichletAllocation</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-07-25T06:23:39.000Z" title="7/25/2021, 6:23:39 AM">2021-07-25</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-12-10T03:45:27.951Z" title="12/10/2023, 3:45:27 AM">2023-12-10</time></span><span class="level-item"><a class="link-muted" href="/categories/network/">network</a></span><span class="level-item">2 minutes read (About 338 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/07/25/Work/network/example/webCrawler/">WebCrawler first try</a></p><div class="content"><h2 id="常见的仿站软件尝试"><a href="#常见的仿站软件尝试" class="headerlink" title="常见的仿站软件尝试"></a>常见的仿站软件尝试</h2><ol>
<li>wget -c -r -np -k -L -p 递归下载</li>
<li>webCopy</li>
<li>WinHTTrack</li>
<li>Octoparse</li>
<li>Teleport pro</li>
</ol>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>尝试后下载了一些html\css\js文件。但是没有达到我的要求。</p>
<p>我猜测的爬取原理，根据网站返回的index.html以及文件里指向的新文件路径进行递归下载。</p>
<p>这样的问题有：</p>
<ol>
<li>无法对json文件里指向的材质包路径进行递归下载</li>
<li>无法读取指定网站文件夹的目录，导致不知道文件夹里有什么文件<ol>
<li>假如有ftp:&#x2F;&#x2F;可能可以</li>
</ol>
</li>
</ol>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><ol>
<li>通过python实现对json文件里指向的材质包路径进行递归下载(感觉只能半自动)</li>
<li>读取指定网站文件夹的目录</li>
</ol>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><p>在找live2d模型的时候找到了 <a target="_blank" rel="noopener" href="https://github.com/Eikanya/Live2d-model">https://github.com/Eikanya/Live2d-model</a> ，然后其中有个HSO的demo网站<a target="_blank" rel="noopener" href="https://l2d.alg-wiki.com/%E3%80%82">https://l2d.alg-wiki.com/。</a></p>
<p>然后一开始我想在自己页面做一个仿站，后来了解后只想把他里面的live2d的材质数据、贴图等爬下来。但是遇到了几个问题。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a target="_blank" rel="noopener" href="https://www.shuzhiduo.com/A/E35pV9EAzv/">https://www.shuzhiduo.com/A/E35pV9EAzv/</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_52134263/article/details/110734304">python crawler</a></p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="Shaojie Tan"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shaojie Tan</p><p class="is-size-6 is-block">𝘊𝘰𝘮𝘱𝘶𝘵𝘦𝘳 𝘈𝘳𝘤𝘩𝘪𝘵𝘦𝘤𝘵𝘶𝘳𝘦 &amp; 𝘏𝘗𝘊</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Anhui, Hefei, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">361</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">29</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">481</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Kirrito-k423" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Kirrito-k423"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile" href="/categories/Artificial-Intelligence/"><span class="level-start"><span class="level-item">Artificial Intelligence</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Databases/"><span class="level-start"><span class="level-item">Databases</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/HPC/"><span class="level-start"><span class="level-item">HPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-system/"><span class="level-start"><span class="level-item">Operating system</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Treasure/"><span class="level-start"><span class="level-item">Treasure</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorials/"><span class="level-start"><span class="level-item">Tutorials</span></span><span class="level-end"><span class="level-item tag">118</span></span></a></li><li><a class="level is-mobile" href="/categories/Values/"><span class="level-start"><span class="level-item">Values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/diary/"><span class="level-start"><span class="level-item">diary</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/english/"><span class="level-start"><span class="level-item">english</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/hardware/"><span class="level-start"><span class="level-item">hardware</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/operating-system/"><span class="level-start"><span class="level-item">operating system</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/software/"><span class="level-start"><span class="level-item">software</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/thinking/"><span class="level-start"><span class="level-item">thinking</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/thinking/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/toLearn/"><span class="level-start"><span class="level-item">toLearn</span></span><span class="level-end"><span class="level-item tag">51</span></span></a></li><li><a class="level is-mobile" href="/categories/values/"><span class="level-start"><span class="level-item">values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://ibug.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ibugs</span></span><span class="level-right"><span class="level-item tag">ibug.io</span></span></a></li><li><a class="level is-mobile" href="https://jia.je/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jiegec</span></span><span class="level-right"><span class="level-item tag">jia.je</span></span></a></li><li><a class="level is-mobile" href="https://leimao.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">leimao</span></span><span class="level-right"><span class="level-item tag">leimao.github.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-08T13:13:26.000Z">2023-12-08</time></p><p class="title"><a href="/2023/12/08/OutOfWork/5-VideoEntertainment/CalibreAndItsPuginsForEhentaiBooks/">Calibre and its Pugins for e-hentai Books</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-07T12:34:56.000Z">2023-12-07</time></p><p class="title"><a href="/2023/12/07/OutOfWork/3-homepage/blogWebsiteBuilderOrSSG/dokuwiki/">Dokuwiki: </a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-06T08:10:02.000Z">2023-12-06</time></p><p class="title"><a href="/2023/12/06/OutOfWork/4-devices/nas/UgreenNas/">Ugreen Nas</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-03T09:31:21.000Z">2023-12-03</time></p><p class="title"><a href="/2023/12/03/OutOfWork/3-homepage/deployment/webDesign4customizeMarkdownGrammarInSSG/">Web Design 4 : Customize Markdown Grammar In SSG</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-30T21:48:21.000Z">2023-11-30</time></p><p class="title"><a href="/2023/11/30/OutOfWork/3-homepage/deployment/webDesign3FutureFeatures/">Web Design 3 : Future Features</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">222</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">67</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">72</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/5G/"><span class="tag">5G</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/64bits-vs-32bits/"><span class="tag">64bits vs 32bits</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMAT/"><span class="tag">AMAT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMD/"><span class="tag">AMD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ASPLOS/"><span class="tag">ASPLOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ATI/"><span class="tag">ATI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AVX/"><span class="tag">AVX</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Alpha/"><span class="tag">Alpha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analysis/"><span class="tag">Analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apt/"><span class="tag">Apt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BHive/"><span class="tag">BHive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BT/"><span class="tag">BT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BTL/"><span class="tag">BTL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Baka-Mitai/"><span class="tag">Baka Mitai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Big-Endian/"><span class="tag">Big-Endian</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a><p class="is-size-7"><span>&copy; 2023 Shaojie Tan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>