<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Tag: prefetch - Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hexo"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hexo"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Hexo"><meta property="og:url" content="http://icarus.shaojiemike.top/"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://icarus.shaojiemike.top/img/og_image.png"><meta property="article:author" content="Shaojie Tan"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://icarus.shaojiemike.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icarus.shaojiemike.top"},"headline":"Hexo","image":["http://icarus.shaojiemike.top/img/og_image.png"],"author":{"@type":"Person","name":"Shaojie Tan"},"publisher":{"@type":"Organization","name":"Hexo","logo":{"@type":"ImageObject","url":"http://icarus.shaojiemike.top/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">prefetch</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-07-26T16:00:00.000Z" title="7/26/2023, 4:00:00 PM">2023-07-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-11-12T15:56:43.002Z" title="11/12/2023, 3:56:43 PM">2023-11-12</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">33 minutes read (About 4953 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/07/26/Work/Architecture/cache/">Cache</a></p><div class="content"><h2 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h2><p>自1970s它们的诞生以来，基于微处理器的数字平台一直遵循着摩尔定律，即在相同面积上，大约每两年密度就翻一番。然而，微处理器和存储器制造技术一直在以两种截然相反的方式利用这种密度的增加。微处理器的制造技术专注于提高指令的执行速度，而存储器的制造技术则主要关注容量的提高，速度的增加可忽略不计。这种处理器和内存间的性能差异趋势导致了一种被称为<strong>“存储墙”</strong>的现象[1]。</p>
<p>为克服存储墙，设计者们引入了带有<strong>缓存</strong>（cache）的存储器体系层次（memory hierarchy），每层的延迟与容量都经过了权衡。缓存基于内存访问的局域性原理来缓解处理器与内存间的性能差距。但不幸的是，存在许多重要的工作负载会表现出不利的内存访问模式。这些模式会难住现代高速缓存层次结构中的简单更新策略（这些策略规定了指令和数据在缓存层次间移动的规则）。因此，对于在较高层缓存（L1、L2）中不存在的内存块，处理器往往需要花费大量时间获取它们。</p>
<p><strong>预取（prefetching</strong>）——预测未来的内存访问，并在处理器显式访问前对就相应内存块发出请求。——其作为一种隐藏内存访问延迟的方法是非常具有前途的。已经存在了大量用于预期的软硬件方法。<strong>许多针对简单存取模式的硬件预取机制已被纳入现代微处理器中，以预取指令与数据</strong>。</p>
<h2 id="cache缓存原理"><a href="#cache缓存原理" class="headerlink" title="cache缓存原理"></a>cache缓存原理</h2><p>Cortex-A53架构上各级cache之间的硬件抽象框图如下：<br><img src="https://pic.shaojiemike.top/img/1212111.png"></p>
<p><img src="https://pic.shaojiemike.top/img/20211209204150.png"></p>
<h2 id="每个机器对应的存储器山"><a href="#每个机器对应的存储器山" class="headerlink" title="每个机器对应的存储器山"></a>每个机器对应的存储器山</h2><p><img src="https://pic.shaojiemike.top/img/20211209204831.png"></p>
<p>stride步长意思是，相邻访问数据之间的间隔，越大空间局部性不好。</p>
<h2 id="缓存的结构"><a href="#缓存的结构" class="headerlink" title="缓存的结构"></a>缓存的结构</h2><h3 id="整体逻辑"><a href="#整体逻辑" class="headerlink" title="整体逻辑"></a>整体逻辑</h3><p>标记 tag 组索引 index 偏移 offset</p>
<p><img src="https://pic.shaojiemike.top/img/20221122170254.png"></p>
<h3 id="缓存的内容"><a href="#缓存的内容" class="headerlink" title="缓存的内容"></a>缓存的内容</h3><p>Skylake架构：</p>
<p>可以<a target="_blank" rel="noopener" href="http://www.cs.fsu.edu/~zwang/files/cda3101/Fall2017/Lecture12_cda3101.pdf">进一步阅读</a></p>
<p><img src="https://pic.shaojiemike.top/img/20230727110320.png"></p>
<ul>
<li><strong>Physically indexed, physically tagged (PIPT)</strong> caches use the physical address for both the index and the tag.<ul>
<li>Simple to implement but slow, as the physical address must be looked up (which could involve a TLB miss and access to main memory) before that address can be looked up in the cache.</li>
</ul>
</li>
<li><strong>Virtually indexed, virtually tagged (VIVT)</strong> caches use the virtual address for both the index and the tag.<ul>
<li>Potentially much faster lookups.</li>
<li>Problems when several different virtual addresses may refer to the same physical address（别名 Alias） – addresses would be cached separately despite referring to the same memory, causing coherency problems.</li>
<li>Additionally, there is a problem that virtual-to-physical mappings can change（比如，上下文切换时）, which would require clearing cache blocks.</li>
</ul>
</li>
<li><strong>Virtually indexed, physically tagged (VIPT)</strong> caches use the virtual address for the index and the physical address in the tag.<ul>
<li>To perform indexing with VA, virtual index bits should be same as physical index bits<br>and this happens when index is taken from page offset</li>
<li>cache associativity should be greater（有其他的标志位） than or equal to cache size divided by page size.For example, with 32KB L1 cache and 4KB page, associativity should be at least 8. This,however, increases cache energy consumption but may not provide corresponding miss rate reduction.</li>
<li><a target="_blank" rel="noopener" href="https://developer.arm.com/documentation/ddi0344/k/programmers-model/addresses-in-a-processor-system">Cortex-A8 设计</a>：L1 cache is virtual index physical tag. L2 cache is physical address physical tag.<ul>
<li>查找速度快：使用virtual page offset 来index索引与 physical tag的翻译能并行。所以能比PIPT快，</li>
<li>解决别名问题:使用物理地址作为tag,可以唯一标识缓存行,避免了VIVT中的别名问题。</li>
<li>缺点：Limitation is that one size of a VIPT cache can be no larger than the page size</li>
</ul>
</li>
<li>Intel L1 also VIPT[^1]</li>
</ul>
</li>
</ul>
<p>TLB的深入研究可以参考 <a target="_blank" rel="noopener" href="https://www.researchgate.net/publication/309583874_A_Survey_of_Techniques_for_Architecting_TLBs">2017 A_Survey_of_Techniques_for_Architecting_TLBs</a></p>
<h3 id="映射策略：直接映射-vs-N路组相联-vs-全相联-2"><a href="#映射策略：直接映射-vs-N路组相联-vs-全相联-2" class="headerlink" title="映射策略：直接映射 vs N路组相联 vs 全相联^2"></a>映射策略：直接映射 vs N路组相联 vs 全相联<a target="_blank" rel="noopener" href="https://shaojiemike.notion.site/CSAPP-6-62b5d68fadc54142b306d8c7a1d8e1d7">^2</a></h3><p><img src="https://pic.shaojiemike.top/img/20221122170944.png"></p>
<p><img src="https://pic.shaojiemike.top/img/20221122171207.png"></p>
<p><img src="https://pic.shaojiemike.top/img/20221122171154.png"></p>
<p>因为高速缓存电路必须并行地搜索许多相匹配的标记，构造一个又大又快的相联高速<br>缓存很困难，而且很昂贵。因此，全相联高速缓存只适合做小的高速缓存，例如虚拟内存<br>系统中的翻译备用缓冲器(TIB),它缓存页表项。</p>
<h3 id="Cache-placement-policies"><a href="#Cache-placement-policies" class="headerlink" title="Cache placement policies"></a>Cache placement policies</h3><p><img src="https://pic.shaojiemike.top/img/20211120101238.png"></p>
<p>Index corresponds to bits used to determine the set of the Cache.</p>
<h2 id="缓存数据策略：写回和写直达"><a href="#缓存数据策略：写回和写直达" class="headerlink" title="缓存数据策略：写回和写直达"></a>缓存数据策略：写回和写直达</h2><h3 id="RMW-cycle"><a href="#RMW-cycle" class="headerlink" title="RMW cycle"></a>RMW cycle</h3><p>写数据的时候，如果数据不在cache里，需要Read-Modify-Write，这个过程叫做RMW cycle。</p>
<h3 id="Write-Back-vs-Write-Through"><a href="#Write-Back-vs-Write-Through" class="headerlink" title="Write-Back vs Write-Through"></a>Write-Back vs Write-Through</h3><p>写直达有个<a target="_blank" rel="noopener" href="https://cs.stackexchange.com/questions/9221/does-the-write-through-cache-copies-the-whole-block-or-just-the-byte-which-is-up">问题</a>，到底是写修改的数据，还是写整个cache line？</p>
<p>来自美国东北大学的网址，结论是写整个cache line。</p>
<p><a target="_blank" rel="noopener" href="https://course.ccs.neu.edu/com3200/parent/NOTES/cache-basics.html">A write-through cache writes a <strong>cache block</strong> back immediately after the CPU write to the cache block.</a></p>
<p>A write-back cache writes the cache block back later.</p>
<h2 id="多核并行：缓存一致性协议"><a href="#多核并行：缓存一致性协议" class="headerlink" title="多核并行：缓存一致性协议"></a>多核并行：缓存一致性协议</h2><p>缓存一致性协议是为了解决多核或多处理器架构中,不同缓存之间的数据一致性问题而设计的协议。常见的缓存一致性协议包括:</p>
<h3 id="基于总线的一致性协议（Bus-based-Coherence-Protocol）"><a href="#基于总线的一致性协议（Bus-based-Coherence-Protocol）" class="headerlink" title="基于总线的一致性协议（Bus-based Coherence Protocol）"></a>基于总线的一致性协议（Bus-based Coherence Protocol）</h3><p>基于总线的一致性协议是另一种常见的共享缓存一致性协议。在这种协议中，处理器通过共享总线进行通信。当一个处理器修改了一个缓存块时，它将在总线上广播该操作，以通知其他处理器使其缓存无效或进行相应的更新。</p>
<p>基于总线的协议的一个优点是它的实现相对简单，并且不需要额外的存储结构（如目录）。然而，它在处理器之间共享总线时可能引入瓶颈，并且对总线带宽有一定的要求。</p>
<p>MESI协议<br>MESI协议是目前最常见的支持写回策略的缓存一致性协议。缓存行有四种状态:</p>
<ul>
<li>M(Modified):缓存行被修改,与主存数据不一致,该缓存行的拥有者负责将数据写回主存。</li>
<li>E(Exclusive):缓存行与主存一致,但其他缓存都没有该行的缓存副本。</li>
<li>S(Shared):多个缓存共享该缓存行的副本,与主存一致。</li>
<li>I(Invalid):缓存行无效。</li>
</ul>
<p>通过无效化、共享、独占状态的转换来保证一致性。</p>
<p>MOESI协议<br>在MESI基础上,增加了Owned状态,表示拥有该缓存行但未修改,其他缓存可共享该行。可以减少 writable line的传输。</p>
<p>Dragon协议<br>AMD的特色协议,通过向每个缓存行添加时间戳来Detect冲突并进行仲裁。</p>
<h3 id="基于目录的一致性协议（Directory-based-Coherence-Protocol）"><a href="#基于目录的一致性协议（Directory-based-Coherence-Protocol）" class="headerlink" title="基于目录的一致性协议（Directory-based Coherence Protocol）"></a>基于目录的一致性协议（Directory-based Coherence Protocol）</h3><p>基于目录的一致性协议是一种在共享存储系统中用于维护缓存一致性的方法。在这种协议中，有一个称为目录（directory）的数据结构，用于跟踪每个缓存块的状态和所在位置。目录记录了缓存块是否在本地缓存、是否被其他缓存拥有或共享等信息。当一个处理器想要访问某个缓存块时，它首先查询目录以确定当前状态，并根据需要与其他处理器进行通信来维护一致性。</p>
<p>基于目录的协议的一个优点是，它减少了处理器之间的通信量，因为缓存一致性信息存储在目录中，而不是每个缓存中。然而，它引入了额外的访问延迟，因为处理器需要与目录进行通信，以了解缓存块的状态和位置。</p>
<p>这种协议的主要优点是全局目录提供了整个系统缓存状态的全局视图,可以避免不必要的缓存间传输,实现高效的缓存一致性维护。典型的如Firefly缓存一致性协议。</p>
<p>但维护全局目录的开销也非常高,且目录可能成为热点。所以此类协议更适用于NUMA系统。</p>
<h2 id="多核并行的伪共享问题"><a href="#多核并行的伪共享问题" class="headerlink" title="多核并行的伪共享问题"></a>多核并行的伪共享问题</h2><p>类似cache写冲突，当多线程修改互相独立的变量时，如果这些变量共享同一个缓存行，就会无意中影响彼此的性能，这就是伪共享。</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/65394173">https://zhuanlan.zhihu.com/p/65394173</a></p>
<h3 id="避免伪共享"><a href="#避免伪共享" class="headerlink" title="避免伪共享"></a>避免伪共享</h3><p>伪共享的原理我们知道了，一个缓存行是 64 个字节，一个 long 类型是 8 个字节，所以避免伪共享也很简单，笔者总结了下大概有以下三种方式：</p>
<p>（1）在两个 long 类型的变量之间再加 7 个 long 类型<br>（2）重新创建自己的 long 类型，而不是 java 自带的 long<br>（3）使用 @sun.misc.Contended 注解（java8）</p>
<h2 id="预取"><a href="#预取" class="headerlink" title="预取"></a>预取</h2><h3 id="TLB-预取"><a href="#TLB-预取" class="headerlink" title="TLB 预取"></a>TLB 预取</h3><p>TLB 作为页表的缓存，为了提高命中率。也是有对应的预取技术的。</p>
<p>基于G. B. Kandiraju的文章</p>
<ul>
<li>Sequential Prefetching (SP)</li>
<li>Recency Prefetching</li>
<li>arbitrary stride prefetching, and markov prefetching<ul>
<li>马尔科夫链是一种随机过程，它具有”无记忆性”的特点，即当前状态只与前一个状态有关。在缓存预取中，可以使用马尔科夫链来建模程序的数据访问模式。根据先前的访问历史，马尔科夫链可以估计出下一个访问的数据位置，从而预测未来的数据访问模式。</li>
<li>然而，准确建立有效的马尔科夫链模型需要足够的历史数据和精确的预测算法。此外，马尔科夫链模型也需要根据程序的特性和访问模式进行定制化的调优，利用数据访问模式的统计特性来设计。</li>
</ul>
</li>
<li>Distance Prefetching</li>
</ul>
<h3 id="指令预取技术包括"><a href="#指令预取技术包括" class="headerlink" title="指令预取技术包括"></a>指令预取技术包括</h3><ul>
<li>next-line prefetchers（下一行预取）</li>
<li>branch-directed prefetching（分支定向的预取）</li>
<li>discontinuity prefetchers（不连续的预取）</li>
<li>temporal Instruction streaming（时间域上的存储流）</li>
</ul>
<h3 id="数据预取器包括"><a href="#数据预取器包括" class="headerlink" title="数据预取器包括"></a>数据预取器包括</h3><ul>
<li>stride and stream-based data prefetchers（基于跨步和流的数据预取器）</li>
<li>address-correlated prefetching（基于地址相关性的预取器）</li>
<li>spatially correlated prefetching（基于空间相关性的预取器）</li>
<li>execution-based prefetching（基于执行的预取）</li>
</ul>
<h2 id="数据预取-prefetch"><a href="#数据预取-prefetch" class="headerlink" title="数据预取 prefetch"></a>数据预取 prefetch</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>將memory中的数据在读写单元空闲時(计算單元努力工作時)平行下載，達到降低 cache miss latency 的效果。注意一般每一级Cache都有相应的硬件预取单元。</p>
<p>优秀的prefetch策略通常使用Coverage和Accuracy来衡量，前者为prefetching命中占总访存比例，后者为有效的prefetching在总prefetch请求中的比例。</p>
<p>一个理想的预取机制应该是</p>
<ol>
<li>高覆盖率，最大程度消除缓存缺失；</li>
<li>高准确率，不会增加过多的存储带宽消耗；</li>
<li>及时性，完全隐藏缓存缺失时延。</li>
</ol>
<p>特点</p>
<ol>
<li>prefetch 依抓取到資料的時間分類<ol>
<li>prefetch 資料太早到的話，要在 cache 中等很久，占位子，還可能被踢出去 。</li>
<li>太晚到的話，就達不到降低 latency 的效果</li>
</ol>
</li>
<li>根据prefetch数据存储的位置分<ol>
<li>“binding prefetch”指通过软件&#x2F;硬件机制直接预取到寄存器中</li>
<li>现代处理器多用”non-binding prefetching”，将数据预取到cache或cache结构中<strong>额外的buffer</strong>里面</li>
</ol>
</li>
<li>prefetch 是有額外開銷(over head)的<ol>
<li>prefetch 本身就是使用不同方式快取內容進行額外的補充，進行額外操作時就會消耗額外的有限資源，但如果這個補充的資料並沒有恰好被使用到則這些額外消耗的有限資源就都是浪費掉的，也就是所謂的快取污染。</li>
</ol>
</li>
</ol>
<h3 id="硬件预取"><a href="#硬件预取" class="headerlink" title="硬件预取"></a>硬件预取</h3><h4 id="触发时机"><a href="#触发时机" class="headerlink" title="触发时机"></a>触发时机</h4><p>在gem5 的学习时，<code>prefetch_on_access = Param.Bool(False,&quot;notify the hardware prefetcher on every access (not just misses)&quot;)</code> 貌似暗示了<a target="_blank" rel="noopener" href="https://gem5-users.gem5.narkive.com/seGGqCx3/about-prefetch-on-access-parameter">预取发生在cache miss时。</a></p>
<h4 id="几种基本策略"><a href="#几种基本策略" class="headerlink" title="几种基本策略"></a>几种基本策略</h4><p>动态观测程序的行为并产生相应的预取请求，这种方式称为硬件预取（hardware prefetching）。说简单些，就是用硬件根据某些规律去猜测处理器未来将要访问的数据地址。</p>
<ol>
<li>顺序预取（sequential prefetching）检测并预取对连续区域进行访问的数据。<ol>
<li>顺序预取是最简单的预取机制，因为总是预取当前cache line的下一条line，硬件开销小，但是对访存带宽的需求高。</li>
</ol>
</li>
<li>步长预取（stride prefetching）检测并预取连续访问之间相隔s个缓存数据块的数据，其中s即是步长的大小。硬件实现需要使用访问预测表，记录访问的地址，步长以及访存指令的pc值。</li>
<li>流预取（stream prefetching）对流访问特征进行预取，流访问特征是指一段时间内程序访问的cache行地址呈现的规律，这种访问规律在科学计算和工程应用中广泛存在。硬件实现时，需要使用流识别缓冲记录一段时间内访存的cache行地址。预取引擎识别到流访问则进行预取。</li>
<li>关联预取（association based prefetching）利用访存地址之间存在的关联性进行预取。</li>
</ol>
<p>其他做法:</p>
<ol>
<li>GHB prefetcher : Global History Buffer，將 cache miss 的資料暫存起來，根據這些資料去選擇較佳的 prefetching method。採 FIFO ，可避免 stable data，提高精準度<ol>
<li>Data Cache Prefetching Using a Global History Buffer</li>
<li><img src="https://pic.shaojiemike.top/img/20220319203936.png"></li>
</ol>
</li>
<li>STR prefetcher : Stream buffers，將 cache miss 在記憶體中附近的連續資料放到 stream buffer 中，在假設常常用到都會放在一起的前提下，可以減少 cache miss 的情況。</li>
</ol>
<h4 id="hardware-prefetch-優點"><a href="#hardware-prefetch-優點" class="headerlink" title="hardware prefetch 優點"></a>hardware prefetch 優點</h4><ul>
<li>透過訓練，可以在執行時間做出適當的 prefetch 選擇</li>
<li>不增加指令，直接以硬體運作</li>
</ul>
<h4 id="hardware-prefetch-缺點-限制"><a href="#hardware-prefetch-缺點-限制" class="headerlink" title="hardware prefetch 缺點&#x2F;限制"></a>hardware prefetch 缺點&#x2F;限制</h4><ul>
<li>硬體受到資源限制，無法一次操作<strong>大量</strong>的 streams</li>
<li>stream <strong>太短</strong>沒有足夠的 cache misses 去做硬體的預取和載入有用的 cache block</li>
<li>因為硬體是有規則的拿取，如果要存取<strong>不規則</strong>的記憶體(資料結構)，會變得很複雜</li>
</ul>
<h3 id="软件预取"><a href="#软件预取" class="headerlink" title="软件预取"></a>软件预取</h3><p>透過編譯器或者直接在程式中插入 intrinsics，達到 prefetch 的效果，常見的有 intel SSE (Streaming SIMD Extensions) 、 AVX</p>
<h4 id="software-prefetch-優點"><a href="#software-prefetch-優點" class="headerlink" title="software prefetch 優點"></a>software prefetch 優點</h4><ul>
<li>不規則的記憶體存取</li>
<li>Cache Locality Hint 缓存位置提示?<ul>
<li>可以利用 hint 將資料放在適合的 cache level ，減少不同 level 之間造成 Latency</li>
<li>硬體只會將 prefetch 到的資料放在 LLC (last level cache)</li>
</ul>
</li>
<li>Loop Bounds<ul>
<li>由 loop unrolling, software pipelining, and using branch instructions 這幾個技巧，使得軟體的 prefetch 較硬體靈活</li>
</ul>
</li>
</ul>
<h4 id="software-prefetch-缺點"><a href="#software-prefetch-缺點" class="headerlink" title="software prefetch 缺點"></a>software prefetch 缺點</h4><ol>
<li>增加指令數量<ol>
<li>除了指令本身，每道指令都需要額外的計算記憶體位置</li>
</ol>
</li>
<li>Static Insertion<ol>
<li>無法在執行時間根據情況來做更好的調整</li>
</ol>
</li>
<li>改變程式結構<ol>
<li>為了使預取達到效果，有時候會做一些結構的修改，例如:迴圈的拆解(loop unrolling)，可能使可讀性下降</li>
</ol>
</li>
</ol>
<h3 id="硬件加软件预取-software-hardware-prefetch"><a href="#硬件加软件预取-software-hardware-prefetch" class="headerlink" title="硬件加软件预取 software + hardware prefetch"></a>硬件加软件预取 software + hardware prefetch</h3><p>同時採用 software 及 hardware prefetch ，兩者會互相影響，有加成的效果，也可能有負面的影響。</p>
<h4 id="software-hardware-prefetch-優點-正面影響"><a href="#software-hardware-prefetch-優點-正面影響" class="headerlink" title="software + hardware prefetch 優點&#x2F;正面影響"></a>software + hardware prefetch 優點&#x2F;正面影響</h4><ol>
<li>針對規則&#x2F;不規則的 stream 分別交給 hardware &#x2F; software prefetch，達到截長補短的正面效果</li>
<li>如果 software prefetch 的資料遲了， hardware prefetch 也能及時補上資料</li>
</ol>
<h4 id="software-hardware-prefetch-缺點-負面影響"><a href="#software-hardware-prefetch-缺點-負面影響" class="headerlink" title="software + hardware prefetch 缺點&#x2F;負面影響"></a>software + hardware prefetch 缺點&#x2F;負面影響</h4><ol>
<li>software prefetch 會減少能夠訓練 hardware prefetch 的資料，因為都已經 prefetch ， hardware prefetcher 就以為這些是不需要 prefetch 的資料</li>
<li>software prefetch 指令會觸發 hardware prefetch ，造成過早要求 prefetch</li>
<li>software prefetch 取到錯誤或多餘的資料時，會造成硬體上的負擔，降低效率</li>
</ol>
<h2 id="实践：详细cache参数分析"><a href="#实践：详细cache参数分析" class="headerlink" title="实践：详细cache参数分析"></a>实践：详细cache参数分析</h2><p><img src="https://pic.shaojiemike.top/img/20221122170254.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SYSNODE=/sys/devices/system/node</span><br><span class="line">grep <span class="string">&#x27;.*&#x27;</span> $SYSNODE/node*/cpu*/cache/index*<span class="comment">/* 2&gt;/dev/null | </span></span><br><span class="line"><span class="comment">    awk &#x27;-F[:/]&#x27; &#x27;&#123; printf &quot;%6s %6s %24s %s\n&quot; $6, $7, $9, $10, $11 ; &#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://pic.shaojiemike.top/img/20211120095544.png"><br>Data Cache 4路256组相联，每块64K &#x2F; (4*256) &#x3D;64字节(正好是一个cache line)。块偏移位b&#x3D;6(2^6&#x3D;64)，组索引s&#x3D;8(2^8&#x3D;256)，标记位t&#x3D;64-8-6&#x3D;50位。</p>
<p>每块能存64&#x2F;4&#x3D;16个int，L1总共能存(4*256*16)&#x3D;1024*16个int。（不考虑写回的话。</p>
<hr>
<p><img src="https://pic.shaojiemike.top/img/20211120095608.png"></p>
<p><img src="https://pic.shaojiemike.top/img/20211120100532.png"></p>
<p><code>coherency_line_size</code>-how many bytes are in a cache line, which is the unit in which memory is read and written to&#x2F;from main memory.</p>
<p><code>ways_of_associativity</code>-how many different cache slots a given line can be mapped to. Higher is better (it means you’re less likely to have a working set that is smaller than cache but can’t simultaneously be in cache because lots of data wants to be in the same cache lines), but is hard to implement, especially in the lower-level caches that have to be faster. 8 is pretty common for L1.</p>
<p>$$size&#x3D;ways_of_associativity<em>coherency_line_size</em>number_of_sets&#x2F;1024$$</p>
<p>但是这里对L3不对，很奇怪。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">128*15*2048/1024=3840</span><br><span class="line">49152/3840=256*192/2*15*128=192/15=64/5</span><br></pre></td></tr></table></figure>

<h3 id="lscpu"><a href="#lscpu" class="headerlink" title="lscpu"></a>lscpu</h3><p>是总共的cache大小</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">64/1024*96=6</span><br><span class="line">512/1024*94=48</span><br><span class="line">49152/1024*4=192</span><br></pre></td></tr></table></figure>

<p><img src="https://pic.shaojiemike.top/img/20211120101538.png"></p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>硬件预取技术导论《A Primer on Hardware Prefetching》<br><img src="https://pic.shaojiemike.top/img/20221114181529.png"></p>
<p>■■3 数据预取 Data Prefetching-</p>
<ul>
<li>■1 数据的跨步和流预取器 Stride and Stream Prefetchers for Data-</li>
<li>■2 基于地址相关性的预取器 Address-Correlating Prefetchers-<ul>
<li>1 跳转指针 Jump Pointers-</li>
<li>2 成对两者间的相关性 Pair-Wise Correlation-</li>
<li>3 马尔可夫预取器 Markov Prefetcher-</li>
<li>4 通过预取深度改善前瞻性 Improving Lookahead via Prefetch Depth-</li>
<li>5 通过死快预测改善前瞻性 Improving Lookahead via Dead Block Prediction-</li>
<li>6 片上存储器寻址的局限性 Addressing On-Chip Storage Limitations-</li>
<li>7 全局历史缓冲区 Global History Buffer-</li>
<li>8 流链 Stream Chaining-</li>
<li>9 时间域上的存储流 Temporal Memory Streaming-</li>
<li>10 不规则流的缓冲区 Irregular Stream Buffer-</li>
</ul>
</li>
<li>■3 基于空间相关性的预取器 Spatially Correlated Prefetching-<ul>
<li>1 Δ相关性查找 Delta-Correlated Lookup-</li>
<li>2 PC局域性&#x2F;Δ相关性的全局历史缓冲（GHB PC&#x2F;DC） Global History Buffer PC-Localized&#x2F;Delta-Correlating (GHB PC&#x2F;DC)-</li>
<li>3 代码相关性查找 Code-Correlated Lookup-</li>
<li>4 空间足迹预测 Spatial Footprint Predicction-</li>
<li>5 空间模式预测 Spatial Pattern Prediction-</li>
<li>6 隐形预取 Stealth Prefetching-</li>
<li>7 空间存储流 Spatial Memory Streaming-</li>
<li>8 时空存储流 Spatio-Temporal Memory Streaming-</li>
</ul>
</li>
<li>■4 基于执行的预取 Execution-Based Prefetching-<ul>
<li>1 算法汇总 Algorithm Summarization-</li>
<li>2 辅助内存和辅助内核的方法 Helper-Thread and Helper-Core Approaches-</li>
<li>3 超前执行 Run-Ahead Execution-</li>
<li>4 上下文恢复 Context Restoration-</li>
<li>5 计算分摊 Computation Spreading-</li>
</ul>
</li>
<li>■5 预取的调制与控制 Prefetch Modulation and Control-</li>
<li>■6 软件方法 Software Approaches</li>
</ul>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>G. B. Kandiraju and A. Sivasubramaniam, “Going the distance for TLB prefetching: an application-driven study,” Proceedings 29th Annual International Symposium on Computer Architecture, Anchorage, AK, USA, 2002, pp. 195-206, doi: 10.1109&#x2F;ISCA.2002.1003578.</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/31875174">知乎</a></p>
<p><a target="_blank" rel="noopener" href="https://www.findhao.net/easycoding/1694">https://www.findhao.net/easycoding/1694</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cache_placement_policies">https://en.wikipedia.org/wiki/Cache_placement_policies</a></p>
<p><a target="_blank" rel="noopener" href="https://hackmd.io/@Rance/Hy3KRm1CG?type=view">https://hackmd.io/@Rance/Hy3KRm1CG?type=view</a></p>
<p><a target="_blank" rel="noopener" href="https://aijishu.com/a/1060000000210697">https://aijishu.com/a/1060000000210697</a></p>
<p>[^1]: <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/49092541/which-cache-mapping-technique-is-used-in-intel-core-i7-processor">Which cache mapping technique is used in intel core i7 processor?</a></p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="Shaojie Tan"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shaojie Tan</p><p class="is-size-6 is-block">High-Performance Computing
Computer Architecture</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Anhui, Hefei, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">337</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">28</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">470</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Kirrito-k423" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Kirrito-k423"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://ibug.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ibugs</span></span><span class="level-right"><span class="level-item tag">ibug.io</span></span></a></li><li><a class="level is-mobile" href="https://jia.je/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jiegec</span></span><span class="level-right"><span class="level-item tag">jia.je</span></span></a></li><li><a class="level is-mobile" href="https://leimao.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">leimao</span></span><span class="level-right"><span class="level-item tag">leimao.github.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile" href="/categories/Artificial-Intelligence/"><span class="level-start"><span class="level-item">Artificial Intelligence</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Databases/"><span class="level-start"><span class="level-item">Databases</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/HPC/"><span class="level-start"><span class="level-item">HPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-system/"><span class="level-start"><span class="level-item">Operating system</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/OutOfWork/"><span class="level-start"><span class="level-item">OutOfWork</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Treasure/"><span class="level-start"><span class="level-item">Treasure</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorials/"><span class="level-start"><span class="level-item">Tutorials</span></span><span class="level-end"><span class="level-item tag">118</span></span></a></li><li><a class="level is-mobile" href="/categories/Values/"><span class="level-start"><span class="level-item">Values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/diary/"><span class="level-start"><span class="level-item">diary</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/english/"><span class="level-start"><span class="level-item">english</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/operating-system/"><span class="level-start"><span class="level-item">operating system</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/software/"><span class="level-start"><span class="level-item">software</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/thiking/"><span class="level-start"><span class="level-item">thiking</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/thinking/"><span class="level-start"><span class="level-item">thinking</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/toLearn/"><span class="level-start"><span class="level-item">toLearn</span></span><span class="level-end"><span class="level-item tag">46</span></span></a></li><li><a class="level is-mobile" href="/categories/values/"><span class="level-start"><span class="level-item">values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-12T15:27:51.000Z">2023-11-12</time></p><p class="title"><a href="/2023/11/12/OutOfWork/3-homepage/themeConfiguration/hexo-icarus/">Hexo Icarus Theme configuration</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-12T08:04:51.000Z">2023-11-12</time></p><p class="title"><a href="/2023/11/12/OutOfWork/2-selfLearning/AI-tools/openFreeMultimodelAITools/">Open &amp;Free Multimodel AI Tools</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-12T07:41:03.000Z">2023-11-12</time></p><p class="title"><a href="/2023/11/12/diary/3-EfficientLife/teamCooperation/">Team Cooperation</a></p><p class="categories"><a href="/categories/thinking/">thinking</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-11T09:55:04.000Z">2023-11-11</time></p><p class="title"><a href="/2023/11/11/OutOfWork/3-homepage/blogBuilder/hexo/">Hexo</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-11T00:19:53.000Z">2023-11-11</time></p><p class="title"><a href="/2023/11/11/OutOfWork/3-homepage/deployment/mediawiki2local/">Deploy Mediawiki to localhost</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">198</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">67</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">72</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/5G/"><span class="tag">5G</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/64bits-vs-32bits/"><span class="tag">64bits vs 32bits</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMAT/"><span class="tag">AMAT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMD/"><span class="tag">AMD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ASPLOS/"><span class="tag">ASPLOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ATI/"><span class="tag">ATI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AVX/"><span class="tag">AVX</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Alpha/"><span class="tag">Alpha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analysis/"><span class="tag">Analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apt/"><span class="tag">Apt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BHive/"><span class="tag">BHive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BT/"><span class="tag">BT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BTL/"><span class="tag">BTL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Baka-Mitai/"><span class="tag">Baka Mitai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Big-Endian/"><span class="tag">Big-Endian</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="is-size-7"><span>&copy; 2023 Shaojie Tan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>