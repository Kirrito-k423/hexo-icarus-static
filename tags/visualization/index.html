<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Tag: visualization - SHAOJIE&#039;S BOOK</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="SHAOJIE&#039;S BOOK"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="SHAOJIE&#039;S BOOK"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="SHAOJIE&#039;S BOOK"><meta property="og:url" content="http://icarus.shaojiemike.top/"><meta property="og:site_name" content="SHAOJIE&#039;S BOOK"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://icarus.shaojiemike.top/img/og_image.png"><meta property="article:author" content="Shaojie Tan"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://icarus.shaojiemike.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icarus.shaojiemike.top"},"headline":"SHAOJIE'S BOOK","image":["http://icarus.shaojiemike.top/img/og_image.png"],"author":{"@type":"Person","name":"Shaojie Tan"},"publisher":{"@type":"Organization","name":"SHAOJIE'S BOOK","logo":{"@type":"ImageObject","url":"http://icarus.shaojiemike.top/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">visualization</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-11-09T00:52:52.000Z" title="11/9/2023, 12:52:52 AM">2023-11-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-29T15:58:24.866Z" title="1/29/2024, 3:58:24 PM">2024-01-29</time></span><span class="level-item"><a class="link-muted" href="/categories/toLearn/">toLearn</a></span><span class="level-item">6 minutes read (About 929 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/11/09/Work/software/visualization/exampleGraph2learn/">Graph/diagram/visualization Examples Yet to Be Explored</a></p><div class="content"><p>!!! abstract “导言”</p>
<pre><code> Accumulation is key in all endeavors, and scientific data visualization is no exception.

 牢记几点：

 1. 颜色代表重要程度：艳红 &gt; 浅色红黄绿蓝 &gt; 灰色
 2. **主体字体**只有**黑白**两种颜色选择，不可能是彩色的。 
          1. 一定是加粗的，因为一些额外信息要区分为不加粗斜体。
          1. 对比的文字可能是彩色(红绿)，但是要加粗
          2. 一句话的几个关键字可以用彩色
 3. 主体对象 一定要填充 **颜色用于逻辑上的归类**，
        1. 很少用白色，但是有两种情况会用白色：1. 同逻辑的对象太多，用彩色太花。2. 对象不重要
 4. 主体对象 的边框 要么是黑色，要么是填充色的加深色
 5. 主体对象 之间的逻辑线， 一般是黑色和黑色注释
</code></pre></div><a class="article-more button is-small is-size-7" href="/2023/11/09/Work/software/visualization/exampleGraph2learn/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-10-15T16:00:00.000Z" title="10/15/2023, 4:00:00 PM">2023-10-15</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-29T15:58:24.866Z" title="1/29/2024, 3:58:24 PM">2024-01-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Tutorials/">Tutorials</a></span><span class="level-item">16 minutes read (About 2389 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/10/15/Work/software/visualization/pythonGraph/">Python Graph &amp; Visualization</a></p><div class="content"><h2 id="数据科学"><a href="#数据科学" class="headerlink" title="数据科学"></a>数据科学</h2><h3 id="基于任务的图表推荐"><a href="#基于任务的图表推荐" class="headerlink" title="基于任务的图表推荐"></a>基于任务的图表推荐</h3><ul>
<li>根据不同的任务选择最合适的图表分析</li>
<li>十种基础可视分析任务：<ul>
<li>找异常；找聚类；</li>
<li>找相关性；计算数值；</li>
<li>查看数据分布；找极值；</li>
<li>排序；获取数值；</li>
<li>过滤；决定数据范围。</li>
</ul>
</li>
<li>五种可视化形式在十种任务上的表现，<ul>
<li>散点图，表格数据，柱状图，折线图，饼状图</li>
</ul>
</li>
<li>其中的表现区分了准确率、时间和用户体验。<ul>
<li>其中左侧的图表优于右侧，上方的图表优于下方，</li>
<li>而箭头方向代表source A显著得优于target B。</li>
</ul>
</li>
</ul>
<p><img src="https://pic.shaojiemike.top/img/20230705225206.png"></p>
<h2 id="matplotlib"><a href="#matplotlib" class="headerlink" title="matplotlib"></a>matplotlib</h2><h3 id="基础语法与概念"><a href="#基础语法与概念" class="headerlink" title="基础语法与概念"></a>基础语法与概念</h3><h2 id="plotly"><a href="#plotly" class="headerlink" title="plotly"></a>plotly</h2><h2 id="matplotlib-VS-plotly"><a href="#matplotlib-VS-plotly" class="headerlink" title="matplotlib VS plotly"></a>matplotlib VS plotly</h2><ol>
<li>matplotlib can use custom color and line style</li>
<li>plotly is more easily to quickly built up.</li>
</ol>
<h2 id="基础语法与概念-1"><a href="#基础语法与概念-1" class="headerlink" title="基础语法与概念"></a>基础语法与概念</h2><h3 id="线性颜色柱的选择"><a href="#线性颜色柱的选择" class="headerlink" title="线性颜色柱的选择"></a>线性颜色柱的选择</h3><p><a target="_blank" rel="noopener" href="https://plotly.com/python/builtin-colorscales/">https://plotly.com/python/builtin-colorscales/</a></p>
<p>same in <a target="_blank" rel="noopener" href="https://matplotlib.org/stable/tutorials/colors/colormaps.html#sequential">matplotlib</a></p>
<p><img src="https://pic.shaojiemike.top/img/20230710182038.png"></p>
<h2 id="plt-show-转发图像到本地"><a href="#plt-show-转发图像到本地" class="headerlink" title="plt.show 转发图像到本地"></a>plt.show 转发图像到本地</h2><p>使用<a target="_blank" rel="noopener" href="https://dash.plotly.com/layout">Dash: A web application framework for your data.</a>, 默认部署在<code>localhost:8050</code>端口</p>
<p>本地机器打通ssh隧道</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -L 8050:127.0.0.1:8050 -vN -f -l shaojiemike 202.38.72.23</span><br></pre></td></tr></table></figure>

<h2 id="科研画图"><a href="#科研画图" class="headerlink" title="科研画图"></a>科研画图</h2><p>In scientific research plotting, it’s always bar charts instead of line charts.</p>
<p>Possible reasons:</p>
<ol>
<li>The visual footprint of point lines is relatively small compared to bar</li>
<li>Line charts are aggregated together when there is a meaningful comparison of data along the y-axis.</li>
</ol>
<h3 id="global-setting"><a href="#global-setting" class="headerlink" title="global setting"></a>global setting</h3><p>font things, Attention, global settings have higher priority to get work</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">matplotlib.rcParams.update(&#123;</span><br><span class="line">    <span class="string">&quot;pgf.texsystem&quot;</span>: <span class="string">&quot;pdflatex&quot;</span>,</span><br><span class="line">    <span class="string">&#x27;font.family&#x27;</span>: <span class="string">&#x27;serif&#x27;</span>,</span><br><span class="line">    <span class="comment"># &#x27;text.usetex&#x27;: True, # comment to support bold font in legend, and font will be bolder</span></span><br><span class="line">    <span class="comment"># &#x27;pgf.rcfonts&#x27;: False,</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h3><ol>
<li>picture size</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>figure size (adjust x,y tick distance)</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl</span></span><br><span class="line">fig.set_size_inches(w= <span class="number">0.5</span> * x_count * (group_count+<span class="number">1.5</span>), h=<span class="number">5.75</span> * <span class="number">0.8</span>) <span class="comment">#(8, 6.5)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly</span></span><br><span class="line">fig.update_layout(height=<span class="number">350</span>, width=<span class="number">50</span> * graph_data.size(),</span><br><span class="line">                  margin=<span class="built_in">dict</span>(b=<span class="number">10</span>, t=<span class="number">10</span>, l=<span class="number">20</span>, r=<span class="number">5</span>),</span><br><span class="line">                  bargap=<span class="number">0.2</span> <span class="comment"># x tick distance, 1 is the normalize-distance of adjacent bars</span></span><br><span class="line">                  )</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>relative position</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: Adjust the left margin to make room for the legend, left &amp; right chart vertical line position from [0,1]</span></span><br><span class="line">plt.subplots_adjust(left=<span class="number">0.1</span>, right=<span class="number">0.8</span>)</span><br></pre></td></tr></table></figure>

<h3 id="set-x-axis"><a href="#set-x-axis" class="headerlink" title="set x axis"></a>set x axis</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl:</span></span><br><span class="line">x = np.arange(<span class="built_in">len</span>(graph_data.x))  <span class="comment"># the label locations, [0, 1, 2, 3, 4, 5, 6, 7]</span></span><br><span class="line"><span class="comment"># set the bar move to arg1 with name arg2</span></span><br><span class="line">ax.set_xticks(x + (group_count-<span class="number">1</span>)*<span class="number">0.5</span>*width, graph_data.x)</span><br><span class="line">plt.xticks(fontsize=graph_data.fontsize+<span class="number">4</span>)</span><br><span class="line"><span class="comment"># Adjust x-axis limits to narrow the gap</span></span><br><span class="line">plt.xlim(-(<span class="number">0.5</span>+gap_count)*width, </span><br><span class="line">        x_count - <span class="number">1</span> + (group_count-<span class="number">1</span>)*width + (<span class="number">0.5</span>+gap_count)*width)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="set-y-axis"><a href="#set-y-axis" class="headerlink" title="set y axis"></a>set y axis</h3><ol>
<li>vertical grid line</li>
<li>dick size</li>
<li>and range size</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl</span></span><br><span class="line">ax.set_ylabel(yaxis_title, </span><br><span class="line">              fontsize=graph_data.fontsize,</span><br><span class="line">              fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line">plt.grid(<span class="literal">True</span>, which=<span class="string">&#x27;major&#x27;</span>,axis=<span class="string">&#x27;y&#x27;</span>, zorder=-<span class="number">1.0</span>) <span class="comment"># line and bar seems need to set zorder=10 to cover it</span></span><br><span class="line">plt.yticks(np.arange(<span class="number">0</span>, max_y ,<span class="number">10</span>), fontsize=graph_data.fontsize) <span class="comment"># step 10</span></span><br><span class="line">plt.yscale(<span class="string">&#x27;log&#x27;</span>,base=<span class="number">10</span>) <span class="comment"># or plt.yscale(&#x27;linear&#x27;)</span></span><br><span class="line">ax.set_ylim(<span class="number">0.1</span>, max_y)</span><br><span class="line"><span class="comment">## highlight selected y-label: https://stackoverflow.com/questions/73597796/make-one-y-axis-label-bold-in-matplotlib</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly</span></span><br><span class="line">fig.update_layout(</span><br><span class="line">      yaxis_range=[<span class="number">0</span>,maxY],                   </span><br><span class="line">      yaxis=<span class="built_in">dict</span>(</span><br><span class="line">          rangemode=<span class="string">&#x27;tozero&#x27;</span>,  <span class="comment"># Set the y-axis rangemode to &#x27;tozero&#x27;</span></span><br><span class="line">          dtick=maxY/<span class="number">10</span>,</span><br><span class="line">          gridcolor=<span class="string">&#x27;rgb(196, 196, 196)&#x27;</span>, <span class="comment"># grey</span></span><br><span class="line">          gridwidth=<span class="number">1</span>,</span><br><span class="line">      ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Bolden-Contour-Lines"><a href="#Bolden-Contour-Lines" class="headerlink" title="Bolden Contour Lines"></a>Bolden Contour Lines</h3><ol>
<li>Entire Figure</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl ?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly: Add a rectangle shape to cover the entire subplot area</span></span><br><span class="line">fig.add_shape(<span class="built_in">type</span>=<span class="string">&quot;rect&quot;</span>,</span><br><span class="line">            xref=<span class="string">&quot;paper&quot;</span>, yref=<span class="string">&quot;paper&quot;</span>,</span><br><span class="line">            x0=<span class="number">0</span>, y0=<span class="number">0</span>,</span><br><span class="line">            x1=<span class="number">1</span>, y1=<span class="number">1</span>,</span><br><span class="line">            line=<span class="built_in">dict</span>(color=<span class="string">&quot;black&quot;</span>, width=<span class="number">0.7</span>))</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>and Each Bar Within</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: Create a bar chart with bold outlines</span></span><br><span class="line">plt.bar(categories, values, edgecolor=<span class="string">&#x27;black&#x27;</span>, linewidth=2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly: ?</span></span><br></pre></td></tr></table></figure>

<h3 id="legend-box"><a href="#legend-box" class="headerlink" title="legend box"></a>legend box</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: </span></span><br><span class="line">ax.legend(loc=<span class="string">&#x27;upper left&#x27;</span>, ncols=<span class="number">3</span>, fontsize=graph_data.fontsize)</span><br><span class="line"><span class="comment"># legend out-of-figure, (1.02, 1) means anchor is upper right corner</span></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper left&#x27;</span>, bbox_to_anchor=(<span class="number">1.02</span>, <span class="number">1</span>), borderaxespad=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Calculate the legend width based on the figure width</span></span><br><span class="line">fig_size = plt.gcf().get_size_inches()</span><br><span class="line">fig_width = fig_size[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># Move the legend to the center above the ceiling line</span></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper center&#x27;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">1.1</span>), </span><br><span class="line">  ncol=<span class="number">2</span>,  <span class="comment"># ncol=2 to have labels in one line</span></span><br><span class="line">  frameon=<span class="literal">False</span>,  <span class="comment"># frameon=False removes the legend box outline</span></span><br><span class="line">  columnspacing=fig_width, <span class="comment"># distance between each label</span></span><br><span class="line">  handlelength=<span class="number">1.0</span>, <span class="comment"># label-box width (unit is text fontsize)</span></span><br><span class="line">  handleheight=<span class="number">1.0</span>, <span class="comment"># label-box heigh (unit is text fontsize)</span></span><br><span class="line">  prop=&#123;<span class="string">&#x27;size&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="string">&#x27;bold&#x27;</span>&#125; <span class="comment"># text fontsize          </span></span><br><span class="line">) </span><br></pre></td></tr></table></figure>

<h3 id="bar"><a href="#bar" class="headerlink" title="bar"></a>bar</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: white hugo hatch with black bar edge.</span></span><br><span class="line"><span class="comment"># Problem: because the bug of mpl. hatch color follow the edge color</span></span><br><span class="line"><span class="comment"># Solved: draw bar twice, first the white hugo hatch with white bar edge. Second empty figure with black bar edge.</span></span><br><span class="line"><span class="comment"># white doubel ref: https://stackoverflow.com/questions/38168948/how-to-decouple-hatch-and-edge-color-in-matplotlib</span></span><br><span class="line"><span class="comment"># ref2: https://stackoverflow.com/questions/71424924/how-to-change-the-edge-color-of-markers-patches-in-matplotlib-legend</span></span><br><span class="line">color_palette = [<span class="string">&#x27;black&#x27;</span>, (<span class="number">193</span>/<span class="number">255</span>, <span class="number">1</span>/<span class="number">255</span>, <span class="number">1</span>/<span class="number">255</span>), <span class="string">&#x27;w&#x27;</span>, (<span class="number">127</span>/<span class="number">255</span>, <span class="number">126</span>/<span class="number">255</span>, <span class="number">127</span>/<span class="number">255</span>), <span class="string">&#x27;blue&#x27;</span>]</span><br><span class="line">pattern_list = [<span class="string">&quot;&quot;</span>, <span class="string">&quot;/&quot;</span>, <span class="string">&quot;+&quot;</span>, <span class="string">&quot;\\&quot;</span>, <span class="string">&quot;x&quot;</span>]</span><br><span class="line">edgecolor_list = [<span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, (<span class="number">0</span>/<span class="number">255</span>, <span class="number">176</span>/<span class="number">255</span>, <span class="number">80</span>/<span class="number">255</span>), <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;w&#x27;</span>]</span><br><span class="line">    </span><br><span class="line">ax.bar(x + offset, measurement, width, label=species_name,</span><br><span class="line">                       color=color_palette[idx],</span><br><span class="line">                        hatch = pattern_list[idx],</span><br><span class="line">                        edgecolor=edgecolor_list[idx],</span><br><span class="line">                        linewidth=<span class="number">1</span>,</span><br><span class="line">                     )</span><br><span class="line">ax.bar(x + offset, measurement, width, label=species_name,</span><br><span class="line">            color = <span class="string">&quot;none&quot;</span>,</span><br><span class="line">            edgecolor=<span class="string">&#x27;black&#x27;</span>, linewidth=<span class="number">1</span>,</span><br><span class="line">              )</span><br><span class="line"><span class="comment"># related legend: https://stackoverflow.com/questions/71424924/how-to-change-the-edge-color-of-markers-patches-in-matplotlib-legend</span></span><br><span class="line">handles1, labels1 = ax.get_legend_handles_labels()</span><br><span class="line">plt.legend([handles1[<span class="number">2</span>*idx]+handles1[<span class="number">2</span>*idx+<span class="number">1</span>] <span class="keyword">for</span> idx <span class="keyword">in</span> <span class="built_in">range</span>(group_count)], </span><br><span class="line">            [labels1[<span class="number">2</span>*idx] <span class="keyword">for</span> idx <span class="keyword">in</span> <span class="built_in">range</span>(group_count)],  </span><br><span class="line">            loc=<span class="string">&#x27;upper center&#x27;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">1.12</span>), </span><br><span class="line">            ncol=group_count,  <span class="comment"># have labels in one line</span></span><br><span class="line">            frameon=<span class="literal">False</span>,</span><br><span class="line">            <span class="comment"># bbox_transform=plt.gcf().transFigure,</span></span><br><span class="line">            columnspacing=legend_width, </span><br><span class="line">            <span class="comment"># handlelength=1.0, </span></span><br><span class="line">            handleheight=<span class="number">1.2</span>, </span><br><span class="line">            prop=&#123;<span class="string">&#x27;size&#x27;</span>: graph_data.fontsize,</span><br><span class="line">                <span class="string">&#x27;weight&#x27;</span>: <span class="string">&#x27;heavy&#x27;</span>&#125;</span><br><span class="line">) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly: find the overflow</span></span><br><span class="line">overflow_pattern = [<span class="string">&quot;/&quot;</span> <span class="keyword">if</span> y &gt; maxY  <span class="keyword">else</span> <span class="string">&quot;&quot;</span> <span class="keyword">for</span> y <span class="keyword">in</span> entry[<span class="number">1</span>]]</span><br><span class="line">fig.add_bar(x=x,y=yList, </span><br><span class="line">    name=barName, </span><br><span class="line">    marker=<span class="built_in">dict</span>(</span><br><span class="line">        color=color_list[i],</span><br><span class="line">        pattern_shape = overflow_pattern,</span><br><span class="line">        line=<span class="built_in">dict</span>(color=<span class="string">&#x27;black&#x27;</span>, width=<span class="number">2</span>)</span><br><span class="line">        ),</span><br><span class="line">    textfont=<span class="built_in">dict</span>(size=graph_data.fontsize),</span><br><span class="line">)</span><br><span class="line"><span class="comment"># legend </span></span><br><span class="line">legend_num = <span class="built_in">len</span>( barDict.items())</span><br><span class="line">fig.update_layout(barmode=<span class="string">&quot;relative&quot;</span>, </span><br><span class="line"></span><br><span class="line">        <span class="comment"># legend_title=&quot;Legend Title&quot;,</span></span><br><span class="line">        legend = <span class="built_in">dict</span>(</span><br><span class="line">          entrywidthmode=<span class="string">&#x27;fraction&#x27;</span>, <span class="comment"># https://plotly.com/python/legend/</span></span><br><span class="line">          entrywidth= <span class="number">0.2</span>,</span><br><span class="line">          x=<span class="number">0.5</span> - <span class="number">0.5</span> * legend_num * <span class="number">0.2</span>,        <span class="comment"># Set x to 0.5 for the center</span></span><br><span class="line">          y=<span class="number">1.2</span>,       <span class="comment"># Set y to a value greater than 1 to move it above the plot</span></span><br><span class="line">          orientation=<span class="string">&quot;h&quot;</span>,  <span class="comment"># Display legend items in a single line</span></span><br><span class="line">        ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Out-box-text"><a href="#Out-box-text" class="headerlink" title="Out-box text"></a>Out-box text</h3><p>To draw symmetry chart, we need to special highlight the overflow bar number.</p>
<p>If the ancher point locate in the plot box, it’s easy to show text above the ceil line using <code>textposition=&quot;bottom&quot;</code> like option. In the opposite scenario, plotly and mathplotlib all will hide the out-box text.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># plotly</span></span><br><span class="line">fig.add_annotation(</span><br><span class="line">            x=[x[0][i],x[1][i]],  <span class="comment"># 注释的 x 坐标为 &quot;bc&quot;</span></span><br><span class="line">            y=min(maxY,entry),  <span class="comment"># 注释的 y 坐标为该列的最大值</span></span><br><span class="line">            text=f<span class="string">&quot;&#123;entry:.2f&#125;&quot;</span>,  <span class="comment"># 注释的文本内容</span></span><br><span class="line">            <span class="comment"># valign = &quot;bottom&quot;, # text position in text box(default invisible)</span></span><br><span class="line">            yanchor = <span class="string">&quot;bottom&quot;</span>, <span class="comment"># text box position relative to anchor</span></span><br><span class="line">            showarrow=False,  <span class="comment"># 显示箭头</span></span><br><span class="line">            <span class="comment"># bgcolor=&quot;rgba(255, 255, 255, 0.8)&quot;,  # 注释框背景颜色</span></span><br><span class="line">            font=dict(size=graph_data.fontsize+2)  <span class="comment"># 注释文本字体大小</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"><span class="comment"># mathplotlib</span></span><br><span class="line"><span class="comment"># Create labels for overflowed values</span></span><br><span class="line"><span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate(values):</span><br><span class="line">    <span class="keyword">if</span> value &gt; maxY:</span><br><span class="line">        ax.annotate(f<span class="string">&#x27;Overflow: &#123;value:.2f&#125;&#x27;</span>, (i, maxY), ha=<span class="string">&#x27;center&#x27;</span>, va=<span class="string">&#x27;bottom&#x27;</span>, fontsize=12)</span><br></pre></td></tr></table></figure>

<p>But mlb can write text out box.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ax.text(<span class="number">1</span>, -<span class="number">1.6</span>, <span class="string">&#x27;Increasing&#x27;</span>, ha=<span class="string">&quot;center&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># first parameter is text, xy is the anchor point, xytext is the text, </span></span><br><span class="line"><span class="comment"># xytext 2 xy is a relative distance</span></span><br><span class="line">ax.annotate(<span class="string">&#x27;yahaha&#x27;</span>, xy=(<span class="number">0</span>, -<span class="number">0.1</span>), xycoords=<span class="string">&#x27;axes fraction&#x27;</span>, xytext=(<span class="number">1</span>, -<span class="number">0.1</span>))</span><br></pre></td></tr></table></figure>

<h3 id="out-box-line"><a href="#out-box-line" class="headerlink" title="out-box line"></a>out-box line</h3><p>mathplotlib(mpl) can achieve this using <a target="_blank" rel="noopener" href="https://www.tutorialspoint.com/how-to-draw-a-line-outside-of-an-axis-in-matplotlib">ref</a>, but there are few blogs about plotly.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl: from 1*1 size full-graph (0.5,0.2) to point (1,0.8)</span></span><br><span class="line"><span class="comment"># transform=gcf().transFigure : gcf() stands for &quot;get current figure,&quot; and .transFigure indicates that the coordinates provided in [0.5, 0.5], [0, 1] are in figure-relative coordinates. This means that the line&#x27;s position is defined relative to the entire figure, not just the axes</span></span><br><span class="line"><span class="comment"># clip_on=False : This setting means that the line is not clipped at the edges of the axes. It allows the line to extend beyond the axes&#x27; boundaries.</span></span><br><span class="line"><span class="keyword">from</span> pylab <span class="keyword">import</span> *  </span><br><span class="line">plot([<span class="number">0.5</span>, <span class="number">1</span>], [<span class="number">0.2</span>, <span class="number">0.8</span>], color=<span class="string">&#x27;lightgreen&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, lw=<span class="number">1</span> ,transform=gcf().transFigure, clip_on=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># mpl: arrow from xy 2 xytext</span></span><br><span class="line"><span class="comment"># xycoords=&#x27;figure fraction&#x27; to Add annotation to the figure (full graph)</span></span><br><span class="line">ax.annotate(<span class="string">&#x27;&#x27;</span>, xy=(<span class="number">0</span>, -<span class="number">0.1</span>), xycoords=<span class="string">&#x27;axes fraction&#x27;</span>, xytext=(<span class="number">1</span>, -<span class="number">0.1</span>),\</span><br><span class="line">arrowprops=<span class="built_in">dict</span>(arrowstyle=<span class="string">&quot;-&gt;&quot;</span>, color=<span class="string">&#x27;violet&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="in-box-line"><a href="#in-box-line" class="headerlink" title="in-box line"></a>in-box line</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mpl:</span></span><br><span class="line">ax.axhline(y=<span class="number">12</span>, color=<span class="string">&#x27;red&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, label=<span class="string">&#x27;Horizontal Line at y=12&#x27;</span>)</span><br><span class="line">ax.axvline(x=<span class="number">3</span>, color=<span class="string">&#x27;green&#x27;</span>, linestyle=<span class="string">&#x27;-.&#x27;</span>, label=<span class="string">&#x27;Vertical Line at x=3&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plotly ref: https://plotly.com/python/horizontal-vertical-shapes/</span></span><br><span class="line">fig.add_vline(x=<span class="number">2.5</span>, line_width=<span class="number">3</span>, line_dash=<span class="string">&quot;dash&quot;</span>, line_color=<span class="string">&quot;green&quot;</span>) <span class="comment"># dot</span></span><br><span class="line">fig.add_hline(y=<span class="number">0.9</span>)</span><br></pre></td></tr></table></figure>

<h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><h3 id="气泡图"><a href="#气泡图" class="headerlink" title="气泡图"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/367038620">气泡图</a></h3><p><img src="https://pic.shaojiemike.top/img/20230710182119.png"></p>
<h3 id="二维无向图"><a href="#二维无向图" class="headerlink" title="二维无向图"></a>二维无向图</h3><p><a target="_blank" rel="noopener" href="https://plotly.com/python/network-graphs/?_ga=2.8340402.1688533481.1690427514-134975445.1688699347#create-network-graph">教程</a></p>
<h3 id="3D图"><a href="#3D图" class="headerlink" title="3D图"></a>3D图</h3><p><a target="_blank" rel="noopener" href="https://dash.plotly.com/layout">dash</a> + <a target="_blank" rel="noopener" href="https://towardsdatascience.com/how-to-create-dynamic-3d-scatter-plots-with-plotly-6371adafd14">plotly</a></p>
<p>如果防火墙是关闭的，你可以直接部署在external address上。使用<a target="_blank" rel="noopener" href="https://community.plotly.com/t/how-to-run-dash-on-a-public-ip/4796">docker也是可行的办法</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.run_server(debug=<span class="literal">True</span>, host=<span class="string">&#x27;202.38.72.23&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="3D-散点图，拟合曲面与网格图"><a href="#3D-散点图，拟合曲面与网格图" class="headerlink" title="3D 散点图，拟合曲面与网格图"></a>3D 散点图，拟合曲面与网格图</h3><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/sniper-pim/blob/main/src/manualTuning.py">实际案例</a></p>
<p><img src="https://pic.shaojiemike.top/img/20230710182814.png"></p>
<h3 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">X = [<span class="built_in">str</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> metricValue]</span><br><span class="line">Y = accuracyResult</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图片大小</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">10</span>, <span class="number">6</span>))  <span class="comment"># 指定宽度为10英寸，高度为6英寸</span></span><br><span class="line"></span><br><span class="line">plt.plot(X, Y, marker=<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Threshold Percentage(%)&#x27;</span>, fontsize=<span class="number">12</span>)  <span class="comment"># 设置x轴标签字体大小为12</span></span><br><span class="line">plt.ylabel(<span class="string">&#x27;Average Execution Time of Static Method&#x27;</span>, fontsize=<span class="number">12</span>)  <span class="comment"># 设置y轴标签字体大小为12</span></span><br><span class="line">plt.title(<span class="string">&#x27;Tuning load store pressure&#x27;</span>, fontsize=<span class="number">14</span>)  <span class="comment"># 设置标题字体大小为14</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(X)):</span><br><span class="line">    plt.text(X[i], Y[i], Y[i], </span><br><span class="line">        fontsize=<span class="number">10</span>, <span class="comment"># 设置文本字体大小为10</span></span><br><span class="line">        ha=<span class="string">&#x27;center&#x27;</span>, <span class="comment"># 设置水平对齐方式</span></span><br><span class="line">        va=<span class="string">&#x27;bottom&#x27;</span>)  <span class="comment"># 设置垂直对齐方式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存图片</span></span><br><span class="line">plt.savefig(glv._get(<span class="string">&quot;resultPath&quot;</span>) + <span class="string">f&quot;tuning/<span class="subst">&#123;tuningLabel&#125;</span>/loadStorePressure.png&quot;</span>, dpi=<span class="number">300</span>)  <span class="comment"># 设置dpi为300，可调整保存图片的分辨率</span></span><br><span class="line"></span><br><span class="line">plt.show()  <span class="comment"># 显示图片</span></span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure>

<h3 id="Heatmap"><a href="#Heatmap" class="headerlink" title="Heatmap"></a>Heatmap</h3><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/BHive-Prediction-Compare/blob/main/src/heatmap.py">实例</a></p>
<h3 id="Stacked-Bar-grouped-compare-bar"><a href="#Stacked-Bar-grouped-compare-bar" class="headerlink" title="Stacked Bar &amp; grouped compare bar"></a>Stacked Bar &amp; grouped compare bar</h3><p><a target="_blank" rel="noopener" href="https://github.com/Kirrito-k423/sniper-pim/blob/main/src/graph.py">Example</a></p>
<p><img src="https://pic.shaojiemike.top/img/20230710182255.png"></p>
<h3 id="Error-Bars"><a href="#Error-Bars" class="headerlink" title="Error Bars"></a>Error Bars</h3><p>在柱状图中，用于表示上下浮动的元素通常被称为<a target="_blank" rel="noopener" href="https://plotly.com/python/error-bars/#bar-chart-with-error-bars">“误差条”（Error Bars）</a>。误差条是用于显示数据点或柱状图中的不确定性或误差范围的线条或线段。它们在柱状图中以垂直方向延伸，可以显示上下浮动的范围，提供了一种可视化的方式来表示数据的变化或不确定性。误差条通常通过标准差、标准误差、<a target="_blank" rel="noopener" href="https://plotly.com/python/error-bars/#asymmetric-error-bars">置信区间</a>或其他统计指标来计算和表示数据的浮动范围。</p>
<p><a target="_blank" rel="noopener" href="https://community.plotly.com/t/unilateral-error-bars-in-stacked-bar-chart/76380">Errorbars + StackedBars</a> stacked 的过程中由于向上的error线的会被后面的Bar遮盖，然后下面的error线由于<code>arrayminus=[i-j for i,j in zip(sumList,down_error)]</code>导致大部分时间说负值，也不会显示。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">fig = go.Figure()</span><br><span class="line"></span><br><span class="line"> <span class="comment"># color from https://stackoverflow.com/questions/68596628/change-colors-in-100-stacked-barchart-plotly-python</span></span><br><span class="line"> color_list = [<span class="string">&#x27;rgb(29, 105, 150)&#x27;</span>, \</span><br><span class="line">             <span class="string">&#x27;rgb(56, 166, 165)&#x27;</span>, \</span><br><span class="line">    <span class="string">&#x27;rgb(15, 133, 84)&#x27;</span>,\</span><br><span class="line">          <span class="string">&#x27;rgb(95, 70, 144)&#x27;</span>]</span><br><span class="line"> sumList = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x[<span class="number">0</span>]))]</span><br><span class="line"> <span class="keyword">for</span> i, entry <span class="keyword">in</span> <span class="built_in">enumerate</span>( barDict.items()):</span><br><span class="line">  barName=entry[<span class="number">0</span>]</span><br><span class="line">  yList = entry[<span class="number">1</span>]</span><br><span class="line">  ic(sumList,yList)</span><br><span class="line">  sumList = [x + y <span class="keyword">for</span> x, y <span class="keyword">in</span> <span class="built_in">zip</span>(yList, sumList)]</span><br><span class="line">  fig.add_bar(x=x,y=yList, </span><br><span class="line">              name=barName, </span><br><span class="line">              text =[<span class="string">f&#x27;<span class="subst">&#123;val:<span class="number">.2</span>f&#125;</span>&#x27;</span> <span class="keyword">for</span> val <span class="keyword">in</span> yList], </span><br><span class="line">              textposition=<span class="string">&#x27;inside&#x27;</span>,</span><br><span class="line">              marker=<span class="built_in">dict</span>(color=color_list[i]),</span><br><span class="line">              error_y=<span class="built_in">dict</span>(</span><br><span class="line">    <span class="built_in">type</span>=<span class="string">&#x27;data&#x27;</span>,</span><br><span class="line">    symmetric=<span class="literal">False</span>,</span><br><span class="line">    color=<span class="string">&#x27;purple&#x27;</span>,</span><br><span class="line">    array=[i-j <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">zip</span>(up_error,sumList)],</span><br><span class="line">    arrayminus=[i-j <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">zip</span>(sumList,down_error)],</span><br><span class="line">       thickness=<span class="number">2</span>, width=<span class="number">10</span>),</span><br><span class="line">              textfont=<span class="built_in">dict</span>(size=<span class="number">8</span>)</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>

<h3 id="Candlestick"><a href="#Candlestick" class="headerlink" title="Candlestick"></a>Candlestick</h3><p>类似股票上下跳动的浮标被称为”Candlestick”（蜡烛图）或”OHLC”（开盘-最高-最低-收盘）图表。</p>
<h2 id="需要进一步的研究学习"><a href="#需要进一步的研究学习" class="headerlink" title="需要进一步的研究学习"></a>需要进一步的研究学习</h2><p>暂无</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>暂无</p>
<h2 id="开题缘由、总结、反思、吐槽"><a href="#开题缘由、总结、反思、吐槽" class="headerlink" title="开题缘由、总结、反思、吐槽~~"></a>开题缘由、总结、反思、吐槽~~</h2><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>上面回答部分<strong>来自ChatGPT-3.5</strong>，暂时没有校验其可靠性(看上去貌似说得通)。</p>
<p>[1] Saket, B., Endert, A. and Demiralp, Ç., 2018. <a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=8354901&tag=1">Task-based effectiveness of basic visualizations.IEEE transactions on visualization and computer graphics</a>,25(7), pp.2505-2512.</p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="Shaojie Tan"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Shaojie Tan</p><p class="is-size-6 is-block">𝘊𝘰𝘮𝘱𝘶𝘵𝘦𝘳 𝘈𝘳𝘤𝘩𝘪𝘵𝘦𝘤𝘵𝘶𝘳𝘦 &amp; 𝘏𝘗𝘊</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Anhui, Hefei, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">388</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">31</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">487</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Kirrito-k423" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Kirrito-k423"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithms/"><span class="level-start"><span class="level-item">Algorithms</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile" href="/categories/Artificial-Intelligence/"><span class="level-start"><span class="level-item">Artificial Intelligence</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Databases/"><span class="level-start"><span class="level-item">Databases</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/HPC/"><span class="level-start"><span class="level-item">HPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math/"><span class="level-start"><span class="level-item">Math</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/categories/Operating-system/"><span class="level-start"><span class="level-item">Operating system</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/Overview/"><span class="level-start"><span class="level-item">Overview</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Thinking/"><span class="level-start"><span class="level-item">Thinking</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Tips/"><span class="level-start"><span class="level-item">Tips</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Treasure/"><span class="level-start"><span class="level-item">Treasure</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorials/"><span class="level-start"><span class="level-item">Tutorials</span></span><span class="level-end"><span class="level-item tag">118</span></span></a></li><li><a class="level is-mobile" href="/categories/Values/"><span class="level-start"><span class="level-item">Values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/diary/"><span class="level-start"><span class="level-item">diary</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/english/"><span class="level-start"><span class="level-item">english</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/hardware/"><span class="level-start"><span class="level-item">hardware</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/operating-system/"><span class="level-start"><span class="level-item">operating system</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/software/"><span class="level-start"><span class="level-item">software</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/thinking/"><span class="level-start"><span class="level-item">thinking</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/thinking/OOW/"><span class="level-start"><span class="level-item">OOW</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/toLearn/"><span class="level-start"><span class="level-item">toLearn</span></span><span class="level-end"><span class="level-item tag">51</span></span></a></li><li><a class="level is-mobile" href="/categories/values/"><span class="level-start"><span class="level-item">values</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://ibug.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ibugs</span></span><span class="level-right"><span class="level-item tag">ibug.io</span></span></a></li><li><a class="level is-mobile" href="https://jia.je/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jiegec</span></span><span class="level-right"><span class="level-item tag">jia.je</span></span></a></li><li><a class="level is-mobile" href="https://leimao.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">leimao</span></span><span class="level-right"><span class="level-item tag">leimao.github.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-29T12:58:53.000Z">2024-01-29</time></p><p class="title"><a href="/2024/01/29/OutOfWork/5-VideoEntertainment/AnimeAutoChineseSubtitle/">Anime Auto add Chinese Subtitle</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-25T03:20:42.000Z">2024-01-25</time></p><p class="title"><a href="/2024/01/25/OutOfWork/5-VideoEntertainment/AnimeSuperResolutionFrame/">Anime Super Resolution to 4K &amp; Interpolation to 120 fps</a></p><p class="categories"><a href="/categories/OOW/">OOW</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-13T14:32:40.000Z">2024-01-13</time></p><p class="title"><a href="/2024/01/13/Thinking/2-courage2move/SocialScience/">Social Science</a></p><p class="categories"><a href="/categories/Thinking/">Thinking</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-13T12:15:22.000Z">2024-01-13</time></p><p class="title"><a href="/2024/01/13/Work/Architecture/FPGA/">FPGA</a></p><p class="categories"><a href="/categories/toLearn/">toLearn</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-13T08:02:52.000Z">2024-01-13</time></p><p class="title"><a href="/2024/01/13/Work/Architecture/workloadPriority/">Workload Characterization &amp; Priority &amp; Scheduler to CPU/GPU/PIM</a></p><p class="categories"><a href="/categories/Architecture/">Architecture</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/"><span class="level-start"><span class="level-item">2024</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">235</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">67</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">72</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/5G/"><span class="tag">5G</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/64bits-vs-32bits/"><span class="tag">64bits vs 32bits</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMAT/"><span class="tag">AMAT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AMD/"><span class="tag">AMD</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ASPLOS/"><span class="tag">ASPLOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ATI/"><span class="tag">ATI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AVX/"><span class="tag">AVX</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Alpha/"><span class="tag">Alpha</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analysis/"><span class="tag">Analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apt/"><span class="tag">Apt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BHive/"><span class="tag">BHive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BT/"><span class="tag">BT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BTL/"><span class="tag">BTL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Baka-Mitai/"><span class="tag">Baka Mitai</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Big-Endian/"><span class="tag">Big-Endian</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="SHAOJIE&#039;S BOOK" height="28"></a><p class="is-size-7"><span>&copy; 2024 Shaojie Tan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Kirrito-k423/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>